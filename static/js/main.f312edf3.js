/*! For license information please see main.f312edf3.js.LICENSE.txt */
!function(){var e={5270:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},4180:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},1232:function(e,t,n){var r=n(5270);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8111:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},2954:function(e){function t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},85:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3061:function(e,t,n){var r=n(742),i=n(1549);function a(t,n,o){return i()?(e.exports=a=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},5198:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3041:function(e,t,n){var r=n(6487);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},4564:function(e,t,n){var r=n(2588),i=n(1549),a=n(6983);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},1260:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3772:function(e,t,n){var r=n(6458);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},2588:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},270:function(e,t,n){var r=n(742);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4859:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},1477:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},1549:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},1557:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},981:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},7365:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1359:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},417:function(e,t,n){var r=n(1260);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},6983:function(e,t,n){var r=n(8921).default,i=n(8111);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6132:function(e,t,n){var r=n(8921).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}t.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(S([])));k&&k!==n&&a.call(k,u)&&(y=k);var b=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,u,s){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,l(b,"constructor",m),l(m,"constructor",v),v.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,u,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},742:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1068:function(e,t,n){var r=n(4180),i=n(981),a=n(6487),o=n(7365);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},6458:function(e,t,n){var r=n(2588);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},5109:function(e,t,n){var r=n(4180),i=n(1557),a=n(6487),o=n(7365);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5182:function(e,t,n){var r=n(1232),i=n(1557),a=n(6487),o=n(1359);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8921:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6487:function(e,t,n){var r=n(5270);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},8240:function(e,t,n){var r=n(2588),i=n(742),a=n(1477),o=n(3061);function u(t){var n="function"===typeof Map?new Map:void 0;return e.exports=u=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,u(t)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},19:function(e,t,n){var r,i,a=n(3061).default,o=n(5109).default,u=n(3772).default,s=n(2588).default,c=n(417).default,l=n(1260).default,f=n(6132).default,h=n(5182).default,d=n(2954).default,p=n(3041).default,v=n(1068).default,m=n(8111).default,y=n(270).default,g=n(4564).default,k=n(8240).default,b=n(85).default,w=n(5198).default;self,e.exports=(r=n(969),i=n(4618),function(){var e={132:function(e,t,n){var r=n(921).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(S([])));k&&k!==n&&a.call(k,u)&&(y=k);var b=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,u,s){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,l(b,"constructor",m),l(m,"constructor",v),v.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,u,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},921:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},162:function(e,t,n){e.exports=n(132)()},779:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},985:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(609),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".zH0ATq9xk8Ocy59iwuNB1A\\=\\=,.BK8ZunOOj2-Ddam9ICxbng\\=\\=,.q4ilOBYFey-xHSP4K0REWA\\=\\=,.mUfr9TUnz8yJe41RIRlttQ\\=\\=,.ke3k75UR4dBgTMb6giE66Q\\=\\=,.uyeG4-dQxFimMxWq\\+Fit2w\\=\\={width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width: 576px){.uyeG4-dQxFimMxWq\\+Fit2w\\=\\=,.zH0ATq9xk8Ocy59iwuNB1A\\=\\={max-width:540px}}@media(min-width: 768px){.ke3k75UR4dBgTMb6giE66Q\\=\\=,.uyeG4-dQxFimMxWq\\+Fit2w\\=\\=,.zH0ATq9xk8Ocy59iwuNB1A\\=\\={max-width:720px}}@media(min-width: 992px){.mUfr9TUnz8yJe41RIRlttQ\\=\\=,.ke3k75UR4dBgTMb6giE66Q\\=\\=,.uyeG4-dQxFimMxWq\\+Fit2w\\=\\=,.zH0ATq9xk8Ocy59iwuNB1A\\=\\={max-width:960px}}@media(min-width: 1200px){.q4ilOBYFey-xHSP4K0REWA\\=\\=,.mUfr9TUnz8yJe41RIRlttQ\\=\\=,.ke3k75UR4dBgTMb6giE66Q\\=\\=,.uyeG4-dQxFimMxWq\\+Fit2w\\=\\=,.zH0ATq9xk8Ocy59iwuNB1A\\=\\={max-width:1140px}}.mU-9cBIi0-EXo5ESixuFEg\\=\\={display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.EfJF4aZ6QSdtizcGN1NtUQ\\=\\={margin-right:0;margin-left:0}.EfJF4aZ6QSdtizcGN1NtUQ\\=\\=>.ZipjHnzKjAMLD7S4P-AIeA\\=\\=,.EfJF4aZ6QSdtizcGN1NtUQ\\=\\=>[class*=col-]{padding-right:0;padding-left:0}.U9pRm4BQiJBKv9MF4kAOKg\\=\\=,.ADYG\\+5p47kIEEH\\+yaXfy\\+g\\=\\=,.Db7w4RNONNwOnXowhIc8ng\\=\\=,.KJqaUhm8U0JsiYrD0Dxblw\\=\\=,._7mb0qz1gMBy5z3XE0MeR-A\\=\\=,.NtjNTxvO1eYDpJhzFSeJdw\\=\\=,._1Am5jpu2gSLbN3MT90ZpMA\\=\\=,.DXWl7vZG6Q1KwkWGUtJJow\\=\\=,.ZfbQVYuXDPgq2Cbch0k9UQ\\=\\=,.Jse2AIcAqQ-L735eOc6uYw\\=\\=,.qOSStLd0Hyd1qwpBfZxanA\\=\\=,._5avH3rVLZIii2JnGlH0m5Q\\=\\=,.mNn2fcJWYjkLtm-z6\\+bUVg\\=\\=,.lIzKgcg1REtDI9W1yCgcFw\\=\\=,.jnUU00B2-e9Wk5Nl\\+60mRQ\\=\\=,.mFyyeCKxpl8rS-wFzA1g3Q\\=\\=,.nMyj2gB5dgB1xHYwFVKq4A\\=\\=,.HWrIN7KCnt6SMcNMOEF-4A\\=\\=,.r6GfaPfTE4kyvZyJwdSBMQ\\=\\=,.rCheKtb6rNIH-zaXJpP6ug\\=\\=,._4TecnWoAdQL52Hg5pH6YaA\\=\\=,.mOssnXALpF8Hv5w9NvNA3A\\=\\=,.Tb3cUMCgwjG7rE1A9qO8NQ\\=\\=,._4bJUxD5N-qoDPvcpKja5rg\\=\\=,.aeLEVJFdHekIqk7vG2\\+LIA\\=\\=,.gcFAuaAKhVU\\+ZBDUs1B8NA\\=\\=,.GCfQVWfgvTZkudPSiKZapQ\\=\\=,.yL\\+-V3goVEWF4G56\\+fVSpw\\=\\=,.SAndS2rmgn1LM\\+xmrxMo3A\\=\\=,._3PoNYmEqLWaXkJqkWZuvpQ\\=\\=,.SSiAlLFwrQ-y2DsVPMR0\\+g\\=\\=,._0lyCk8Uqg\\+qv7dLIZnRIWw\\=\\=,.X61LVxdi46rBO\\+LqBAhW2w\\=\\=,.VutkSlfeGDl2CwGQeHEpiQ\\=\\=,.d2kC-cPROhgE2OS-VS9PWQ\\=\\=,.GAJHJb613QL1SKCvoX0rsA\\=\\=,.BvzDSniNJ-7POTt9dEWr7Q\\=\\=,.sxPnszhNCUxZNdkijnQv0w\\=\\=,.a\\+\\+6cr2IATxiR7HKXNyO-Q\\=\\=,.pC930OZ5M9ghgdsDRkSXpg\\=\\=,.sLgPvZpzYdERNGMmZDwBzg\\=\\=,.I1TjO4uXfBOZEQOj7LcH0Q\\=\\=,._0J2p1-4a4eeXHwfVNDXvyA\\=\\=,.ETgzICBgGqZZFbad3zd1iQ\\=\\=,._04z29a\\+pKI3n6S-JAvn7vw\\=\\=,.PzbxnJWUR8XrC6Xnte7ZYQ\\=\\=,.pv2I-4hHHe69Bxg9\\+0ZZsQ\\=\\=,._9RXcLzg\\+pZo3Cwrz83yRSw\\=\\=,.lPJUQqA3bLFaLX8D3BSPMg\\=\\=,.PJi-RjGoDTE3MS3r\\+VtOoQ\\=\\=,._81Sa1FQ1MemO7HT-Mj3VyQ\\=\\=,.SxQkADEuBayutwrCVJP-KQ\\=\\=,.fjhYf6QMOHJa0Tl6AEkczA\\=\\=,.EYU2Y32cbOUClbxlN10kCg\\=\\=,.jAlxb6sBoFTdSfqoBr3HFw\\=\\=,._37Ydx7aBIOywekZNlGZUxw\\=\\=,.ZipjHnzKjAMLD7S4P-AIeA\\=\\=,.uNq-eqcqSUkVVXsPzLt97A\\=\\=,.tFr78IcjpHYvtsP2UGZ6-w\\=\\=,.iy3Vywm2uTIwh0tDGAvf1w\\=\\=,.N\\+ugCnCSYMF3TpbGoOBERg\\=\\=,.JAJ6xO7RZVdaB\\+2XIVCOxQ\\=\\=,.ShEKWNabwH8Jiq0aPAfN8Q\\=\\=,.tOFwG0RlEsJUJhNSe-Sblw\\=\\=,.WN6ttuUog3lg8jvvQ4cHnw\\=\\=,.My8y6StUKr1a4IefPihaIg\\=\\=,.LkQvrAMt0HB3hleLf6FujQ\\=\\=,._73LK2iWnPaC1uWqHN6l--Q\\=\\=,._2IzytlEVczYfyYudEqtbLA\\=\\=,.pXwA5ZATshjIVHaCFAoC5w\\=\\={position:relative;width:100%;padding-right:15px;padding-left:15px}.ZipjHnzKjAMLD7S4P-AIeA\\=\\={flex-basis:0;flex-grow:1;max-width:100%}._4jF-pZrYRU6Av-QsmuTIoQ\\=\\=>*{flex:0 0 100%;max-width:100%}.R72GQKP0n3w9xwNdzveibw\\=\\=>*{flex:0 0 50%;max-width:50%}.nXnDuLdkdE3JhvyD\\+yjoAA\\=\\=>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.RTOc8Zo7QfihVsI1pKkGcw\\=\\=>*{flex:0 0 25%;max-width:25%}.d0dcZAFUFoUwaLUBiJqTAw\\=\\=>*{flex:0 0 20%;max-width:20%}.kBZdc341EMhrLP6KTcr0wg\\=\\=>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.uNq-eqcqSUkVVXsPzLt97A\\=\\={flex:0 0 auto;width:auto;max-width:100%}.pXwA5ZATshjIVHaCFAoC5w\\=\\={flex:0 0 8.33333333%;max-width:8.33333333%}._2IzytlEVczYfyYudEqtbLA\\=\\={flex:0 0 16.66666667%;max-width:16.66666667%}._73LK2iWnPaC1uWqHN6l--Q\\=\\={flex:0 0 25%;max-width:25%}.LkQvrAMt0HB3hleLf6FujQ\\=\\={flex:0 0 33.33333333%;max-width:33.33333333%}.My8y6StUKr1a4IefPihaIg\\=\\={flex:0 0 41.66666667%;max-width:41.66666667%}.WN6ttuUog3lg8jvvQ4cHnw\\=\\={flex:0 0 50%;max-width:50%}.tOFwG0RlEsJUJhNSe-Sblw\\=\\={flex:0 0 58.33333333%;max-width:58.33333333%}.ShEKWNabwH8Jiq0aPAfN8Q\\=\\={flex:0 0 66.66666667%;max-width:66.66666667%}.JAJ6xO7RZVdaB\\+2XIVCOxQ\\=\\={flex:0 0 75%;max-width:75%}.N\\+ugCnCSYMF3TpbGoOBERg\\=\\={flex:0 0 83.33333333%;max-width:83.33333333%}.iy3Vywm2uTIwh0tDGAvf1w\\=\\={flex:0 0 91.66666667%;max-width:91.66666667%}.tFr78IcjpHYvtsP2UGZ6-w\\=\\={flex:0 0 100%;max-width:100%}.WKuFcyCXuPYICOGEhhMwLQ\\=\\={order:-1}.N-RzRr40jscXtETJP8KuJw\\=\\={order:13}.TSm0mNR8CEFobhinPZKclw\\=\\={order:0}.FUsxhXGjb10TSa3Q1OeIEA\\=\\={order:1}.CcnXiq3YdJ5Mc8tmYXDKjQ\\=\\={order:2}.VvTHV9Sp3WOOrEG\\+bbBHIg\\=\\={order:3}.fGmd9zdgeH9y9bTqgSASYg\\=\\={order:4}.KsyNGTvTtJyuS8itLTAWQA\\=\\={order:5}.tA3iMlJoORtzTiQUFLUj-Q\\=\\={order:6}.oMG0KfzsuOB6kuESdlFOnQ\\=\\={order:7}._4p-DrXY6JwvSB8\\+yO30oYA\\=\\={order:8}.tTXJyFXsikqQBEdLXwXHMg\\=\\={order:9}.M75j9GZQVmcTUgT6Tzm9xQ\\=\\={order:10}._58Qd5Zc0U9qFM\\+zZyERTpg\\=\\={order:11}.Ckj4TxOlaor\\+iIdASsSlVA\\=\\={order:12}.lEqPtcY-25RvziMU2YkUtg\\=\\={margin-left:8.33333333%}.WiA6vQ\\+1GQbP9nzPwB-EPg\\=\\={margin-left:16.66666667%}.PAg1cAhlXQ8D6eJKHhYpSQ\\=\\={margin-left:25%}.HW4nEQZ05OWVt1kGJqAJ-g\\=\\={margin-left:33.33333333%}.Wlhs\\+rTCYoX51TIHe3bidw\\=\\={margin-left:41.66666667%}._6\\+gTrepIdhGPt6coZ-uwrw\\=\\={margin-left:50%}.HBg9tKrTBK9lRdIUZhA5dQ\\=\\={margin-left:58.33333333%}.CL4TAeMKNzNmBDUywFY1FA\\=\\={margin-left:66.66666667%}.BTKFSb6Ztdi4dCMUWyU1GA\\=\\={margin-left:75%}.czIBE83sUNj0t0nn8RwAMA\\=\\={margin-left:83.33333333%}.MZ\\+IxDjTPO4KR76LMblytg\\=\\={margin-left:91.66666667%}@media(min-width: 576px){._0J2p1-4a4eeXHwfVNDXvyA\\=\\={flex-basis:0;flex-grow:1;max-width:100%}.FurzvDUR-yfZR2Z4zpmIyA\\=\\=>*{flex:0 0 100%;max-width:100%}.lejzo3ztsD9B3TYp6-pvrA\\=\\=>*{flex:0 0 50%;max-width:50%}.mk4VwKQccIrL8Q8ar\\+oxlQ\\=\\=>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}._3VNRmc7hfJjVcGZFUW6drA\\=\\=>*{flex:0 0 25%;max-width:25%}.SCq4uKZoNIrxa09ICZTlHA\\=\\=>*{flex:0 0 20%;max-width:20%}.o1aMqSJ6XI9e6oOLaieK2A\\=\\=>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.ETgzICBgGqZZFbad3zd1iQ\\=\\={flex:0 0 auto;width:auto;max-width:100%}._37Ydx7aBIOywekZNlGZUxw\\=\\={flex:0 0 8.33333333%;max-width:8.33333333%}.jAlxb6sBoFTdSfqoBr3HFw\\=\\={flex:0 0 16.66666667%;max-width:16.66666667%}.EYU2Y32cbOUClbxlN10kCg\\=\\={flex:0 0 25%;max-width:25%}.fjhYf6QMOHJa0Tl6AEkczA\\=\\={flex:0 0 33.33333333%;max-width:33.33333333%}.SxQkADEuBayutwrCVJP-KQ\\=\\={flex:0 0 41.66666667%;max-width:41.66666667%}._81Sa1FQ1MemO7HT-Mj3VyQ\\=\\={flex:0 0 50%;max-width:50%}.PJi-RjGoDTE3MS3r\\+VtOoQ\\=\\={flex:0 0 58.33333333%;max-width:58.33333333%}.lPJUQqA3bLFaLX8D3BSPMg\\=\\={flex:0 0 66.66666667%;max-width:66.66666667%}._9RXcLzg\\+pZo3Cwrz83yRSw\\=\\={flex:0 0 75%;max-width:75%}.pv2I-4hHHe69Bxg9\\+0ZZsQ\\=\\={flex:0 0 83.33333333%;max-width:83.33333333%}.PzbxnJWUR8XrC6Xnte7ZYQ\\=\\={flex:0 0 91.66666667%;max-width:91.66666667%}._04z29a\\+pKI3n6S-JAvn7vw\\=\\={flex:0 0 100%;max-width:100%}.LI0wpjZDUZJ7oMqYcDe5xw\\=\\={order:-1}.ql\\+O5GiYVdEYYaKVZNJDBA\\=\\={order:13}.Uqf4DXjM4gcvwgCUPIxA6Q\\=\\={order:0}.MB0jUrmzOfv0uP\\+UzgdkbQ\\=\\={order:1}.tBqR6yZ\\+QO7fKr\\+Kxe1j1A\\=\\={order:2}.TNZ7zbUt2UIZDe8AXOyoGQ\\=\\={order:3}.xw8mj28PS8bKzBrOT93bGg\\=\\={order:4}.X2UAoPDs-BPMBH-f3qUyow\\=\\={order:5}.nGW1viwjAvrYu9acBLRuOw\\=\\={order:6}.EnIre1kxZZGzNik3lxTooA\\=\\={order:7}.ckwdSst6vmCf7XKvmYY5MA\\=\\={order:8}.umpD8t224q279uPZhAJNBA\\=\\={order:9}.vbjIU6e0jNJsVRpxrANGzw\\=\\={order:10}.sL0yP3AXUICEIxKqGii1IA\\=\\={order:11}.qnB1DngbM-Hd-rDEiN5Bbg\\=\\={order:12}.EeaIgznKZRMJkq6Fg0Kk4A\\=\\={margin-left:0}.ME4b2v7Z-kqJ-32B0PH7qQ\\=\\={margin-left:8.33333333%}.lNQJI5cLpysYZsVDuqxNiA\\=\\={margin-left:16.66666667%}.yWCRH\\+rhQGo0YxPppCieYA\\=\\={margin-left:25%}.kMIT3obV6QyoBp84jtm7TA\\=\\={margin-left:33.33333333%}.vsScYeqJ1-C\\+Wgs06RaNEA\\=\\={margin-left:41.66666667%}.zFefln1X4wrPIb0EyWu92A\\=\\={margin-left:50%}._5wz\\+7bgY0wJh3H1hQozsaw\\=\\={margin-left:58.33333333%}.\\-937NutyXcyxhjCZdq161g\\=\\={margin-left:66.66666667%}.cRoN9Ic6bhJvDdsUkX1-LA\\=\\={margin-left:75%}.pjkIJScP4whIlflo9KwtnQ\\=\\={margin-left:83.33333333%}.EM7l5T7-itZbasUPca48oQ\\=\\={margin-left:91.66666667%}}@media(min-width: 768px){.SAndS2rmgn1LM\\+xmrxMo3A\\=\\={flex-basis:0;flex-grow:1;max-width:100%}.jLYjZI8-mArtFP5HzW5tSw\\=\\=>*{flex:0 0 100%;max-width:100%}.oqmKYRbM5MgIxv7KKNlE6A\\=\\=>*{flex:0 0 50%;max-width:50%}.GD\\+1sydl\\+uDcrvDYtRiO-g\\=\\=>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.zbHrHrFJEP\\+9XR3zy87jiA\\=\\=>*{flex:0 0 25%;max-width:25%}.THAJKoXiPadCIQffoSQ0CA\\=\\=>*{flex:0 0 20%;max-width:20%}.VjxUnsPzh-Y9W9Vl2nEWmA\\=\\=>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}._3PoNYmEqLWaXkJqkWZuvpQ\\=\\={flex:0 0 auto;width:auto;max-width:100%}.I1TjO4uXfBOZEQOj7LcH0Q\\=\\={flex:0 0 8.33333333%;max-width:8.33333333%}.sLgPvZpzYdERNGMmZDwBzg\\=\\={flex:0 0 16.66666667%;max-width:16.66666667%}.pC930OZ5M9ghgdsDRkSXpg\\=\\={flex:0 0 25%;max-width:25%}.a\\+\\+6cr2IATxiR7HKXNyO-Q\\=\\={flex:0 0 33.33333333%;max-width:33.33333333%}.sxPnszhNCUxZNdkijnQv0w\\=\\={flex:0 0 41.66666667%;max-width:41.66666667%}.BvzDSniNJ-7POTt9dEWr7Q\\=\\={flex:0 0 50%;max-width:50%}.GAJHJb613QL1SKCvoX0rsA\\=\\={flex:0 0 58.33333333%;max-width:58.33333333%}.d2kC-cPROhgE2OS-VS9PWQ\\=\\={flex:0 0 66.66666667%;max-width:66.66666667%}.VutkSlfeGDl2CwGQeHEpiQ\\=\\={flex:0 0 75%;max-width:75%}.X61LVxdi46rBO\\+LqBAhW2w\\=\\={flex:0 0 83.33333333%;max-width:83.33333333%}._0lyCk8Uqg\\+qv7dLIZnRIWw\\=\\={flex:0 0 91.66666667%;max-width:91.66666667%}.SSiAlLFwrQ-y2DsVPMR0\\+g\\=\\={flex:0 0 100%;max-width:100%}.zyF8dGNWtizHs6wxaDa0lw\\=\\={order:-1}.MUdV-NNGrxqJGY9dojwMGA\\=\\={order:13}.ZhO8FQI8n7DahzSRioaYHQ\\=\\={order:0}.RiDaqGCgOmhxrLgRmGza1A\\=\\={order:1}.N5sXAl4p0DdGb84UDPcOLg\\=\\={order:2}.aYoBbxdjrTjeywDe7Z-j9Q\\=\\={order:3}.Oiz24HvFwgTic5u62UY1Ng\\=\\={order:4}.zTSOk8jqXdsKd\\+URq2KYdg\\=\\={order:5}.CFm-rRaI1fHd1K3H7Vrw4w\\=\\={order:6}.cqEO0mSnWB41u6Goz11F-Q\\=\\={order:7}._1urxupvb6xqjqETtMWwOvQ\\=\\={order:8}.qxXEOgoQtVzA2\\+679geL7Q\\=\\={order:9}.nvBR59QQIXuAmTMuTnHfMg\\=\\={order:10}.d22KpQSBrwSOSI52Zu7\\+Cg\\=\\={order:11}._7glQlcqYGSwKk6sFOIBhvg\\=\\={order:12}.\\-0zZhhxyf2z0gn7wMTKxnw\\=\\={margin-left:0}._4gYJIaemAbMABe5AnrwhbA\\=\\={margin-left:8.33333333%}.cv93WXmw4oWc26NOshkGeg\\=\\={margin-left:16.66666667%}._0y6dwF5qRuZS1wZKagPa6Q\\=\\={margin-left:25%}.tnayob3\\+VHiegJLKcVDvTw\\=\\={margin-left:33.33333333%}.tht9wCiMTOaXuRO4d7m0JA\\=\\={margin-left:41.66666667%}.tgsoM1RUfxtag9E7kL5snQ\\=\\={margin-left:50%}.VULn0vuOgoC1F7mOP\\+CGmA\\=\\={margin-left:58.33333333%}.EsA8OW5ujDZsPztQj6FPtg\\=\\={margin-left:66.66666667%}.nQC9vUWkrfNCVyj2qOVCkQ\\=\\={margin-left:75%}.w7bN9NO2UZiqkuqP7M6J8w\\=\\={margin-left:83.33333333%}._4bxCDyoME4ZoHM77fUGO-A\\=\\={margin-left:91.66666667%}}@media(min-width: 992px){.jnUU00B2-e9Wk5Nl\\+60mRQ\\=\\={flex-basis:0;flex-grow:1;max-width:100%}._6wXj2dZ8v1eEey2fp9boow\\=\\=>*{flex:0 0 100%;max-width:100%}._7lbPfmPU0yUL2kQqDer73Q\\=\\=>*{flex:0 0 50%;max-width:50%}.kdIcM3Qs9GhNVo-lKHz6Ow\\=\\=>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.zxxD3emDYe-YOQP5ID8I-A\\=\\=>*{flex:0 0 25%;max-width:25%}.IU8kip4-12hORu5P47EBUg\\=\\=>*{flex:0 0 20%;max-width:20%}.NULIhDCknUwrL6QwT-RD6Q\\=\\=>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.mFyyeCKxpl8rS-wFzA1g3Q\\=\\={flex:0 0 auto;width:auto;max-width:100%}.yL\\+-V3goVEWF4G56\\+fVSpw\\=\\={flex:0 0 8.33333333%;max-width:8.33333333%}.GCfQVWfgvTZkudPSiKZapQ\\=\\={flex:0 0 16.66666667%;max-width:16.66666667%}.gcFAuaAKhVU\\+ZBDUs1B8NA\\=\\={flex:0 0 25%;max-width:25%}.aeLEVJFdHekIqk7vG2\\+LIA\\=\\={flex:0 0 33.33333333%;max-width:33.33333333%}._4bJUxD5N-qoDPvcpKja5rg\\=\\={flex:0 0 41.66666667%;max-width:41.66666667%}.Tb3cUMCgwjG7rE1A9qO8NQ\\=\\={flex:0 0 50%;max-width:50%}.mOssnXALpF8Hv5w9NvNA3A\\=\\={flex:0 0 58.33333333%;max-width:58.33333333%}._4TecnWoAdQL52Hg5pH6YaA\\=\\={flex:0 0 66.66666667%;max-width:66.66666667%}.rCheKtb6rNIH-zaXJpP6ug\\=\\={flex:0 0 75%;max-width:75%}.r6GfaPfTE4kyvZyJwdSBMQ\\=\\={flex:0 0 83.33333333%;max-width:83.33333333%}.HWrIN7KCnt6SMcNMOEF-4A\\=\\={flex:0 0 91.66666667%;max-width:91.66666667%}.nMyj2gB5dgB1xHYwFVKq4A\\=\\={flex:0 0 100%;max-width:100%}.MXJ0m-mhbkBaNtZtWy2JuQ\\=\\={order:-1}.jLnBd10eoFPeZmp1uVsKjw\\=\\={order:13}.ekqULi75ViAs\\+nUXnLlKzA\\=\\={order:0}.frH4RdUlpw3C5E0-eBCC6A\\=\\={order:1}.fC3JIGKv-rCrMihlBJ2pIQ\\=\\={order:2}.AVwvm5XOJmClHPQ\\+T2GRIw\\=\\={order:3}.zNzTgYDRRis8BjwNdKCq8A\\=\\={order:4}.IpSRnhqjon0dk5Z\\+EYJ5XQ\\=\\={order:5}.DAwPWuKsniz1dhiKKVpbrg\\=\\={order:6}.iQSbThHNdH2Tdn9wXiP\\+Tg\\=\\={order:7}.srZXqZcmQumDLUA6WNruLg\\=\\={order:8}.F0o1BdjoJpd\\+Zqa1QpFJWw\\=\\={order:9}._3isOFHnYRdAK7\\+04uBB3NA\\=\\={order:10}.iPjGEB-lnyQzeSJ3W1cNWg\\=\\={order:11}.VMnmhFS2a5bwMEaw0kcIOQ\\=\\={order:12}.xOzLsSID\\+fZxbcnzliRVCw\\=\\={margin-left:0}.sJCIu3mJ9uv0tj\\+a0ooLBw\\=\\={margin-left:8.33333333%}._9vzEt2RDRJ1BsDIVrrV5\\+g\\=\\={margin-left:16.66666667%}.dwN5tW6AJKsHPPj93SSzpA\\=\\={margin-left:25%}.js58c7TZ886lHWyNOJS42Q\\=\\={margin-left:33.33333333%}.R1EW5gv61NZXyTM7Rri6mw\\=\\={margin-left:41.66666667%}.pCNW1qOEx2K20iT4PI6oww\\=\\={margin-left:50%}.Y9zBz8LGYj2dQenR5z\\+svg\\=\\={margin-left:58.33333333%}._895tgbys\\+843keWZG4wDJg\\=\\={margin-left:66.66666667%}.hSRItx7Gn3c6jAAJYPv1NQ\\=\\={margin-left:75%}._7Yc8TJHtf7DPKZFJlgFqMw\\=\\={margin-left:83.33333333%}.lfuiWt3GO05NiZbjJ6sIQg\\=\\={margin-left:91.66666667%}}@media(min-width: 1200px){.U9pRm4BQiJBKv9MF4kAOKg\\=\\={flex-basis:0;flex-grow:1;max-width:100%}.u4QyHeij\\+r9piU9qea-G4g\\=\\=>*{flex:0 0 100%;max-width:100%}.l-pFvz9e7SHKwB2zT9NztA\\=\\=>*{flex:0 0 50%;max-width:50%}.sEEWRjZuR2O4pKb93mFMBg\\=\\=>*{flex:0 0 33.3333333333%;max-width:33.3333333333%}.\\+RCPajoCDt8j9Hsp13RMkg\\=\\=>*{flex:0 0 25%;max-width:25%}.\\+GrLhtYim3pqY2a9m6PIdw\\=\\=>*{flex:0 0 20%;max-width:20%}.B6bQBuJRtB9P0N1vLcfnLg\\=\\=>*{flex:0 0 16.6666666667%;max-width:16.6666666667%}.ADYG\\+5p47kIEEH\\+yaXfy\\+g\\=\\={flex:0 0 auto;width:auto;max-width:100%}.lIzKgcg1REtDI9W1yCgcFw\\=\\={flex:0 0 8.33333333%;max-width:8.33333333%}.mNn2fcJWYjkLtm-z6\\+bUVg\\=\\={flex:0 0 16.66666667%;max-width:16.66666667%}._5avH3rVLZIii2JnGlH0m5Q\\=\\={flex:0 0 25%;max-width:25%}.qOSStLd0Hyd1qwpBfZxanA\\=\\={flex:0 0 33.33333333%;max-width:33.33333333%}.Jse2AIcAqQ-L735eOc6uYw\\=\\={flex:0 0 41.66666667%;max-width:41.66666667%}.ZfbQVYuXDPgq2Cbch0k9UQ\\=\\={flex:0 0 50%;max-width:50%}.DXWl7vZG6Q1KwkWGUtJJow\\=\\={flex:0 0 58.33333333%;max-width:58.33333333%}._1Am5jpu2gSLbN3MT90ZpMA\\=\\={flex:0 0 66.66666667%;max-width:66.66666667%}.NtjNTxvO1eYDpJhzFSeJdw\\=\\={flex:0 0 75%;max-width:75%}._7mb0qz1gMBy5z3XE0MeR-A\\=\\={flex:0 0 83.33333333%;max-width:83.33333333%}.KJqaUhm8U0JsiYrD0Dxblw\\=\\={flex:0 0 91.66666667%;max-width:91.66666667%}.Db7w4RNONNwOnXowhIc8ng\\=\\={flex:0 0 100%;max-width:100%}.YwWqx3jNUeTiCy6ab1NvwQ\\=\\={order:-1}.pADA0Zr-7yvueKNn8hNSUg\\=\\={order:13}.MGTsNCvcCF7a5bntzZ-dFg\\=\\={order:0}.imRpazHdrADOA4JO4\\+1hfQ\\=\\={order:1}.MhWYoHzuOsN8oMfHZvlNKQ\\=\\={order:2}.yuKbQ2BqW4\\+2ngt8Q3MNSA\\=\\={order:3}.Z1Cs3h19uaOxne6ZhkT1mg\\=\\={order:4}._4l1OZXmmOjYt43ZMhIVXrg\\=\\={order:5}._0j2Qa3MZEDnGc9d8ACwQlw\\=\\={order:6}.QTp7gdQhj\\+ZPtkZfCkYPGQ\\=\\={order:7}.KqbdWIRkmyRLoeqp6g4zBw\\=\\={order:8}.WA\\+x7GU7FgtM7Lb6RbkCBw\\=\\={order:9}.H96AFgnR3\\+750AlDEhvACQ\\=\\={order:10}.VMJYIpjlQIRxILOyCwjRlw\\=\\={order:11}.THCBM5DJ0MGEuKjhUwgpRA\\=\\={order:12}.RElUj6kBIA3KUbeP-Ey7jg\\=\\={margin-left:0}.m0vkzLSuYKPoNqhazIJGtA\\=\\={margin-left:8.33333333%}.jHQ9y5Wyqmu\\+7d2lebgLEA\\=\\={margin-left:16.66666667%}.HCSI03\\+-In5d0I5ASg4MPg\\=\\={margin-left:25%}.\\+pLIehF4BhymLPMD3DEv5Q\\=\\={margin-left:33.33333333%}.JBEZ-AVXBGmxAkROkg-HpA\\=\\={margin-left:41.66666667%}.tU1kY5iHxgC5X9KOD6DCnw\\=\\={margin-left:50%}.I7tPhu6MopGW0TMNeJSQXA\\=\\={margin-left:58.33333333%}.\\+80lB3s5RxYsPY\\+-F8Zvaw\\=\\={margin-left:66.66666667%}._2yxroUmDuUWS6bqhFE6E4g\\=\\={margin-left:75%}._2N2FYyk09ksCkW70LYcgcg\\=\\={margin-left:83.33333333%}.Oswg-phWUCLywjKIi66TNA\\=\\={margin-left:91.66666667%}}.rxb-u7L8A-K7OqGYZW3mEg\\=\\={display:block;width:100%;height:calc(1.5em + 0.75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.rxb-u7L8A-K7OqGYZW3mEg\\=\\={transition:none}}.rxb-u7L8A-K7OqGYZW3mEg\\=\\=::-ms-expand{background-color:rgba(0,0,0,0);border:0}.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.rxb-u7L8A-K7OqGYZW3mEg\\=\\=::placeholder{color:#6c757d;opacity:1}.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:disabled,.rxb-u7L8A-K7OqGYZW3mEg\\=\\=[readonly]{background-color:#e9ecef;opacity:1}input[type=date].rxb-u7L8A-K7OqGYZW3mEg\\=\\=,input[type=time].rxb-u7L8A-K7OqGYZW3mEg\\=\\=,input[type=datetime-local].rxb-u7L8A-K7OqGYZW3mEg\\=\\=,input[type=month].rxb-u7L8A-K7OqGYZW3mEg\\=\\={appearance:none}select.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:-moz-focusring{color:rgba(0,0,0,0);text-shadow:0 0 0 #495057}select.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:focus::-ms-value{color:#495057;background-color:#fff}.ItAE4BISMwOknrbg0zTW6A\\=\\=,.FQ2oMW0oMyvNjnw28P6SSA\\=\\={display:block;width:100%}.L44tdlGXEblIDOcHaUwOdg\\=\\={padding-top:calc(0.375rem + 1px);padding-bottom:calc(0.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}._9h55f\\+rR1p9NXt8AOqDFKg\\=\\={padding-top:calc(0.5rem + 1px);padding-bottom:calc(0.5rem + 1px);font-size:1.25rem;line-height:1.5}._2U3Vlw7d5ETuC9xdyFRr8w\\=\\={padding-top:calc(0.25rem + 1px);padding-bottom:calc(0.25rem + 1px);font-size:0.875rem;line-height:1.5}.wh-T\\+fF5UyFigyoA5tghrw\\=\\={display:block;width:100%;padding:.375rem 0;margin-bottom:0;font-size:1rem;line-height:1.5;color:#212529;background-color:rgba(0,0,0,0);border:solid rgba(0,0,0,0);border-width:1px 0}.wh-T\\+fF5UyFigyoA5tghrw\\=\\=.ZRdFRRmmdJsAOwBY\\+RWMtg\\=\\=,.wh-T\\+fF5UyFigyoA5tghrw\\=\\=.sIVGOcqPE2FeSC9GjjXWRw\\=\\={padding-right:0;padding-left:0}.ZRdFRRmmdJsAOwBY\\+RWMtg\\=\\={height:calc(1.5em + 0.5rem + 2px);padding:.25rem .5rem;font-size:0.875rem;line-height:1.5;border-radius:.2rem}.sIVGOcqPE2FeSC9GjjXWRw\\=\\={height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}select.rxb-u7L8A-K7OqGYZW3mEg\\=\\=[size],select.rxb-u7L8A-K7OqGYZW3mEg\\=\\=[multiple]{height:auto}textarea.rxb-u7L8A-K7OqGYZW3mEg\\=\\={height:auto}.\\+o0szHLHnQSOFsifiUvdJw\\=\\={margin-bottom:1rem}._1A9mluCA-srn7qq4AWMtAg\\=\\={display:block;margin-top:.25rem}.GN9T3HyWyk9cpPD8-6uyDQ\\=\\={display:flex;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.GN9T3HyWyk9cpPD8-6uyDQ\\=\\=>.ZipjHnzKjAMLD7S4P-AIeA\\=\\=,.GN9T3HyWyk9cpPD8-6uyDQ\\=\\=>[class*=col-]{padding-right:5px;padding-left:5px}.tF3rjXkFRbBtfcpC6cW2sg\\=\\={position:relative;display:block;padding-left:1.25rem}.\\+wxdJMEiONNcuJirfptaKg\\=\\={position:absolute;margin-top:.3rem;margin-left:-1.25rem}.\\+wxdJMEiONNcuJirfptaKg\\=\\=[disabled]~.HgyDHyHFbSZ00SBAYkBcqw\\=\\=,.\\+wxdJMEiONNcuJirfptaKg\\=\\=:disabled~.HgyDHyHFbSZ00SBAYkBcqw\\=\\={color:#6c757d}.HgyDHyHFbSZ00SBAYkBcqw\\=\\={margin-bottom:0}.AotIqR-zGtBkUw8C-V5CYQ\\=\\={display:inline-flex;align-items:center;padding-left:0;margin-right:.75rem}.AotIqR-zGtBkUw8C-V5CYQ\\=\\= .\\+wxdJMEiONNcuJirfptaKg\\=\\={position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.oQ-TB6lObxU2S\\+fa\\+BBRrQ\\=\\={display:none;width:100%;margin-top:.25rem;font-size:80%;color:#28a745}._0lwTqF-2CN1XZSfX-c66dg\\=\\={position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:0.875rem;line-height:1.5;color:#fff;background-color:rgba(40,167,69,.9);border-radius:.25rem}.GN9T3HyWyk9cpPD8-6uyDQ\\=\\=>.ZipjHnzKjAMLD7S4P-AIeA\\=\\=>._0lwTqF-2CN1XZSfX-c66dg\\=\\=,.GN9T3HyWyk9cpPD8-6uyDQ\\=\\=>[class*=col-]>._0lwTqF-2CN1XZSfX-c66dg\\=\\={left:5px}.oT3PsQO1Im41bPXPrim8DQ\\=\\= :valid~.oQ-TB6lObxU2S\\+fa\\+BBRrQ\\=\\=,.oT3PsQO1Im41bPXPrim8DQ\\=\\= :valid~._0lwTqF-2CN1XZSfX-c66dg\\=\\=,.ajliVsAF8sWm2B73BP\\+iJA\\=\\=~.oQ-TB6lObxU2S\\+fa\\+BBRrQ\\=\\=,.ajliVsAF8sWm2B73BP\\+iJA\\=\\=~._0lwTqF-2CN1XZSfX-c66dg\\=\\={display:block}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .rxb-u7L8A-K7OqGYZW3mEg\\=\\=:valid,.rxb-u7L8A-K7OqGYZW3mEg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\={border-color:#28a745;padding-right:calc(1.5em + 0.75rem) !important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(0.375em + 0.1875rem) center;background-size:calc(0.75em + 0.375rem) calc(0.75em + 0.375rem)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .rxb-u7L8A-K7OqGYZW3mEg\\=\\=:valid:focus,.rxb-u7L8A-K7OqGYZW3mEg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= select.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:valid,select.rxb-u7L8A-K7OqGYZW3mEg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\={padding-right:3rem !important;background-position:right 1.5rem center}.oT3PsQO1Im41bPXPrim8DQ\\=\\= textarea.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:valid,textarea.rxb-u7L8A-K7OqGYZW3mEg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\={padding-right:calc(1.5em + 0.75rem);background-position:top calc(0.375em + 0.1875rem) right calc(0.375em + 0.1875rem)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=:valid,.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\={border-color:#28a745;padding-right:calc(0.75em + 2.3125rem) !important;background:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e\") right .75rem center/8px 10px no-repeat,#fff url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\") center right 1.75rem/calc(0.75em + 0.375rem) calc(0.75em + 0.375rem) no-repeat}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=:valid:focus,.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .\\+wxdJMEiONNcuJirfptaKg\\=\\=:valid~.HgyDHyHFbSZ00SBAYkBcqw\\=\\=,.\\+wxdJMEiONNcuJirfptaKg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=~.HgyDHyHFbSZ00SBAYkBcqw\\=\\={color:#28a745}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .\\+wxdJMEiONNcuJirfptaKg\\=\\=:valid~.oQ-TB6lObxU2S\\+fa\\+BBRrQ\\=\\=,.oT3PsQO1Im41bPXPrim8DQ\\=\\= .\\+wxdJMEiONNcuJirfptaKg\\=\\=:valid~._0lwTqF-2CN1XZSfX-c66dg\\=\\=,.\\+wxdJMEiONNcuJirfptaKg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=~.oQ-TB6lObxU2S\\+fa\\+BBRrQ\\=\\=,.\\+wxdJMEiONNcuJirfptaKg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=~._0lwTqF-2CN1XZSfX-c66dg\\=\\={display:block}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:valid~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\={color:#28a745}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:valid~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before{border-color:#28a745}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:valid:checked~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=:checked~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before{border-color:#34ce57;background-color:#34ce57}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:valid:focus~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=:focus~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:valid:focus:not(:checked)~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=:focus:not(:checked)~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before{border-color:#28a745}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .H5LpTHh6\\+g956FJIUi4mPA\\=\\=:valid~.GhoPRWJkNpP3HCEW5ayyjA\\=\\=,.H5LpTHh6\\+g956FJIUi4mPA\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=~.GhoPRWJkNpP3HCEW5ayyjA\\=\\={border-color:#28a745}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .H5LpTHh6\\+g956FJIUi4mPA\\=\\=:valid:focus~.GhoPRWJkNpP3HCEW5ayyjA\\=\\=,.H5LpTHh6\\+g956FJIUi4mPA\\=\\=.ajliVsAF8sWm2B73BP\\+iJA\\=\\=:focus~.GhoPRWJkNpP3HCEW5ayyjA\\=\\={border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}._3L3JuseiUgFLMEJfoT-ZnQ\\=\\={display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.LlnsAlWVkYbU3Fg7FPceeA\\=\\={position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:0.875rem;line-height:1.5;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.GN9T3HyWyk9cpPD8-6uyDQ\\=\\=>.ZipjHnzKjAMLD7S4P-AIeA\\=\\=>.LlnsAlWVkYbU3Fg7FPceeA\\=\\=,.GN9T3HyWyk9cpPD8-6uyDQ\\=\\=>[class*=col-]>.LlnsAlWVkYbU3Fg7FPceeA\\=\\={left:5px}.oT3PsQO1Im41bPXPrim8DQ\\=\\= :invalid~._3L3JuseiUgFLMEJfoT-ZnQ\\=\\=,.oT3PsQO1Im41bPXPrim8DQ\\=\\= :invalid~.LlnsAlWVkYbU3Fg7FPceeA\\=\\=,.hNeMhnkgc117eUaEbh4zoA\\=\\=~._3L3JuseiUgFLMEJfoT-ZnQ\\=\\=,.hNeMhnkgc117eUaEbh4zoA\\=\\=~.LlnsAlWVkYbU3Fg7FPceeA\\=\\={display:block}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .rxb-u7L8A-K7OqGYZW3mEg\\=\\=:invalid,.rxb-u7L8A-K7OqGYZW3mEg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\={border-color:#dc3545;padding-right:calc(1.5em + 0.75rem) !important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(0.375em + 0.1875rem) center;background-size:calc(0.75em + 0.375rem) calc(0.75em + 0.375rem)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .rxb-u7L8A-K7OqGYZW3mEg\\=\\=:invalid:focus,.rxb-u7L8A-K7OqGYZW3mEg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= select.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:invalid,select.rxb-u7L8A-K7OqGYZW3mEg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\={padding-right:3rem !important;background-position:right 1.5rem center}.oT3PsQO1Im41bPXPrim8DQ\\=\\= textarea.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:invalid,textarea.rxb-u7L8A-K7OqGYZW3mEg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\={padding-right:calc(1.5em + 0.75rem);background-position:top calc(0.375em + 0.1875rem) right calc(0.375em + 0.1875rem)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=:invalid,.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\={border-color:#dc3545;padding-right:calc(0.75em + 2.3125rem) !important;background:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e\") right .75rem center/8px 10px no-repeat,#fff url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\") center right 1.75rem/calc(0.75em + 0.375rem) calc(0.75em + 0.375rem) no-repeat}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=:invalid:focus,.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .\\+wxdJMEiONNcuJirfptaKg\\=\\=:invalid~.HgyDHyHFbSZ00SBAYkBcqw\\=\\=,.\\+wxdJMEiONNcuJirfptaKg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=~.HgyDHyHFbSZ00SBAYkBcqw\\=\\={color:#dc3545}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .\\+wxdJMEiONNcuJirfptaKg\\=\\=:invalid~._3L3JuseiUgFLMEJfoT-ZnQ\\=\\=,.oT3PsQO1Im41bPXPrim8DQ\\=\\= .\\+wxdJMEiONNcuJirfptaKg\\=\\=:invalid~.LlnsAlWVkYbU3Fg7FPceeA\\=\\=,.\\+wxdJMEiONNcuJirfptaKg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=~._3L3JuseiUgFLMEJfoT-ZnQ\\=\\=,.\\+wxdJMEiONNcuJirfptaKg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=~.LlnsAlWVkYbU3Fg7FPceeA\\=\\={display:block}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:invalid~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\={color:#dc3545}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:invalid~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before{border-color:#dc3545}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:invalid:checked~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=:checked~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before{border-color:#e4606d;background-color:#e4606d}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:invalid:focus~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=:focus~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .TTjFeu5yhte\\+p5CUD9uvcg\\=\\=:invalid:focus:not(:checked)~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before,.TTjFeu5yhte\\+p5CUD9uvcg\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=:focus:not(:checked)~.b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\=::before{border-color:#dc3545}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .H5LpTHh6\\+g956FJIUi4mPA\\=\\=:invalid~.GhoPRWJkNpP3HCEW5ayyjA\\=\\=,.H5LpTHh6\\+g956FJIUi4mPA\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=~.GhoPRWJkNpP3HCEW5ayyjA\\=\\={border-color:#dc3545}.oT3PsQO1Im41bPXPrim8DQ\\=\\= .H5LpTHh6\\+g956FJIUi4mPA\\=\\=:invalid:focus~.GhoPRWJkNpP3HCEW5ayyjA\\=\\=,.H5LpTHh6\\+g956FJIUi4mPA\\=\\=.hNeMhnkgc117eUaEbh4zoA\\=\\=:focus~.GhoPRWJkNpP3HCEW5ayyjA\\=\\={border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\={display:flex;flex-flow:row wrap;align-items:center}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .tF3rjXkFRbBtfcpC6cW2sg\\=\\={width:100%}@media(min-width: 576px){.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= label{display:flex;align-items:center;justify-content:center;margin-bottom:0}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .\\+o0szHLHnQSOFsifiUvdJw\\=\\={display:flex;flex:0 0 auto;flex-flow:row wrap;align-items:center;margin-bottom:0}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .rxb-u7L8A-K7OqGYZW3mEg\\=\\={display:inline-block;width:auto;vertical-align:middle}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .wh-T\\+fF5UyFigyoA5tghrw\\=\\={display:inline-block}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=,.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\={width:auto}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .tF3rjXkFRbBtfcpC6cW2sg\\=\\={display:flex;align-items:center;justify-content:center;width:auto;padding-left:0}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .\\+wxdJMEiONNcuJirfptaKg\\=\\={position:relative;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .f2aVZSjfPLXxX0hroVfxsw\\=\\={align-items:center;justify-content:center}.f5\\+\\+B2i9PaJzqmEeNPVf0Q\\=\\= .b\\+PoZPET9E6\\+CPNs\\+UKGZw\\=\\={margin-bottom:0}}._7DhMpfk4OxfouraFzxZobA\\=\\={display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;user-select:none;background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){._7DhMpfk4OxfouraFzxZobA\\=\\={transition:none}}._7DhMpfk4OxfouraFzxZobA\\=\\=:hover{color:#212529;text-decoration:none}._7DhMpfk4OxfouraFzxZobA\\=\\=:focus,._7DhMpfk4OxfouraFzxZobA\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}._7DhMpfk4OxfouraFzxZobA\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,._7DhMpfk4OxfouraFzxZobA\\=\\=:disabled{opacity:.65}._7DhMpfk4OxfouraFzxZobA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=){cursor:pointer}a._7DhMpfk4OxfouraFzxZobA\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,fieldset:disabled a._7DhMpfk4OxfouraFzxZobA\\=\\={pointer-events:none}.tPk7d3Wa5J5-DN5k4W6xUA\\=\\={color:#fff;background-color:#007bff;border-color:#007bff}.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=:focus,.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#0062cc;border-color:#005cbf}.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.tPk7d3Wa5J5-DN5k4W6xUA\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\={color:#fff;background-color:#6c757d;border-color:#6c757d}.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=:focus,.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={color:#fff;background-color:#5a6268;border-color:#545b62;box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#545b62;border-color:#4e555b}.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.v8-NuLXZ7PwaK3vfW-hNcQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.EPNGsPeCovJGoxMetqFJQQ\\=\\={color:#fff;background-color:#28a745;border-color:#28a745}.EPNGsPeCovJGoxMetqFJQQ\\=\\=:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.EPNGsPeCovJGoxMetqFJQQ\\=\\=:focus,.EPNGsPeCovJGoxMetqFJQQ\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={color:#fff;background-color:#218838;border-color:#1e7e34;box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.EPNGsPeCovJGoxMetqFJQQ\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.EPNGsPeCovJGoxMetqFJQQ\\=\\=:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.EPNGsPeCovJGoxMetqFJQQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.EPNGsPeCovJGoxMetqFJQQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.EPNGsPeCovJGoxMetqFJQQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#1e7e34;border-color:#1c7430}.EPNGsPeCovJGoxMetqFJQQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.EPNGsPeCovJGoxMetqFJQQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.EPNGsPeCovJGoxMetqFJQQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\={color:#fff;background-color:#17a2b8;border-color:#17a2b8}.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=:hover{color:#fff;background-color:#138496;border-color:#117a8b}.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=:focus,.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#117a8b;border-color:#10707f}.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.aF\\+xAcqI1C\\+9nTUZ6-aedg\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.Zx2kVQEYuquPXRqSIpsEFw\\=\\={color:#212529;background-color:#ffc107;border-color:#ffc107}.Zx2kVQEYuquPXRqSIpsEFw\\=\\=:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.Zx2kVQEYuquPXRqSIpsEFw\\=\\=:focus,.Zx2kVQEYuquPXRqSIpsEFw\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.Zx2kVQEYuquPXRqSIpsEFw\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.Zx2kVQEYuquPXRqSIpsEFw\\=\\=:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.Zx2kVQEYuquPXRqSIpsEFw\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.Zx2kVQEYuquPXRqSIpsEFw\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.Zx2kVQEYuquPXRqSIpsEFw\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#212529;background-color:#d39e00;border-color:#c69500}.Zx2kVQEYuquPXRqSIpsEFw\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.Zx2kVQEYuquPXRqSIpsEFw\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.Zx2kVQEYuquPXRqSIpsEFw\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.Q8F2TgYeYq2mCTJxv85RXA\\=\\={color:#fff;background-color:#dc3545;border-color:#dc3545}.Q8F2TgYeYq2mCTJxv85RXA\\=\\=:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.Q8F2TgYeYq2mCTJxv85RXA\\=\\=:focus,.Q8F2TgYeYq2mCTJxv85RXA\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={color:#fff;background-color:#c82333;border-color:#bd2130;box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.Q8F2TgYeYq2mCTJxv85RXA\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.Q8F2TgYeYq2mCTJxv85RXA\\=\\=:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.Q8F2TgYeYq2mCTJxv85RXA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.Q8F2TgYeYq2mCTJxv85RXA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.Q8F2TgYeYq2mCTJxv85RXA\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#bd2130;border-color:#b21f2d}.Q8F2TgYeYq2mCTJxv85RXA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.Q8F2TgYeYq2mCTJxv85RXA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.Q8F2TgYeYq2mCTJxv85RXA\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\={color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=:focus,.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#212529;background-color:#dae0e5;border-color:#d3d9df}.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.yiFLb\\+WfiFN-0ldzJLypNQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.O42tOC04CFqDBZRWGBCOeA\\=\\={color:#fff;background-color:#343a40;border-color:#343a40}.O42tOC04CFqDBZRWGBCOeA\\=\\=:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.O42tOC04CFqDBZRWGBCOeA\\=\\=:focus,.O42tOC04CFqDBZRWGBCOeA\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.O42tOC04CFqDBZRWGBCOeA\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.O42tOC04CFqDBZRWGBCOeA\\=\\=:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.O42tOC04CFqDBZRWGBCOeA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.O42tOC04CFqDBZRWGBCOeA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.O42tOC04CFqDBZRWGBCOeA\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#1d2124;border-color:#171a1d}.O42tOC04CFqDBZRWGBCOeA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.O42tOC04CFqDBZRWGBCOeA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.O42tOC04CFqDBZRWGBCOeA\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.q-4DlIgrmjx3kf1py-1abg\\=\\={color:#007bff;border-color:#007bff}.q-4DlIgrmjx3kf1py-1abg\\=\\=:hover{color:#fff;background-color:#007bff;border-color:#007bff}.q-4DlIgrmjx3kf1py-1abg\\=\\=:focus,.q-4DlIgrmjx3kf1py-1abg\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.q-4DlIgrmjx3kf1py-1abg\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.q-4DlIgrmjx3kf1py-1abg\\=\\=:disabled{color:#007bff;background-color:rgba(0,0,0,0)}.q-4DlIgrmjx3kf1py-1abg\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.q-4DlIgrmjx3kf1py-1abg\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.q-4DlIgrmjx3kf1py-1abg\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#007bff;border-color:#007bff}.q-4DlIgrmjx3kf1py-1abg\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.q-4DlIgrmjx3kf1py-1abg\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.q-4DlIgrmjx3kf1py-1abg\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}._05T6SZ7OWl7vRSOO7xrYiw\\=\\={color:#6c757d;border-color:#6c757d}._05T6SZ7OWl7vRSOO7xrYiw\\=\\=:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}._05T6SZ7OWl7vRSOO7xrYiw\\=\\=:focus,._05T6SZ7OWl7vRSOO7xrYiw\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}._05T6SZ7OWl7vRSOO7xrYiw\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,._05T6SZ7OWl7vRSOO7xrYiw\\=\\=:disabled{color:#6c757d;background-color:rgba(0,0,0,0)}._05T6SZ7OWl7vRSOO7xrYiw\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,._05T6SZ7OWl7vRSOO7xrYiw\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>._05T6SZ7OWl7vRSOO7xrYiw\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#6c757d;border-color:#6c757d}._05T6SZ7OWl7vRSOO7xrYiw\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,._05T6SZ7OWl7vRSOO7xrYiw\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>._05T6SZ7OWl7vRSOO7xrYiw\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.qv1D8bEG4LzZnYjnq2b5ew\\=\\={color:#28a745;border-color:#28a745}.qv1D8bEG4LzZnYjnq2b5ew\\=\\=:hover{color:#fff;background-color:#28a745;border-color:#28a745}.qv1D8bEG4LzZnYjnq2b5ew\\=\\=:focus,.qv1D8bEG4LzZnYjnq2b5ew\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.qv1D8bEG4LzZnYjnq2b5ew\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.qv1D8bEG4LzZnYjnq2b5ew\\=\\=:disabled{color:#28a745;background-color:rgba(0,0,0,0)}.qv1D8bEG4LzZnYjnq2b5ew\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.qv1D8bEG4LzZnYjnq2b5ew\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.qv1D8bEG4LzZnYjnq2b5ew\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#28a745;border-color:#28a745}.qv1D8bEG4LzZnYjnq2b5ew\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.qv1D8bEG4LzZnYjnq2b5ew\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.qv1D8bEG4LzZnYjnq2b5ew\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\={color:#17a2b8;border-color:#17a2b8}._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=:focus,._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=:disabled{color:#17a2b8;background-color:rgba(0,0,0,0)}._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#17a2b8;border-color:#17a2b8}._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>._3k\\+u5-\\+dHHCwNNaF\\+gdr7w\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.KCGFP69cNeODQ0PHCegveA\\=\\={color:#ffc107;border-color:#ffc107}.KCGFP69cNeODQ0PHCegveA\\=\\=:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.KCGFP69cNeODQ0PHCegveA\\=\\=:focus,.KCGFP69cNeODQ0PHCegveA\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.KCGFP69cNeODQ0PHCegveA\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.KCGFP69cNeODQ0PHCegveA\\=\\=:disabled{color:#ffc107;background-color:rgba(0,0,0,0)}.KCGFP69cNeODQ0PHCegveA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.KCGFP69cNeODQ0PHCegveA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.KCGFP69cNeODQ0PHCegveA\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#212529;background-color:#ffc107;border-color:#ffc107}.KCGFP69cNeODQ0PHCegveA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.KCGFP69cNeODQ0PHCegveA\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.KCGFP69cNeODQ0PHCegveA\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.yQ-JWLaAqJss7VCiTW4UGQ\\=\\={color:#dc3545;border-color:#dc3545}.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=:focus,.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=:disabled{color:#dc3545;background-color:rgba(0,0,0,0)}.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#dc3545;border-color:#dc3545}.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.yQ-JWLaAqJss7VCiTW4UGQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.Js-WmbBYwSirASj7wEuy\\+g\\=\\={color:#f8f9fa;border-color:#f8f9fa}.Js-WmbBYwSirASj7wEuy\\+g\\=\\=:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.Js-WmbBYwSirASj7wEuy\\+g\\=\\=:focus,.Js-WmbBYwSirASj7wEuy\\+g\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.Js-WmbBYwSirASj7wEuy\\+g\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.Js-WmbBYwSirASj7wEuy\\+g\\=\\=:disabled{color:#f8f9fa;background-color:rgba(0,0,0,0)}.Js-WmbBYwSirASj7wEuy\\+g\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.Js-WmbBYwSirASj7wEuy\\+g\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.Js-WmbBYwSirASj7wEuy\\+g\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.Js-WmbBYwSirASj7wEuy\\+g\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.Js-WmbBYwSirASj7wEuy\\+g\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.Js-WmbBYwSirASj7wEuy\\+g\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.JwHCAjljftUQwvI1i5XAAQ\\=\\={color:#343a40;border-color:#343a40}.JwHCAjljftUQwvI1i5XAAQ\\=\\=:hover{color:#fff;background-color:#343a40;border-color:#343a40}.JwHCAjljftUQwvI1i5XAAQ\\=\\=:focus,.JwHCAjljftUQwvI1i5XAAQ\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.JwHCAjljftUQwvI1i5XAAQ\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\=,.JwHCAjljftUQwvI1i5XAAQ\\=\\=:disabled{color:#343a40;background-color:rgba(0,0,0,0)}.JwHCAjljftUQwvI1i5XAAQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active,.JwHCAjljftUQwvI1i5XAAQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.JwHCAjljftUQwvI1i5XAAQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\={color:#fff;background-color:#343a40;border-color:#343a40}.JwHCAjljftUQwvI1i5XAAQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=):active:focus,.JwHCAjljftUQwvI1i5XAAQ\\=\\=:not(:disabled):not(.SnxkU79OvQ6Qoh01xCyRhg\\=\\=).alM3BwVgAI-A6mAZVmsIsA\\=\\=:focus,.InkBQhrykVDp8OlXdbXOTA\\=\\=>.JwHCAjljftUQwvI1i5XAAQ\\=\\=.qNFyvqcuyPtURI6K5WGoLw\\=\\=:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.uqHE7cPi\\+zWbQjDQFFuf2A\\=\\={font-weight:400;color:#007bff;text-decoration:none}.uqHE7cPi\\+zWbQjDQFFuf2A\\=\\=:hover{color:#0056b3;text-decoration:underline}.uqHE7cPi\\+zWbQjDQFFuf2A\\=\\=:focus,.uqHE7cPi\\+zWbQjDQFFuf2A\\=\\=.uqv5w\\+4O2NvycwwYLiZHiA\\=\\={text-decoration:underline}.uqHE7cPi\\+zWbQjDQFFuf2A\\=\\=:disabled,.uqHE7cPi\\+zWbQjDQFFuf2A\\=\\=.SnxkU79OvQ6Qoh01xCyRhg\\=\\={color:#6c757d;pointer-events:none}.Fajh0V-v4F6Q-PwZe1cZoQ\\=\\={padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.YY6aIAYg8S6JwUbr-E562Q\\=\\={padding:.25rem .5rem;font-size:0.875rem;line-height:1.5;border-radius:.2rem}.FcmMgdBtpHnxrQGHHnSPXg\\=\\={display:block;width:100%}.FcmMgdBtpHnxrQGHHnSPXg\\=\\=+.FcmMgdBtpHnxrQGHHnSPXg\\=\\={margin-top:.5rem}input[type=submit].FcmMgdBtpHnxrQGHHnSPXg\\=\\=,input[type=reset].FcmMgdBtpHnxrQGHHnSPXg\\=\\=,input[type=button].FcmMgdBtpHnxrQGHHnSPXg\\=\\={width:100%}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\={position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.wh-T\\+fF5UyFigyoA5tghrw\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\={position:relative;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=+.rxb-u7L8A-K7OqGYZW3mEg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=+.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=+.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.wh-T\\+fF5UyFigyoA5tghrw\\=\\=+.rxb-u7L8A-K7OqGYZW3mEg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.wh-T\\+fF5UyFigyoA5tghrw\\=\\=+.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.wh-T\\+fF5UyFigyoA5tghrw\\=\\=+.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=+.rxb-u7L8A-K7OqGYZW3mEg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=+.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=+.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=+.rxb-u7L8A-K7OqGYZW3mEg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=+.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=+.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\={margin-left:-1px}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:focus,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=:focus,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\= .H5LpTHh6\\+g956FJIUi4mPA\\=\\=:focus~.GhoPRWJkNpP3HCEW5ayyjA\\=\\={z-index:3}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\= .H5LpTHh6\\+g956FJIUi4mPA\\=\\=:focus{z-index:4}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:not(:first-child),.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\={display:flex;align-items:center}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=:not(:last-child) .GhoPRWJkNpP3HCEW5ayyjA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=:not(:last-child) .GhoPRWJkNpP3HCEW5ayyjA\\=\\=::after{border-top-right-radius:0;border-bottom-right-radius:0}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=:not(:first-child) .GhoPRWJkNpP3HCEW5ayyjA\\=\\={border-top-left-radius:0;border-bottom-left-radius:0}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=:not(.gw-mW16UpBopunX8JWVJfA\\=\\=)>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:not(:last-child),.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=:not(.gw-mW16UpBopunX8JWVJfA\\=\\=)>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=:not(:last-child),.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=:not(.gw-mW16UpBopunX8JWVJfA\\=\\=)>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=:not(:last-child) .GhoPRWJkNpP3HCEW5ayyjA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=:not(.gw-mW16UpBopunX8JWVJfA\\=\\=)>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=:not(:last-child) .GhoPRWJkNpP3HCEW5ayyjA\\=\\=::after{border-top-right-radius:0;border-bottom-right-radius:0}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=.gw-mW16UpBopunX8JWVJfA\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:nth-last-child(n+3),.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=.gw-mW16UpBopunX8JWVJfA\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=:nth-last-child(n+3),.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=.gw-mW16UpBopunX8JWVJfA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=:nth-last-child(n+3) .GhoPRWJkNpP3HCEW5ayyjA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=.gw-mW16UpBopunX8JWVJfA\\=\\=>.dmo6hDMuxzHaXdzCjK\\+Pqg\\=\\=:nth-last-child(n+3) .GhoPRWJkNpP3HCEW5ayyjA\\=\\=::after{border-top-right-radius:0;border-bottom-right-radius:0}.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=,.Bkfnry-3z7YRjVHIVe8UKw\\=\\={display:flex}.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\= ._7DhMpfk4OxfouraFzxZobA\\=\\=,.Bkfnry-3z7YRjVHIVe8UKw\\=\\= ._7DhMpfk4OxfouraFzxZobA\\=\\={position:relative;z-index:2}.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\= ._7DhMpfk4OxfouraFzxZobA\\=\\=:focus,.Bkfnry-3z7YRjVHIVe8UKw\\=\\= ._7DhMpfk4OxfouraFzxZobA\\=\\=:focus{z-index:3}.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\= ._7DhMpfk4OxfouraFzxZobA\\=\\=+._7DhMpfk4OxfouraFzxZobA\\=\\=,.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\= ._7DhMpfk4OxfouraFzxZobA\\=\\=+.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\= .BN3hSiKNUdNLiOqTdEiApg\\=\\=+.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\= .BN3hSiKNUdNLiOqTdEiApg\\=\\=+._7DhMpfk4OxfouraFzxZobA\\=\\=,.Bkfnry-3z7YRjVHIVe8UKw\\=\\= ._7DhMpfk4OxfouraFzxZobA\\=\\=+._7DhMpfk4OxfouraFzxZobA\\=\\=,.Bkfnry-3z7YRjVHIVe8UKw\\=\\= ._7DhMpfk4OxfouraFzxZobA\\=\\=+.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.Bkfnry-3z7YRjVHIVe8UKw\\=\\= .BN3hSiKNUdNLiOqTdEiApg\\=\\=+.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.Bkfnry-3z7YRjVHIVe8UKw\\=\\= .BN3hSiKNUdNLiOqTdEiApg\\=\\=+._7DhMpfk4OxfouraFzxZobA\\=\\={margin-left:-1px}.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\={margin-right:-1px}.Bkfnry-3z7YRjVHIVe8UKw\\=\\={margin-left:-1px}.BN3hSiKNUdNLiOqTdEiApg\\=\\={display:flex;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.BN3hSiKNUdNLiOqTdEiApg\\=\\= input[type=radio],.BN3hSiKNUdNLiOqTdEiApg\\=\\= input[type=checkbox]{margin-top:0}.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:not(textarea),.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\={height:calc(1.5em + 1rem + 2px)}.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=,.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=,.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=>._7DhMpfk4OxfouraFzxZobA\\=\\=,.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=>._7DhMpfk4OxfouraFzxZobA\\=\\={padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=:not(textarea),._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\={height:calc(1.5em + 0.5rem + 2px)}._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.rxb-u7L8A-K7OqGYZW3mEg\\=\\=,._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=,._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=>._7DhMpfk4OxfouraFzxZobA\\=\\=,._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=>._7DhMpfk4OxfouraFzxZobA\\=\\={padding:.25rem .5rem;font-size:0.875rem;line-height:1.5;border-radius:.2rem}.nW1Y7vcxx1R4tfBEEVtNUw\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\=,._6y5KNXyyb3fvJ8qevfnNhQ\\=\\=>.ZuKAot8IvK4eAXR7cQ\\+3zA\\=\\={padding-right:1.75rem}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=>._7DhMpfk4OxfouraFzxZobA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=:not(.gw-mW16UpBopunX8JWVJfA\\=\\=)>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=:not(:last-child)>._7DhMpfk4OxfouraFzxZobA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=:not(.gw-mW16UpBopunX8JWVJfA\\=\\=)>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=:not(:last-child)>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=.gw-mW16UpBopunX8JWVJfA\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=:nth-last-child(n+3)>._7DhMpfk4OxfouraFzxZobA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=.gw-mW16UpBopunX8JWVJfA\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=:nth-last-child(n+3)>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=:last-child>._7DhMpfk4OxfouraFzxZobA\\=\\=:not(:last-child):not(.qNFyvqcuyPtURI6K5WGoLw\\=\\=),.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=:last-child>.BN3hSiKNUdNLiOqTdEiApg\\=\\=:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=>._7DhMpfk4OxfouraFzxZobA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.Bkfnry-3z7YRjVHIVe8UKw\\=\\=>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=:not(:first-child)>._7DhMpfk4OxfouraFzxZobA\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=:not(:first-child)>.BN3hSiKNUdNLiOqTdEiApg\\=\\=,.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=:first-child>._7DhMpfk4OxfouraFzxZobA\\=\\=:not(:first-child),.XOv3kMqDSkg3Y\\+97ivNVxA\\=\\=>.kYr-KvAjw\\+7gonh4ikkDTQ\\=\\=:first-child>.BN3hSiKNUdNLiOqTdEiApg\\=\\=:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.yuj2uLs234H7Xz2K-P2TbA\\=\\={font-family:SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace !important}.L7d7M850X3xmUNgyceHeJw\\=\\={text-align:justify !important}.PZSho4c4AKJI2rtC2IVj6w\\=\\={white-space:normal !important}.Jxn-0a3xL-9z7NUrjJXWcw\\=\\={white-space:nowrap !important}.Om-3pLcwRfYcXmuOSsMGtg\\=\\={overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.GpWt5UXD\\+IsVQ6UAiv4GXw\\=\\={text-align:left !important}.bk31fiJMnWC8ljHXfOg8uw\\=\\={text-align:right !important}._7aPdUS7Hp-TNDkl4teRH3A\\=\\={text-align:center !important}@media(min-width: 576px){.DYcH-Hr\\+av7fw5dNBeug6g\\=\\={text-align:left !important}.VhEr\\+3hopXIjjd2\\+p2u9ew\\=\\={text-align:right !important}.aay8\\+my4Qeao1AnGsDcTNQ\\=\\={text-align:center !important}}@media(min-width: 768px){.K51lUdrnXqdzsGhV6ISyMQ\\=\\={text-align:left !important}.YrUAQlZaSa7xmX2M3Mo0vA\\=\\={text-align:right !important}.G8RImYg8AgxW9bPx0mherQ\\=\\={text-align:center !important}}@media(min-width: 992px){._6xXDYvZp37J61XGBJrL4cA\\=\\={text-align:left !important}.Nj1BKIJRoQHZt1NE9ir2rg\\=\\={text-align:right !important}.dlwGFduUtEKf38Q0Sr6xhA\\=\\={text-align:center !important}}@media(min-width: 1200px){.KyApiAwpBv5eWHexM8reKQ\\=\\={text-align:left !important}.sdx\\+7vZ4csj4qmyPvRxlmA\\=\\={text-align:right !important}.YLX3CO-BUM0O\\+olzyJDqqQ\\=\\={text-align:center !important}}.vGm0FBnb2vrpMcwseJX1Sg\\=\\={text-transform:lowercase !important}.NH8koI0uB\\+W7oUMz6SDslw\\=\\={text-transform:uppercase !important}._0E6aiCk-AUTrAvijvcTMPQ\\=\\={text-transform:capitalize !important}._5JJWKvTCZBkIgsBJ6xEKHg\\=\\={font-weight:300 !important}.GZPWGjB9PBICJ5MOxhPnPQ\\=\\={font-weight:lighter !important}.FQXQD7M8ilfaEtB4r\\+mEaA\\=\\={font-weight:400 !important}.xA5Bo9d-kKW-aKLdqgZPTg\\=\\={font-weight:700 !important}.D16qkTGc9zvxs2ADjLjhdQ\\=\\={font-weight:bolder !important}.CqvXhEZd7zeQ5S0Zv7lC2w\\=\\={font-style:italic !important}.sESr--F\\+0poK9MmwZWNSRg\\=\\={color:#fff !important}.GNuz2eMKK6Cc\\+G3WQodHxQ\\=\\={color:#007bff !important}a.GNuz2eMKK6Cc\\+G3WQodHxQ\\=\\=:hover,a.GNuz2eMKK6Cc\\+G3WQodHxQ\\=\\=:focus{color:#0056b3 !important}.AZNK6fiRWvuZ\\+wr\\+z6BclQ\\=\\={color:#6c757d !important}a.AZNK6fiRWvuZ\\+wr\\+z6BclQ\\=\\=:hover,a.AZNK6fiRWvuZ\\+wr\\+z6BclQ\\=\\=:focus{color:#494f54 !important}.NDsKA2w\\+x-5gmLmzWexnNA\\=\\={color:#28a745 !important}a.NDsKA2w\\+x-5gmLmzWexnNA\\=\\=:hover,a.NDsKA2w\\+x-5gmLmzWexnNA\\=\\=:focus{color:#19692c !important}.R2tK5v05mMik6eCGYiTVlw\\=\\={color:#17a2b8 !important}a.R2tK5v05mMik6eCGYiTVlw\\=\\=:hover,a.R2tK5v05mMik6eCGYiTVlw\\=\\=:focus{color:#0f6674 !important}.ie0whLQiaM25kaZsHslAtw\\=\\={color:#ffc107 !important}a.ie0whLQiaM25kaZsHslAtw\\=\\=:hover,a.ie0whLQiaM25kaZsHslAtw\\=\\=:focus{color:#ba8b00 !important}.bX7UUq1o0-hYYUFRRKmuOQ\\=\\={color:#dc3545 !important}a.bX7UUq1o0-hYYUFRRKmuOQ\\=\\=:hover,a.bX7UUq1o0-hYYUFRRKmuOQ\\=\\=:focus{color:#a71d2a !important}.CyL9WzEIAfkagwiOM1IlUQ\\=\\={color:#f8f9fa !important}a.CyL9WzEIAfkagwiOM1IlUQ\\=\\=:hover,a.CyL9WzEIAfkagwiOM1IlUQ\\=\\=:focus{color:#cbd3da !important}.PLKo7Ilf3zacq0VBzB-Jxw\\=\\={color:#343a40 !important}a.PLKo7Ilf3zacq0VBzB-Jxw\\=\\=:hover,a.PLKo7Ilf3zacq0VBzB-Jxw\\=\\=:focus{color:#121416 !important}.ui7xy1Y2hEZvWSBKUIlU-Q\\=\\={color:#212529 !important}.aJI844EjQ8v31GqRrq-7tA\\=\\={color:#6c757d !important}.GNj55Y0RFs3SfvcjNYoM4w\\=\\={color:rgba(0,0,0,.5) !important}.vYVLqZRAa2cmQQXGo8SkvQ\\=\\={color:rgba(255,255,255,.5) !important}._1iLFqmUJ2s3bBbPxXesZ2Q\\=\\={font:0/0 a;color:rgba(0,0,0,0);text-shadow:none;background-color:rgba(0,0,0,0);border:0}.bQe-KiqF9GA7e4yc3pQSkw\\=\\={text-decoration:none !important}.eei0tK\\+VG2L4NMWIE\\+LhKg\\=\\={word-break:break-word !important;word-wrap:break-word !important}.uUZyBviaNlCvBh3i2RHZlA\\=\\={color:inherit !important}",""]),i.locals={container:"zH0ATq9xk8Ocy59iwuNB1A==","container-fluid":"BK8ZunOOj2-Ddam9ICxbng==","container-xl":"q4ilOBYFey-xHSP4K0REWA==","container-lg":"mUfr9TUnz8yJe41RIRlttQ==","container-md":"ke3k75UR4dBgTMb6giE66Q==","container-sm":"uyeG4-dQxFimMxWq+Fit2w==",row:"mU-9cBIi0-EXo5ESixuFEg==","no-gutters":"EfJF4aZ6QSdtizcGN1NtUQ==",col:"ZipjHnzKjAMLD7S4P-AIeA==","col-xl":"U9pRm4BQiJBKv9MF4kAOKg==","col-xl-auto":"ADYG+5p47kIEEH+yaXfy+g==","col-xl-12":"Db7w4RNONNwOnXowhIc8ng==","col-xl-11":"KJqaUhm8U0JsiYrD0Dxblw==","col-xl-10":"_7mb0qz1gMBy5z3XE0MeR-A==","col-xl-9":"NtjNTxvO1eYDpJhzFSeJdw==","col-xl-8":"_1Am5jpu2gSLbN3MT90ZpMA==","col-xl-7":"DXWl7vZG6Q1KwkWGUtJJow==","col-xl-6":"ZfbQVYuXDPgq2Cbch0k9UQ==","col-xl-5":"Jse2AIcAqQ-L735eOc6uYw==","col-xl-4":"qOSStLd0Hyd1qwpBfZxanA==","col-xl-3":"_5avH3rVLZIii2JnGlH0m5Q==","col-xl-2":"mNn2fcJWYjkLtm-z6+bUVg==","col-xl-1":"lIzKgcg1REtDI9W1yCgcFw==","col-lg":"jnUU00B2-e9Wk5Nl+60mRQ==","col-lg-auto":"mFyyeCKxpl8rS-wFzA1g3Q==","col-lg-12":"nMyj2gB5dgB1xHYwFVKq4A==","col-lg-11":"HWrIN7KCnt6SMcNMOEF-4A==","col-lg-10":"r6GfaPfTE4kyvZyJwdSBMQ==","col-lg-9":"rCheKtb6rNIH-zaXJpP6ug==","col-lg-8":"_4TecnWoAdQL52Hg5pH6YaA==","col-lg-7":"mOssnXALpF8Hv5w9NvNA3A==","col-lg-6":"Tb3cUMCgwjG7rE1A9qO8NQ==","col-lg-5":"_4bJUxD5N-qoDPvcpKja5rg==","col-lg-4":"aeLEVJFdHekIqk7vG2+LIA==","col-lg-3":"gcFAuaAKhVU+ZBDUs1B8NA==","col-lg-2":"GCfQVWfgvTZkudPSiKZapQ==","col-lg-1":"yL+-V3goVEWF4G56+fVSpw==","col-md":"SAndS2rmgn1LM+xmrxMo3A==","col-md-auto":"_3PoNYmEqLWaXkJqkWZuvpQ==","col-md-12":"SSiAlLFwrQ-y2DsVPMR0+g==","col-md-11":"_0lyCk8Uqg+qv7dLIZnRIWw==","col-md-10":"X61LVxdi46rBO+LqBAhW2w==","col-md-9":"VutkSlfeGDl2CwGQeHEpiQ==","col-md-8":"d2kC-cPROhgE2OS-VS9PWQ==","col-md-7":"GAJHJb613QL1SKCvoX0rsA==","col-md-6":"BvzDSniNJ-7POTt9dEWr7Q==","col-md-5":"sxPnszhNCUxZNdkijnQv0w==","col-md-4":"a++6cr2IATxiR7HKXNyO-Q==","col-md-3":"pC930OZ5M9ghgdsDRkSXpg==","col-md-2":"sLgPvZpzYdERNGMmZDwBzg==","col-md-1":"I1TjO4uXfBOZEQOj7LcH0Q==","col-sm":"_0J2p1-4a4eeXHwfVNDXvyA==","col-sm-auto":"ETgzICBgGqZZFbad3zd1iQ==","col-sm-12":"_04z29a+pKI3n6S-JAvn7vw==","col-sm-11":"PzbxnJWUR8XrC6Xnte7ZYQ==","col-sm-10":"pv2I-4hHHe69Bxg9+0ZZsQ==","col-sm-9":"_9RXcLzg+pZo3Cwrz83yRSw==","col-sm-8":"lPJUQqA3bLFaLX8D3BSPMg==","col-sm-7":"PJi-RjGoDTE3MS3r+VtOoQ==","col-sm-6":"_81Sa1FQ1MemO7HT-Mj3VyQ==","col-sm-5":"SxQkADEuBayutwrCVJP-KQ==","col-sm-4":"fjhYf6QMOHJa0Tl6AEkczA==","col-sm-3":"EYU2Y32cbOUClbxlN10kCg==","col-sm-2":"jAlxb6sBoFTdSfqoBr3HFw==","col-sm-1":"_37Ydx7aBIOywekZNlGZUxw==","col-auto":"uNq-eqcqSUkVVXsPzLt97A==","col-12":"tFr78IcjpHYvtsP2UGZ6-w==","col-11":"iy3Vywm2uTIwh0tDGAvf1w==","col-10":"N+ugCnCSYMF3TpbGoOBERg==","col-9":"JAJ6xO7RZVdaB+2XIVCOxQ==","col-8":"ShEKWNabwH8Jiq0aPAfN8Q==","col-7":"tOFwG0RlEsJUJhNSe-Sblw==","col-6":"WN6ttuUog3lg8jvvQ4cHnw==","col-5":"My8y6StUKr1a4IefPihaIg==","col-4":"LkQvrAMt0HB3hleLf6FujQ==","col-3":"_73LK2iWnPaC1uWqHN6l--Q==","col-2":"_2IzytlEVczYfyYudEqtbLA==","col-1":"pXwA5ZATshjIVHaCFAoC5w==","row-cols-1":"_4jF-pZrYRU6Av-QsmuTIoQ==","row-cols-2":"R72GQKP0n3w9xwNdzveibw==","row-cols-3":"nXnDuLdkdE3JhvyD+yjoAA==","row-cols-4":"RTOc8Zo7QfihVsI1pKkGcw==","row-cols-5":"d0dcZAFUFoUwaLUBiJqTAw==","row-cols-6":"kBZdc341EMhrLP6KTcr0wg==","order-first":"WKuFcyCXuPYICOGEhhMwLQ==","order-last":"N-RzRr40jscXtETJP8KuJw==","order-0":"TSm0mNR8CEFobhinPZKclw==","order-1":"FUsxhXGjb10TSa3Q1OeIEA==","order-2":"CcnXiq3YdJ5Mc8tmYXDKjQ==","order-3":"VvTHV9Sp3WOOrEG+bbBHIg==","order-4":"fGmd9zdgeH9y9bTqgSASYg==","order-5":"KsyNGTvTtJyuS8itLTAWQA==","order-6":"tA3iMlJoORtzTiQUFLUj-Q==","order-7":"oMG0KfzsuOB6kuESdlFOnQ==","order-8":"_4p-DrXY6JwvSB8+yO30oYA==","order-9":"tTXJyFXsikqQBEdLXwXHMg==","order-10":"M75j9GZQVmcTUgT6Tzm9xQ==","order-11":"_58Qd5Zc0U9qFM+zZyERTpg==","order-12":"Ckj4TxOlaor+iIdASsSlVA==","offset-1":"lEqPtcY-25RvziMU2YkUtg==","offset-2":"WiA6vQ+1GQbP9nzPwB-EPg==","offset-3":"PAg1cAhlXQ8D6eJKHhYpSQ==","offset-4":"HW4nEQZ05OWVt1kGJqAJ-g==","offset-5":"Wlhs+rTCYoX51TIHe3bidw==","offset-6":"_6+gTrepIdhGPt6coZ-uwrw==","offset-7":"HBg9tKrTBK9lRdIUZhA5dQ==","offset-8":"CL4TAeMKNzNmBDUywFY1FA==","offset-9":"BTKFSb6Ztdi4dCMUWyU1GA==","offset-10":"czIBE83sUNj0t0nn8RwAMA==","offset-11":"MZ+IxDjTPO4KR76LMblytg==","row-cols-sm-1":"FurzvDUR-yfZR2Z4zpmIyA==","row-cols-sm-2":"lejzo3ztsD9B3TYp6-pvrA==","row-cols-sm-3":"mk4VwKQccIrL8Q8ar+oxlQ==","row-cols-sm-4":"_3VNRmc7hfJjVcGZFUW6drA==","row-cols-sm-5":"SCq4uKZoNIrxa09ICZTlHA==","row-cols-sm-6":"o1aMqSJ6XI9e6oOLaieK2A==","order-sm-first":"LI0wpjZDUZJ7oMqYcDe5xw==","order-sm-last":"ql+O5GiYVdEYYaKVZNJDBA==","order-sm-0":"Uqf4DXjM4gcvwgCUPIxA6Q==","order-sm-1":"MB0jUrmzOfv0uP+UzgdkbQ==","order-sm-2":"tBqR6yZ+QO7fKr+Kxe1j1A==","order-sm-3":"TNZ7zbUt2UIZDe8AXOyoGQ==","order-sm-4":"xw8mj28PS8bKzBrOT93bGg==","order-sm-5":"X2UAoPDs-BPMBH-f3qUyow==","order-sm-6":"nGW1viwjAvrYu9acBLRuOw==","order-sm-7":"EnIre1kxZZGzNik3lxTooA==","order-sm-8":"ckwdSst6vmCf7XKvmYY5MA==","order-sm-9":"umpD8t224q279uPZhAJNBA==","order-sm-10":"vbjIU6e0jNJsVRpxrANGzw==","order-sm-11":"sL0yP3AXUICEIxKqGii1IA==","order-sm-12":"qnB1DngbM-Hd-rDEiN5Bbg==","offset-sm-0":"EeaIgznKZRMJkq6Fg0Kk4A==","offset-sm-1":"ME4b2v7Z-kqJ-32B0PH7qQ==","offset-sm-2":"lNQJI5cLpysYZsVDuqxNiA==","offset-sm-3":"yWCRH+rhQGo0YxPppCieYA==","offset-sm-4":"kMIT3obV6QyoBp84jtm7TA==","offset-sm-5":"vsScYeqJ1-C+Wgs06RaNEA==","offset-sm-6":"zFefln1X4wrPIb0EyWu92A==","offset-sm-7":"_5wz+7bgY0wJh3H1hQozsaw==","offset-sm-8":"-937NutyXcyxhjCZdq161g==","offset-sm-9":"cRoN9Ic6bhJvDdsUkX1-LA==","offset-sm-10":"pjkIJScP4whIlflo9KwtnQ==","offset-sm-11":"EM7l5T7-itZbasUPca48oQ==","row-cols-md-1":"jLYjZI8-mArtFP5HzW5tSw==","row-cols-md-2":"oqmKYRbM5MgIxv7KKNlE6A==","row-cols-md-3":"GD+1sydl+uDcrvDYtRiO-g==","row-cols-md-4":"zbHrHrFJEP+9XR3zy87jiA==","row-cols-md-5":"THAJKoXiPadCIQffoSQ0CA==","row-cols-md-6":"VjxUnsPzh-Y9W9Vl2nEWmA==","order-md-first":"zyF8dGNWtizHs6wxaDa0lw==","order-md-last":"MUdV-NNGrxqJGY9dojwMGA==","order-md-0":"ZhO8FQI8n7DahzSRioaYHQ==","order-md-1":"RiDaqGCgOmhxrLgRmGza1A==","order-md-2":"N5sXAl4p0DdGb84UDPcOLg==","order-md-3":"aYoBbxdjrTjeywDe7Z-j9Q==","order-md-4":"Oiz24HvFwgTic5u62UY1Ng==","order-md-5":"zTSOk8jqXdsKd+URq2KYdg==","order-md-6":"CFm-rRaI1fHd1K3H7Vrw4w==","order-md-7":"cqEO0mSnWB41u6Goz11F-Q==","order-md-8":"_1urxupvb6xqjqETtMWwOvQ==","order-md-9":"qxXEOgoQtVzA2+679geL7Q==","order-md-10":"nvBR59QQIXuAmTMuTnHfMg==","order-md-11":"d22KpQSBrwSOSI52Zu7+Cg==","order-md-12":"_7glQlcqYGSwKk6sFOIBhvg==","offset-md-0":"-0zZhhxyf2z0gn7wMTKxnw==","offset-md-1":"_4gYJIaemAbMABe5AnrwhbA==","offset-md-2":"cv93WXmw4oWc26NOshkGeg==","offset-md-3":"_0y6dwF5qRuZS1wZKagPa6Q==","offset-md-4":"tnayob3+VHiegJLKcVDvTw==","offset-md-5":"tht9wCiMTOaXuRO4d7m0JA==","offset-md-6":"tgsoM1RUfxtag9E7kL5snQ==","offset-md-7":"VULn0vuOgoC1F7mOP+CGmA==","offset-md-8":"EsA8OW5ujDZsPztQj6FPtg==","offset-md-9":"nQC9vUWkrfNCVyj2qOVCkQ==","offset-md-10":"w7bN9NO2UZiqkuqP7M6J8w==","offset-md-11":"_4bxCDyoME4ZoHM77fUGO-A==","row-cols-lg-1":"_6wXj2dZ8v1eEey2fp9boow==","row-cols-lg-2":"_7lbPfmPU0yUL2kQqDer73Q==","row-cols-lg-3":"kdIcM3Qs9GhNVo-lKHz6Ow==","row-cols-lg-4":"zxxD3emDYe-YOQP5ID8I-A==","row-cols-lg-5":"IU8kip4-12hORu5P47EBUg==","row-cols-lg-6":"NULIhDCknUwrL6QwT-RD6Q==","order-lg-first":"MXJ0m-mhbkBaNtZtWy2JuQ==","order-lg-last":"jLnBd10eoFPeZmp1uVsKjw==","order-lg-0":"ekqULi75ViAs+nUXnLlKzA==","order-lg-1":"frH4RdUlpw3C5E0-eBCC6A==","order-lg-2":"fC3JIGKv-rCrMihlBJ2pIQ==","order-lg-3":"AVwvm5XOJmClHPQ+T2GRIw==","order-lg-4":"zNzTgYDRRis8BjwNdKCq8A==","order-lg-5":"IpSRnhqjon0dk5Z+EYJ5XQ==","order-lg-6":"DAwPWuKsniz1dhiKKVpbrg==","order-lg-7":"iQSbThHNdH2Tdn9wXiP+Tg==","order-lg-8":"srZXqZcmQumDLUA6WNruLg==","order-lg-9":"F0o1BdjoJpd+Zqa1QpFJWw==","order-lg-10":"_3isOFHnYRdAK7+04uBB3NA==","order-lg-11":"iPjGEB-lnyQzeSJ3W1cNWg==","order-lg-12":"VMnmhFS2a5bwMEaw0kcIOQ==","offset-lg-0":"xOzLsSID+fZxbcnzliRVCw==","offset-lg-1":"sJCIu3mJ9uv0tj+a0ooLBw==","offset-lg-2":"_9vzEt2RDRJ1BsDIVrrV5+g==","offset-lg-3":"dwN5tW6AJKsHPPj93SSzpA==","offset-lg-4":"js58c7TZ886lHWyNOJS42Q==","offset-lg-5":"R1EW5gv61NZXyTM7Rri6mw==","offset-lg-6":"pCNW1qOEx2K20iT4PI6oww==","offset-lg-7":"Y9zBz8LGYj2dQenR5z+svg==","offset-lg-8":"_895tgbys+843keWZG4wDJg==","offset-lg-9":"hSRItx7Gn3c6jAAJYPv1NQ==","offset-lg-10":"_7Yc8TJHtf7DPKZFJlgFqMw==","offset-lg-11":"lfuiWt3GO05NiZbjJ6sIQg==","row-cols-xl-1":"u4QyHeij+r9piU9qea-G4g==","row-cols-xl-2":"l-pFvz9e7SHKwB2zT9NztA==","row-cols-xl-3":"sEEWRjZuR2O4pKb93mFMBg==","row-cols-xl-4":"+RCPajoCDt8j9Hsp13RMkg==","row-cols-xl-5":"+GrLhtYim3pqY2a9m6PIdw==","row-cols-xl-6":"B6bQBuJRtB9P0N1vLcfnLg==","order-xl-first":"YwWqx3jNUeTiCy6ab1NvwQ==","order-xl-last":"pADA0Zr-7yvueKNn8hNSUg==","order-xl-0":"MGTsNCvcCF7a5bntzZ-dFg==","order-xl-1":"imRpazHdrADOA4JO4+1hfQ==","order-xl-2":"MhWYoHzuOsN8oMfHZvlNKQ==","order-xl-3":"yuKbQ2BqW4+2ngt8Q3MNSA==","order-xl-4":"Z1Cs3h19uaOxne6ZhkT1mg==","order-xl-5":"_4l1OZXmmOjYt43ZMhIVXrg==","order-xl-6":"_0j2Qa3MZEDnGc9d8ACwQlw==","order-xl-7":"QTp7gdQhj+ZPtkZfCkYPGQ==","order-xl-8":"KqbdWIRkmyRLoeqp6g4zBw==","order-xl-9":"WA+x7GU7FgtM7Lb6RbkCBw==","order-xl-10":"H96AFgnR3+750AlDEhvACQ==","order-xl-11":"VMJYIpjlQIRxILOyCwjRlw==","order-xl-12":"THCBM5DJ0MGEuKjhUwgpRA==","offset-xl-0":"RElUj6kBIA3KUbeP-Ey7jg==","offset-xl-1":"m0vkzLSuYKPoNqhazIJGtA==","offset-xl-2":"jHQ9y5Wyqmu+7d2lebgLEA==","offset-xl-3":"HCSI03+-In5d0I5ASg4MPg==","offset-xl-4":"+pLIehF4BhymLPMD3DEv5Q==","offset-xl-5":"JBEZ-AVXBGmxAkROkg-HpA==","offset-xl-6":"tU1kY5iHxgC5X9KOD6DCnw==","offset-xl-7":"I7tPhu6MopGW0TMNeJSQXA==","offset-xl-8":"+80lB3s5RxYsPY+-F8Zvaw==","offset-xl-9":"_2yxroUmDuUWS6bqhFE6E4g==","offset-xl-10":"_2N2FYyk09ksCkW70LYcgcg==","offset-xl-11":"Oswg-phWUCLywjKIi66TNA==","form-control":"rxb-u7L8A-K7OqGYZW3mEg==","form-control-file":"ItAE4BISMwOknrbg0zTW6A==","form-control-range":"FQ2oMW0oMyvNjnw28P6SSA==","col-form-label":"L44tdlGXEblIDOcHaUwOdg==","col-form-label-lg":"_9h55f+rR1p9NXt8AOqDFKg==","col-form-label-sm":"_2U3Vlw7d5ETuC9xdyFRr8w==","form-control-plaintext":"wh-T+fF5UyFigyoA5tghrw==","form-control-sm":"ZRdFRRmmdJsAOwBY+RWMtg==","form-control-lg":"sIVGOcqPE2FeSC9GjjXWRw==","form-group":"+o0szHLHnQSOFsifiUvdJw==","form-text":"_1A9mluCA-srn7qq4AWMtAg==","form-row":"GN9T3HyWyk9cpPD8-6uyDQ==","form-check":"tF3rjXkFRbBtfcpC6cW2sg==","form-check-input":"+wxdJMEiONNcuJirfptaKg==","form-check-label":"HgyDHyHFbSZ00SBAYkBcqw==","form-check-inline":"AotIqR-zGtBkUw8C-V5CYQ==","valid-feedback":"oQ-TB6lObxU2S+fa+BBRrQ==","valid-tooltip":"_0lwTqF-2CN1XZSfX-c66dg==","was-validated":"oT3PsQO1Im41bPXPrim8DQ==","is-valid":"ajliVsAF8sWm2B73BP+iJA==","custom-select":"ZuKAot8IvK4eAXR7cQ+3zA==","custom-control-input":"TTjFeu5yhte+p5CUD9uvcg==","custom-control-label":"b+PoZPET9E6+CPNs+UKGZw==","custom-file-input":"H5LpTHh6+g956FJIUi4mPA==","custom-file-label":"GhoPRWJkNpP3HCEW5ayyjA==","invalid-feedback":"_3L3JuseiUgFLMEJfoT-ZnQ==","invalid-tooltip":"LlnsAlWVkYbU3Fg7FPceeA==","is-invalid":"hNeMhnkgc117eUaEbh4zoA==","form-inline":"f5++B2i9PaJzqmEeNPVf0Q==","input-group":"XOv3kMqDSkg3Y+97ivNVxA==","custom-control":"f2aVZSjfPLXxX0hroVfxsw==",btn:"_7DhMpfk4OxfouraFzxZobA==",focus:"uqv5w+4O2NvycwwYLiZHiA==",disabled:"SnxkU79OvQ6Qoh01xCyRhg==","btn-primary":"tPk7d3Wa5J5-DN5k4W6xUA==",active:"alM3BwVgAI-A6mAZVmsIsA==",show:"InkBQhrykVDp8OlXdbXOTA==","dropdown-toggle":"qNFyvqcuyPtURI6K5WGoLw==","btn-secondary":"v8-NuLXZ7PwaK3vfW-hNcQ==","btn-success":"EPNGsPeCovJGoxMetqFJQQ==","btn-info":"aF+xAcqI1C+9nTUZ6-aedg==","btn-warning":"Zx2kVQEYuquPXRqSIpsEFw==","btn-danger":"Q8F2TgYeYq2mCTJxv85RXA==","btn-light":"yiFLb+WfiFN-0ldzJLypNQ==","btn-dark":"O42tOC04CFqDBZRWGBCOeA==","btn-outline-primary":"q-4DlIgrmjx3kf1py-1abg==","btn-outline-secondary":"_05T6SZ7OWl7vRSOO7xrYiw==","btn-outline-success":"qv1D8bEG4LzZnYjnq2b5ew==","btn-outline-info":"_3k+u5-+dHHCwNNaF+gdr7w==","btn-outline-warning":"KCGFP69cNeODQ0PHCegveA==","btn-outline-danger":"yQ-JWLaAqJss7VCiTW4UGQ==","btn-outline-light":"Js-WmbBYwSirASj7wEuy+g==","btn-outline-dark":"JwHCAjljftUQwvI1i5XAAQ==","btn-link":"uqHE7cPi+zWbQjDQFFuf2A==","btn-lg":"Fajh0V-v4F6Q-PwZe1cZoQ==","btn-sm":"YY6aIAYg8S6JwUbr-E562Q==","btn-block":"FcmMgdBtpHnxrQGHHnSPXg==","custom-file":"dmo6hDMuxzHaXdzCjK+Pqg==","has-validation":"gw-mW16UpBopunX8JWVJfA==","input-group-prepend":"kYr-KvAjw+7gonh4ikkDTQ==","input-group-append":"Bkfnry-3z7YRjVHIVe8UKw==","input-group-text":"BN3hSiKNUdNLiOqTdEiApg==","input-group-lg":"nW1Y7vcxx1R4tfBEEVtNUw==","input-group-sm":"_6y5KNXyyb3fvJ8qevfnNhQ==","text-monospace":"yuj2uLs234H7Xz2K-P2TbA==","text-justify":"L7d7M850X3xmUNgyceHeJw==","text-wrap":"PZSho4c4AKJI2rtC2IVj6w==","text-nowrap":"Jxn-0a3xL-9z7NUrjJXWcw==","text-truncate":"Om-3pLcwRfYcXmuOSsMGtg==","text-left":"GpWt5UXD+IsVQ6UAiv4GXw==","text-right":"bk31fiJMnWC8ljHXfOg8uw==","text-center":"_7aPdUS7Hp-TNDkl4teRH3A==","text-sm-left":"DYcH-Hr+av7fw5dNBeug6g==","text-sm-right":"VhEr+3hopXIjjd2+p2u9ew==","text-sm-center":"aay8+my4Qeao1AnGsDcTNQ==","text-md-left":"K51lUdrnXqdzsGhV6ISyMQ==","text-md-right":"YrUAQlZaSa7xmX2M3Mo0vA==","text-md-center":"G8RImYg8AgxW9bPx0mherQ==","text-lg-left":"_6xXDYvZp37J61XGBJrL4cA==","text-lg-right":"Nj1BKIJRoQHZt1NE9ir2rg==","text-lg-center":"dlwGFduUtEKf38Q0Sr6xhA==","text-xl-left":"KyApiAwpBv5eWHexM8reKQ==","text-xl-right":"sdx+7vZ4csj4qmyPvRxlmA==","text-xl-center":"YLX3CO-BUM0O+olzyJDqqQ==","text-lowercase":"vGm0FBnb2vrpMcwseJX1Sg==","text-uppercase":"NH8koI0uB+W7oUMz6SDslw==","text-capitalize":"_0E6aiCk-AUTrAvijvcTMPQ==","font-weight-light":"_5JJWKvTCZBkIgsBJ6xEKHg==","font-weight-lighter":"GZPWGjB9PBICJ5MOxhPnPQ==","font-weight-normal":"FQXQD7M8ilfaEtB4r+mEaA==","font-weight-bold":"xA5Bo9d-kKW-aKLdqgZPTg==","font-weight-bolder":"D16qkTGc9zvxs2ADjLjhdQ==","font-italic":"CqvXhEZd7zeQ5S0Zv7lC2w==","text-white":"sESr--F+0poK9MmwZWNSRg==","text-primary":"GNuz2eMKK6Cc+G3WQodHxQ==","text-secondary":"AZNK6fiRWvuZ+wr+z6BclQ==","text-success":"NDsKA2w+x-5gmLmzWexnNA==","text-info":"R2tK5v05mMik6eCGYiTVlw==","text-warning":"ie0whLQiaM25kaZsHslAtw==","text-danger":"bX7UUq1o0-hYYUFRRKmuOQ==","text-light":"CyL9WzEIAfkagwiOM1IlUQ==","text-dark":"PLKo7Ilf3zacq0VBzB-Jxw==","text-body":"ui7xy1Y2hEZvWSBKUIlU-Q==","text-muted":"aJI844EjQ8v31GqRrq-7tA==","text-black-50":"GNj55Y0RFs3SfvcjNYoM4w==","text-white-50":"vYVLqZRAa2cmQQXGo8SkvQ==","text-hide":"_1iLFqmUJ2s3bBbPxXesZ2Q==","text-decoration-none":"bQe-KiqF9GA7e4yc3pQSkw==","text-break":"eei0tK+VG2L4NMWIE+LhKg==","text-reset":"uUZyBviaNlCvBh3i2RHZlA=="};var a=i},609:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},62:function(e,t,n){"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],i=0;i<e.length;i++){var u=e[i],s=t.base?u[0]+t.base:u[0],c=n[s]||0,l="".concat(s," ").concat(c);n[s]=c+1;var f=o(l),h={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(a[f].references++,a[f].updater(h)):a.push({identifier:l,updater:v(h,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function h(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,p=0;function v(e,t){var n,r,i;if(t.singleton){var a=p++;n=d||(d=s(t)),r=f.bind(null,n,a,!1),i=f.bind(null,n,a,!0)}else n=s(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=o(n[r]);a[i].references--}for(var s=u(e,t),c=0;c<n.length;c++){var l=o(n[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=s}}}},156:function(e){"use strict";e.exports=r},128:function(e){"use strict";e.exports=i}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var x={};return function(){"use strict";var e,t;n.r(x),n.d(x,{AuthContext:function(){return rx},AuthFlow:function(){return _x},AuthProvider:function(){return dx},PrivateRoute:function(){return Cx},StaffRoute:function(){return Rx}});var r={};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){u=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){I(a,r,i,o,u,"next",e)}function u(e){I(a,r,i,o,u,"throw",e)}o(void 0)}))}}n.r(r),n.d(r,{FirebaseError:function(){return q},SDK_VERSION:function(){return Ke},_DEFAULT_ENTRY_NAME:function(){return Pe},_addComponent:function(){return Me},_addOrOverwriteComponent:function(){return Fe},_apps:function(){return De},_clearComponents:function(){return Be},_components:function(){return Le},_getProvider:function(){return je},_registerComponent:function(){return Ue},_removeServiceInstance:function(){return Ve},deleteApp:function(){return He},getApp:function(){return We},getApps:function(){return Ge},initializeApp:function(){return Qe},onLog:function(){return Je},registerVersion:function(){return Ze},setLogLevel:function(){return Xe}});var T=n(162),S=n.n(T),A=n(156),N=n.n(A),C=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(C(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},P=function(e){return function(e){var t=C(e);return O.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function R(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=R(e[n],t[n]));return e}var D=function(){function e(){var t=this;b(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return w(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function L(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function M(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(L())}function F(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function U(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function j(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function V(){var e=L();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function B(){return"object"==typeof indexedDB}var q=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(m(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(m(a),z.prototype.create),a}return w(n)}(k(Error)),z=function(){function e(t,n,r){b(this,e),this.service=t,this.serviceName=n,this.errors=r}return w(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(K,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new q(n,a,t)}}]),e}(),K=/\{\$([^}]+)}/g;function Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(G(u)&&G(s)){if(!W(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function G(e){return null!==e&&"object"==typeof e}function H(e){for(var t=[],n=function(){var e=v(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Y(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=v(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function Z(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function J(e,t){var n=new X(e,t);return n.subscribe.bind(n)}var X=function(){function e(t,n){var r=this;b(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return w(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $(){}function ee(e){return e&&e._delegate?e._delegate:e}var te,ne=function(){function e(t,n,r){b(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return w(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),re="[DEFAULT]",ie=function(){function e(t,n){b(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return w(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new D;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:re})}catch(e){}var t,n=p(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(e){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=p(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=v(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(e){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===re?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(n){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.component?this.component.multipleInstances?e:re:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}(),ae=function(){function e(t){b(this,e),this.name=t,this.providers=new Map}return w(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ie(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),oe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(te||(te={}));var ue,se,ce={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,fe=(l(e={},te.DEBUG,"log"),l(e,te.VERBOSE,"log"),l(e,te.INFO,"info"),l(e,te.WARN,"warn"),l(e,te.ERROR,"error"),e),he=function(e,t){var n;if(!(t<e.logLevel)){var r=(new Date).toISOString(),i=fe[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(n=console)[i].apply(n,["[".concat(r,"]  ").concat(e.name,":")].concat(o))}},de=function(){function e(t){b(this,e),this.name=t,this._logLevel=le,this._logHandler=he,this._userLogHandler=null,oe.push(this)}return w(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in te))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?ce[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,te.DEBUG].concat(t)),this._logHandler.apply(this,[this,te.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,te.VERBOSE].concat(t)),this._logHandler.apply(this,[this,te.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,te.INFO].concat(t)),this._logHandler.apply(this,[this,te.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,te.WARN].concat(t)),this._logHandler.apply(this,[this,te.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,te.ERROR].concat(t)),this._logHandler.apply(this,[this,te.ERROR].concat(t))}}]),e}(),pe=new WeakMap,ve=new WeakMap,me=new WeakMap,ye=new WeakMap,ge=new WeakMap,ke={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ve.get(e);if("objectStoreNames"===t)return e.objectStoreNames||me.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return we(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function be(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(Ee(this),n),we(pe.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return we(t.apply(Ee(this),n))}:function(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=(n=t).call.apply(n,[Ee(this),e].concat(i));return me.set(o,e.sort?e.sort():[e]),we(o)}:(e instanceof IDBTransaction&&function(e){if(!ve.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ve.set(e,t)}}(e),n=e,(ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return n instanceof e}))?new Proxy(e,ke):e);var t,n}function we(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(we(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&pe.set(t,e)})).catch((function(){})),ge.set(t,e),t}(e);if(ye.has(e))return ye.get(e);var t=be(e);return t!==e&&(ye.set(e,t),ge.set(t,e)),t}var xe,Ee=function(e){return ge.get(e)},Ie=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],Te=new Map;function Se(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(Te.get(t))return Te.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=_e.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ie.includes(n))){var a=function(){var e=d(f().mark((function e(t){var a,o,u,s,c,l,h=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=h.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=h[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Te.set(t,a),a}}}ke=c(c({},xe=ke),{},{get:function(e,t,n){return Se(e,t)||xe.get(e,t,n)},has:function(e,t){return!!Se(e,t)||xe.has(e,t)}});var Ae=function(){function e(t){b(this,e),this.container=t}return w(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}(),Ne="@firebase/app",Ce="0.7.25",Oe=new de("@firebase/app"),Pe="[DEFAULT]",Re=(l(t={},Ne,"fire-core"),l(t,"@firebase/app-compat","fire-core-compat"),l(t,"@firebase/analytics","fire-analytics"),l(t,"@firebase/analytics-compat","fire-analytics-compat"),l(t,"@firebase/app-check","fire-app-check"),l(t,"@firebase/app-check-compat","fire-app-check-compat"),l(t,"@firebase/auth","fire-auth"),l(t,"@firebase/auth-compat","fire-auth-compat"),l(t,"@firebase/database","fire-rtdb"),l(t,"@firebase/database-compat","fire-rtdb-compat"),l(t,"@firebase/functions","fire-fn"),l(t,"@firebase/functions-compat","fire-fn-compat"),l(t,"@firebase/installations","fire-iid"),l(t,"@firebase/installations-compat","fire-iid-compat"),l(t,"@firebase/messaging","fire-fcm"),l(t,"@firebase/messaging-compat","fire-fcm-compat"),l(t,"@firebase/performance","fire-perf"),l(t,"@firebase/performance-compat","fire-perf-compat"),l(t,"@firebase/remote-config","fire-rc"),l(t,"@firebase/remote-config-compat","fire-rc-compat"),l(t,"@firebase/storage","fire-gcs"),l(t,"@firebase/storage-compat","fire-gcs-compat"),l(t,"@firebase/firestore","fire-fst"),l(t,"@firebase/firestore-compat","fire-fst-compat"),l(t,"fire-js","fire-js"),l(t,"firebase","fire-js-all"),t),De=new Map,Le=new Map;function Me(e,t){try{e.container.addComponent(t)}catch(E){Oe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),E)}}function Fe(e,t){e.container.addOrOverwriteComponent(t)}function Ue(e){var t=e.name;if(Le.has(t))return Oe.debug("There were multiple attempts to register component ".concat(t,".")),!1;Le.set(t,e);var n,r=p(De.values());try{for(r.s();!(n=r.n()).done;)Me(n.value,e)}catch(i){r.e(i)}finally{r.f()}return!0}function je(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe;je(e,t).clearInstance(n)}function Be(){Le.clear()}var qe=new z("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."}),ze=function(){function e(t,n,r){var i=this;b(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ne("app",(function(){return i}),"PUBLIC"))}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}}]),e}(),Ke="9.8.2";function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!=typeof t&&(t={name:t});var n=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw qe.create("bad-app-name",{appName:String(r)});var i=De.get(r);if(i){if(W(e,i.options)&&W(n,i.config))return i;throw qe.create("duplicate-app",{appName:r})}var a,o=new ae(r),u=p(Le.values());try{for(u.s();!(a=u.n()).done;){var s=a.value;o.addComponent(s)}}catch(l){u.e(l)}finally{u.f()}var c=new ze(e,n,o);return De.set(r,c),c}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=De.get(e);if(!t)throw qe.create("no-app",{appName:e});return t}function Ge(){return Array.from(De.values())}function He(e){return Ye.apply(this,arguments)}function Ye(){return Ye=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,e.t0=De.has(n),!e.t0){e.next=7;break}return De.delete(n),e.next=6,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 6:t.isDeleted=!0;case 7:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function Ze(e,t,n){var r,i=null!==(r=Re[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Oe.warn(u.join(" "))}Ue(new ne("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Je(e,t){if(null!==e&&"function"!=typeof e)throw qe.create("invalid-log-argument");!function(e,t){var n,r=p(oe);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ce[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:te[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Xe(e){var t;t=e,oe.forEach((function(e){e.setLogLevel(t)}))}var $e="firebase-heartbeat-store",et=null;function tt(){return et||(et=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=we(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(we(u.result),e.oldVersion,e.newVersion,we(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){0===t&&e.createObjectStore($e)}}).catch((function(e){throw qe.create("storage-open",{originalErrorMessage:e.message})}))),et}function nt(e,t){return rt.apply(this,arguments)}function rt(){return rt=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt();case 3:return r=e.sent.transaction($e,"readwrite"),i=r.objectStore($e),e.next=7,i.put(n,it(t));case 7:return e.abrupt("return",r.done);case 10:throw e.prev=10,e.t0=e.catch(0),qe.create("storage-set",{originalErrorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),rt.apply(this,arguments)}function it(e){return"".concat(e.name,"!").concat(e.options.appId)}var at=function(){function e(t){var n=this;b(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ut(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return w(e,[{key:"triggerHeartbeat",value:function(){var e=d(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ot(),e.t0=null===this._heartbeatsCache,!e.t0){e.next=6;break}return e.next=5,this._heartbeatsCachePromise;case 5:this._heartbeatsCache=e.sent;case 6:if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((function(e){return e.date===n}))){e.next=8;break}return e.abrupt("return",(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHeartbeatsHeader",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null===this._heartbeatsCache,!e.t0){e.next=4;break}return e.next=4,this._heartbeatsCachePromise;case 4:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=6;break}return e.abrupt("return","");case 6:if(t=ot(),n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=p(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),st(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),st(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done&&"break"!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=P(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=14;break}return this._heartbeatsCache.heartbeats=i,e.next=12,this._storage.overwrite(this._heartbeatsCache);case 12:e.next=15;break;case 14:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function ot(){return(new Date).toISOString().substring(0,10)}var ut=function(){function e(t){b(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return w(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!B()&&new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((function(){return!0})).catch((function(){return!1})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"read",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.t1=e.sent,!e.t1){e.next=7;break}return e.next=6,function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt();case 3:return e.abrupt("return",e.sent.transaction($e).objectStore($e).get(it(t)));case 6:throw e.prev=6,e.t0=e.catch(0),qe.create("storage-get",{originalErrorMessage:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()(this.app);case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0={heartbeats:[]};case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"overwrite",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(!e.sent){e.next=7;break}return e.next=5,this.read();case 5:return r=e.sent,e.abrupt("return",nt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(!e.sent){e.next=7;break}return e.next=5,this.read();case 5:return r=e.sent,e.abrupt("return",nt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function st(e){return P(JSON.stringify({version:2,heartbeats:e})).length}Ue(new ne("platform-logger",(function(e){return new Ae(e)}),"PRIVATE")),Ue(new ne("heartbeat",(function(e){return new at(e)}),"PRIVATE")),Ze(Ne,Ce,""),Ze(Ne,Ce,"esm2017"),Ze("fire-js","");var ct=function(){function e(t,n){var r=this;b(this,e),this._delegate=t,this.firebase=n,Me(t,new ne("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),He(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Me(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Fe(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),lt=new z("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ft=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=Qe(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Q(t,i.name))return t[i.name];var a=new e(i,n);return t[i.name]=a,a},app:i,registerVersion:Ze,setLogLevel:Xe,onLog:Je,apps:null,SDK_VERSION:Ke,INTERNAL:{registerComponent:function(t){var r=t.name,a=r.replace("-compat","");if(Ue(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!=typeof e[a])throw lt.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&R(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this._getService.bind(this,r).apply(this,t.multipleInstances?n:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!Q(t,e=e||Pe))throw lt.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,n}(ct);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){R(t,e)},createSubscribe:J,ErrorFactory:z,deepExtend:R}),t}(),ht=new de("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ht.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&ht.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pt=ft;function vt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Ze("@firebase/app-compat","0.1.26",void 0),pt.registerVersion("firebase","9.8.2","app-compat"),Object.create,Object.create;var mt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},yt=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new z("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kt=new de("@firebase/auth");function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kt.logLevel<=te.ERROR&&kt.error.apply(kt,["Auth (".concat(Ke,"): ").concat(e)].concat(n))}function wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _t.apply(void 0,[e].concat(n))}function xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _t.apply(void 0,[e].concat(n))}function Et(e,t,n){var r=Object.assign(Object.assign({},yt()),l({},t,n));return new z("auth","Firebase",r).create(t,{appName:e.name})}function It(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wt(e,"argument-error"),Et(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.Did you pass a reference from a different Auth SDK?"))}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!=typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return gt.create.apply(gt,[e].concat(n))}function Tt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw _t.apply(void 0,[t].concat(r))}function St(e){var t="INTERNAL ASSERTION FAILED: "+e;throw bt(t),new Error(t)}function At(e,t){e||St(t)}var Nt=new Map;function Ct(e){At(e instanceof Function,"Expected a class definition");var t=Nt.get(e);return t?(At(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nt.set(e,t),t)}function Ot(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pt(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Dt=function(){function e(t,n){b(this,e),this.shortDelay=t,this.longDelay=n,At(n>t,"Short delay should be less than long delay!"),this.isMobile=M()||j()}return w(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||U()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Lt(e,t){At(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Mt=function(){function e(){b(this,e)}return w(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ut=new Dt(3e4,6e4);function jt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vt(e,t,n,r){return Bt.apply(this,arguments)}function Bt(){return Bt=d(f().mark((function e(t,n,r,i){var a,o=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",qt(t,a,d(f().mark((function e(){var a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=H(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=5,t._getAdditionalHeaders();case 5:return s=e.sent,e.abrupt("return",(s["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),Mt.fetch()(Wt(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a))));case 7:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}function qt(e,t,n){return zt.apply(this,arguments)}function zt(){return zt=d(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,p;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ft),n),e.prev=2,a=new Gt(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ht(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=15;break}return e.abrupt("return",u);case 15:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=v(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=18;break}throw Ht(t,"credential-already-in-use",u);case 18:if("EMAIL_EXISTS"!==h){e.next=20;break}throw Ht(t,"email-already-in-use",u);case 20:if("USER_DISABLED"!==h){e.next=22;break}throw Ht(t,"user-disabled",u);case 22:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=25;break}throw Et(t,p,d);case 25:wt(t,p),e.next=33;break;case 28:if(e.prev=28,e.t0=e.catch(2),!(e.t0 instanceof q)){e.next=32;break}throw e.t0;case 32:wt(t,"network-request-failed");case 33:case"end":return e.stop()}}),e,null,[[2,28]])}))),zt.apply(this,arguments)}function Kt(e,t,n,r){return Qt.apply(this,arguments)}function Qt(){return Qt=d(f().mark((function e(t,n,r,i){var a,o,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Vt(t,n,r,i,a);case 3:return o=e.sent,e.abrupt("return",("mfaPendingCredential"in o&&wt(t,"multi-factor-auth-required",{_serverResponse:o}),o));case 5:case"end":return e.stop()}}),e)}))),Qt.apply(this,arguments)}function Wt(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Lt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Gt=function(){function e(t){var n=this;b(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(xt(n.auth,"network-request-failed"))}),Ut.get())}))}return w(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ht(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=xt(e,t,r);return i.customData._tokenResponse=n,i}function Yt(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Zt(e){return 1e3*Number(e)}function Jt(e){var t=e.split("."),n=v(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return bt("JWT malformed, contained fewer than 3 sections"),null;try{var o=function(e){try{return O.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(i);return o?JSON.parse(o):(bt("Failed to decode base64 JWT payload"),null)}catch(e){return bt("Caught error parsing JWT payload as JSON",e),null}}function Xt(e,t){return $t.apply(this,arguments)}function $t(){return $t=d(f().mark((function e(t,n){var r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),e.t1=e.t0 instanceof q&&function(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(e.t0)&&t.auth.currentUser===t,!e.t1){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),$t.apply(this,arguments)}var en=function(){function e(t){b(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return w(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",void("auth/network-request-failed"===e.t0.code&&this.schedule(!0)));case 8:this.schedule();case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),tn=function(){function e(t,n){b(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return w(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Yt(this.lastLoginAt),this.creationTime=Yt(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function nn(e){return rn.apply(this,arguments)}function rn(){return rn=d(f().mark((function e(t){var n,r,i,a,o,u,s,c,l,p,v,m,y;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Xt(t,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(r,{idToken:i}));case 6:Tt(null==(a=e.sent)?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=vt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=t.providerData,l=u,s=[].concat(h(c.filter((function(e){return!l.some((function(t){return t.providerId===e.providerId}))}))),h(l)),p=t.isAnonymous,v=!(t.email&&o.passwordHash||(null==s?void 0:s.length)),m=!!p&&v,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new tn(o.createdAt,o.lastLoginAt),isAnonymous:m},Object.assign(t,y);case 13:case"end":return e.stop()}}),e)}))),rn.apply(this,arguments)}var an=function(){function e(){b(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return w(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Tt(e.idToken,"internal-error"),Tt(void 0!==e.idToken,"internal-error"),Tt(void 0!==e.refreshToken,"internal-error");var t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){var t=Jt(e);return Tt(t,"internal-error"),Tt(void 0!==t.exp,"internal-error"),Tt(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=d(f().mark((function e(t){var n,r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Tt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired){e.next=13;break}if(!this.refreshToken){e.next=9;break}return e.next=6,this.refresh(t,this.refreshToken);case 6:e.t1=this.accessToken,e.next=10;break;case 9:e.t1=null;case 10:e.t0=e.t1,e.next=14;break;case 13:e.t0=this.accessToken;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=d(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt(t,{},d(f().mark((function e(){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Wt(t,a,"/v1/token","key=".concat(o)),e.next=7,t._getAdditionalHeaders();case 7:return s=e.sent,e.abrupt("return",(s["Content-Type"]="application/x-www-form-urlencoded",Mt.fetch()(u,{method:"POST",headers:s,body:r})));case 9:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return St("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Tt("string"==typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Tt("string"==typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Tt("number"==typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function on(e,t){Tt("string"==typeof e||void 0===e,"internal-error",{appName:t})}var un=function(){function e(t){b(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=vt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new en(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new tn(a.createdAt||void 0,a.lastLoginAt||void 0)}return w(e,[{key:"getIdToken",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Tt(n=e.sent,this.auth,"internal-error"),e.t0=this.accessToken!==n,!e.t0){e.next=10;break}return this.accessToken=n,e.next=9,this.auth._persistUserIfCurrent(this);case 9:this.auth._notifyListenersIfCurrent(this);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getIdTokenResult",value:function(e){return function(){var e=d(f().mark((function e(t){var n,r,i,a,o,u,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ee(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Tt((a=Jt(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"==typeof a.firebase?a.firebase:void 0,u=null==o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Yt(Zt(a.auth_time)),issuedAtTime:Yt(Zt(a.iat)),expirationTime:Yt(Zt(a.exp)),signInProvider:u||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this,e)}},{key:"reload",value:function(){return function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ee(t),e.next=3,nn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this)}},{key:"_assign",value:function(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=d(f().mark((function e(t){var n,r,i=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e.t0=n,!e.t0){e.next=7;break}return e.next=7,nn(this);case 7:return e.next=9,this.auth._persistUserIfCurrent(this);case 9:r&&this.auth._notifyListenersIfCurrent(this);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Xt(this,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Tt(k&&E,t,"internal-error");var I=an.fromJSON(this.name,E);Tt("string"==typeof k,t,"internal-error"),on(f,t.name),on(h,t.name),Tt("boolean"==typeof b,t,"internal-error"),Tt("boolean"==typeof w,t,"internal-error"),on(d,t.name),on(p,t.name),on(v,t.name),on(m,t.name),on(y,t.name),on(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=d(f().mark((function t(n,r){var i,a,o,u=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new an).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,nn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()}]),e}(),sn=function(){function e(){b(this,e),this.type="NONE",this.storage={}}return w(e,[{key:"_isAvailable",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_set",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();sn.type="NONE";var cn=sn;function ln(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var fn=function(){function e(t,n,r){b(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ln(this.userKey,a.apiKey,o),this.fullPersistenceKey=ln("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return w(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?un._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:return this.persistence=t,e.abrupt("return",n?this.setCurrentUser(n):void 0);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=d(f().mark((function t(n,r){var i,a,o,u,s,c,l,h,v,m,y,g=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ct(cn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ct(cn),u=ln(i,n.config.apiKey,n.name),s=null,c=p(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=28;break}return h=l.value,t.prev=14,t.next=17,h._get(u);case 17:if(!(v=t.sent)){t.next=22;break}return m=un._fromJSON(n,v),h!==o&&(s=m),o=h,t.abrupt("break",28);case 22:t.next=26;break;case 24:t.prev=24,t.t0=t.catch(14);case 26:t.next=12;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(10),c.e(t.t1);case 33:return t.prev=33,c.f(),t.finish(33);case 36:if(y=a.filter((function(e){return e._shouldAllowMigration})),!o._shouldAllowMigration||!y.length){t.next=48;break}if(o=y[0],t.t3=s,!t.t3){t.next=43;break}return t.next=43,o._set(u,s.toJSON());case 43:return t.next=45,Promise.all(r.map(function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 45:t.t2=new e(o,n,i),t.next=49;break;case 48:t.t2=new e(o,n,i);case 49:return t.abrupt("return",t.t2);case 50:case"end":return t.stop()}}),t,null,[[10,30,33,36],[14,24]])})));function n(e,n){return t.apply(this,arguments)}return n}()}]),e}();function hn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gn(t))return"Blackberry";if(kn(t))return"Webos";if(pn(t))return"Safari";if((t.includes("chrome/")||vn(t))&&!t.includes("edge/"))return"Chrome";if(yn(t))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);return 2===(null==r?void 0:r.length)?r[1]:"Other"}function dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/firefox\//i.test(e)}function pn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:L()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/crios\//i.test(e)}function mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/iemobile/i.test(e)}function yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/android/i.test(e)}function gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/blackberry/i.test(e)}function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/webos/i.test(e)}function bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/iphone|ipad|ipod/i.test(e)}function wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return bn(e)||yn(e)||kn(e)||gn(e)||/windows phone/i.test(e)||mn(e)}function xn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hn(L());break;case"Worker":t="".concat(hn(L()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/JsCore/").concat(Ke,"/").concat(r)}var En=function(){function e(t){b(this,e),this.auth=t,this.queue=[]}return w(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(e){r(e)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=p(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=p(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(t){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),In=function(){function e(t,n,r){b(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.beforeStateQueue=new En(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return w(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ct(t)),this._initializationPromise=this.queue(d(f().mark((function r(){var i,a;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=!n._deleted,!r.t0){r.next=6;break}return r.next=4,fn.create(n,e);case 4:n.persistenceManager=r.sent,r.t0=!n._deleted;case 6:if(!r.t0){r.next=19;break}if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t1=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,n._deleted||(n._isInitialized=!0);case 19:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,!this.currentUser&&!t){e.next=19;break}if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=13;break}return this._currentUser._assign(t),e.next=10,this.currentUser.getIdToken();case 10:e.t1=void e.sent,e.next=16;break;case 13:return e.next=15,this._updateCurrentUser(t,!0);case 15:e.t1=void e.sent;case 16:e.t0=e.t1,e.next=20;break;case 19:e.t0=void 0;case 20:return e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeCurrentUser",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=13;break}return e.next=7,this.getOrInitRedirectPersistenceManager();case 7:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null==i?void 0:i._redirectEventId,e.next=11,this.tryRedirectSignIn(t);case 11:s=e.sent,o&&o!==u||!(null==s?void 0:s.user)||(i=s.user,a=!0);case 13:if(i){e.next=15;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 15:if(i._redirectEventId){e.next=26;break}if(!a){e.next=25;break}return e.prev=17,e.next=20,this.beforeStateQueue.runMiddleware(i);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(17),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 25:return e.abrupt("return",i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null));case 26:return Tt(this._popupRedirectResolver,this,"argument-error"),e.next=29,this.getOrInitRedirectPersistenceManager();case 29:return e.abrupt("return",this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i));case 30:case"end":return e.stop()}}),e,this,[[17,22]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"tryRedirectSignIn",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"auth/network-request-failed"===e.t0.code){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCurrentUser",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?ee(t):null,e.abrupt("return",(n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_updateCurrentUser",value:function(){var e=d(f().mark((function e(t){var n,r=this,i=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],this._deleted){e.next=8;break}if(t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.t0=n,e.t0){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signOut",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(e.t0=this.redirectPersistenceManager||this._popupRedirectResolver,!e.t0){e.next=6;break}return e.next=6,this._setRedirectUser(null);case 6:return e.abrupt("return",this._updateCurrentUser(null,!0));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(d(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ct(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new z("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Tt(n=t&&Ct(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,fn.create(this,[Ct(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_redirectUserForId",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._isInitialized,!e.t0){e.next=4;break}return e.next=4,this.queue(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 4:return e.abrupt("return",(null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)===t?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?this.redirectUser:null);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_persistUserIfCurrent",value:function(){var e=d(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Tt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xn(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=d(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"X-Client-Version":this.clientVersion},this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return r=e.sent,e.abrupt("return",(r&&(n["X-Firebase-Client"]=r),n));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function _n(e){return ee(e)}var Tn=function(){function e(t){var n=this;b(this,e),this.auth=t,this.observer=null,this.addObserver=J((function(e){return n.observer=e}))}return w(e,[{key:"next",get:function(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Sn(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function An(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Nn=function(){function e(t,n){b(this,e),this.providerId=t,this.signInMethod=n}return w(e,[{key:"toJSON",value:function(){return St("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return St("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return St("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return St("not implemented")}}]),e}();function Cn(e,t){return On.apply(this,arguments)}function On(){return On=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:resetPassword",jt(t,n)));case 1:case"end":return e.stop()}}),e)}))),On.apply(this,arguments)}function Pn(e,t){return Rn.apply(this,arguments)}function Rn(){return Rn=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function Dn(e,t){return Ln.apply(this,arguments)}function Ln(){return Ln=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:sendOobCode",jt(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}var Mn=function(e){y(n,e);var t=g(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return b(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return w(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,"POST","/v1/accounts:signInWithPassword",jt(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,"POST","/v1/accounts:signInWithEmailLink",jt(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,{email:this._email,oobCode:this._password}));case 5:wt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_linkToIdToken",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Pn(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,"POST","/v1/accounts:signInWithEmailLink",jt(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Nn);function Fn(e,t){return Un.apply(this,arguments)}function Un(){return Un=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,"POST","/v1/accounts:signInWithIdp",jt(t,n)));case 1:case"end":return e.stop()}}),e)}))),Un.apply(this,arguments)}var jn=function(e){y(n,e);var t=g(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return w(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Fn(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Fn(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Fn(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=H(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=vt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Nn),Vn={USER_NOT_FOUND:"user-not-found"},Bn=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this,"phone","phone")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(){var e=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ht(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,Object.assign(Object.assign({},n),{operation:"REAUTH"})),Vn));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Nn),qn=function(){function e(t){var n,r,i,a,o,u;b(this,e);var s=Y(Z(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Tt(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return w(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Y(Z(e)).link,n=t?Y(Z(t)).deep_link_id:null,r=Y(Z(e)).deep_link_id;return(r?Y(Z(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(t){return null}}}]),e}(),zn=function(){function e(){b(this,e),this.providerId=e.PROVIDER_ID}return w(e,null,[{key:"credential",value:function(e,t){return Mn._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qn.parseLink(t);return Tt(n,"argument-error"),Mn._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();zn.PROVIDER_ID="password",zn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Kn=function(){function e(t){b(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return w(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Qn=function(e){y(n,e);var t=g(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).scopes=[],e}return w(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Kn),Wn=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Tt(e.idToken||e.accessToken,"argument-error"),jn._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return Tt("providerId"in t&&"signInMethod"in t,"argument-error"),jn._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!(i||a||r||o))return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(t){return null}}}]),n}(Qn),Gn=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.call(this,"facebook.com")}return w(n,null,[{key:"credential",value:function(e){return jn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(t){return null}}}]),n}(Qn);Gn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gn.PROVIDER_ID="facebook.com";var Hn=function(e){y(n,e);var t=g(n);function n(){var e;return b(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return w(n,null,[{key:"credential",value:function(e,t){return jn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(t){return null}}}]),n}(Qn);Hn.GOOGLE_SIGN_IN_METHOD="google.com",Hn.PROVIDER_ID="google.com";var Yn=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.call(this,"github.com")}return w(n,null,[{key:"credential",value:function(e){return jn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(t){return null}}}]),n}(Qn);Yn.GITHUB_SIGN_IN_METHOD="github.com",Yn.PROVIDER_ID="github.com";var Zn=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return w(n,[{key:"_getIdTokenResponse",value:function(e){return Fn(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Fn(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Fn(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Nn),Jn=function(e){y(n,e);var t=g(n);function n(e){return b(this,n),Tt(e.startsWith("saml."),"argument-error"),t.call(this,e)}return w(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Zn.fromJSON(e);return Tt(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Zn._create(r,n)}catch(t){return null}}}]),n}(Kn),Xn=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.call(this,"twitter.com")}return w(n,null,[{key:"credential",value:function(e,t){return jn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(t){return null}}}]),n}(Qn);function $n(e,t){return er.apply(this,arguments)}function er(){return er=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,"POST","/v1/accounts:signUp",jt(t,n)));case 1:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}Xn.TWITTER_SIGN_IN_METHOD="twitter.com",Xn.PROVIDER_ID="twitter.com";var tr=function(){function e(t){b(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return w(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=d(f().mark((function t(n,r,i){var a,o,u,s=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>3&&void 0!==s[3]&&s[3],t.next=3,un._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=nr(i),t.abrupt("return",new e({user:o,providerId:u,_tokenResponse:i,operationType:r}));case 6:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"_forOperation",value:function(){var t=d(f().mark((function t(n,r,i){var a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=nr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()}]),e}();function nr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var rr=function(e){y(n,e);var t=g(n);function n(e,r,i,a){var o,u;return b(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(m(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return w(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(q);function ir(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if("auth/multi-factor-auth-required"===n.code)throw rr._fromErrorAndOperation(e,n,t,r);throw n}))}function ar(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function or(e,t){return ur.apply(this,arguments)}function ur(){return ur=d(f().mark((function e(t,n){var r,i,a=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Xt,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",tr._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ur.apply(this,arguments)}function sr(e,t,n){return cr.apply(this,arguments)}function cr(){return cr=d(f().mark((function e(t,n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(n);case 2:i=!1===t?"provider-already-linked":"no-such-provider",Tt(ar(n.providerData).has(r)===t,n.auth,i);case 4:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return fr=d(f().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=2,e.next=5,Xt(t,ir(i,a,n,t),r);case 5:return Tt((o=e.sent).idToken,i,"internal-error"),Tt(u=Jt(o.idToken),i,"internal-error"),s=u.sub,e.abrupt("return",(Tt(t.uid===s,i,"user-mismatch"),tr._forOperation(t,a,o)));case 13:throw e.prev=13,e.t0=e.catch(2),"auth/user-not-found"===(null==e.t0?void 0:e.t0.code)&&wt(i,"user-mismatch"),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,13]])}))),fr.apply(this,arguments)}function hr(e,t){return dr.apply(this,arguments)}function dr(){return dr=d(f().mark((function e(t,n){var r,i,a,o,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ir(t,i,n);case 4:return a=e.sent,e.next=7,tr._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,e.t0=r,e.t0){e.next=12;break}return e.next=12,t._updateCurrentUser(o.user);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}function pr(e,t){return vr.apply(this,arguments)}function vr(){return vr=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hr(_n(t),n));case 1:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}function mr(e,t){return yr.apply(this,arguments)}function yr(){return yr=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,sr(!1,r,n.providerId);case 3:return e.abrupt("return",or(r,n));case 4:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}function gr(e,t){return kr.apply(this,arguments)}function kr(){return kr=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(ee(t),n));case 1:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}var br=function(){function e(t,n){b(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return w(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?wr._fromServerResponse(e,t):wt(e,"internal-error")}}]),e}(),wr=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return w(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(br);function xr(e,t,n){var r;Tt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tt(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Er(e,t){return Ir.apply(this,arguments)}function Ir(){return Ir=d(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,Cn(r,{oobCode:n});case 3:i=e.sent,a=i.requestType,e.t0=(Tt(a,r,"internal-error"),a),e.next="EMAIL_SIGNIN"===e.t0?8:"VERIFY_AND_CHANGE_EMAIL"===e.t0?9:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?11:12;break;case 8:return e.abrupt("break",13);case 9:return Tt(i.newEmail,r,"internal-error"),e.abrupt("break",13);case 11:Tt(i.mfaInfo,r,"internal-error");case 12:Tt(i.email,r,"internal-error");case 13:return o=null,e.abrupt("return",(i.mfaInfo&&(o=br._fromServerResponse(_n(r),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a}));case 15:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}function _r(e,t,n){return Tr.apply(this,arguments)}function Tr(){return Tr=d(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=!0,a={idToken:e.t0,returnSecureToken:e.t1},n&&(a.email=n),r&&(a.password=r),e.next=9,Xt(t,Pn(i,a));case 9:return o=e.sent,e.next=12,t._updateTokensIfNecessary(o,!0);case 12:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}var Sr=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ar=function(e){y(n,e);var t=g(n);function n(e,r,i,a){var o;return b(this,n),(o=t.call(this,e,r,i)).username=a,o}return w(n)}(Sr),Nr=function(e){y(n,e);var t=g(n);function n(e,r){return b(this,n),t.call(this,e,"facebook.com",r)}return w(n)}(Sr),Cr=function(e){y(n,e);var t=g(n);function n(e,r){return b(this,n),t.call(this,e,"github.com",r,"string"==typeof(null==r?void 0:r.login)?null==r?void 0:r.login:null)}return w(n)}(Ar),Or=function(e){y(n,e);var t=g(n);function n(e,r){return b(this,n),t.call(this,e,"google.com",r)}return w(n)}(Sr),Pr=function(e){y(n,e);var t=g(n);function n(e,r,i){return b(this,n),t.call(this,e,"twitter.com",r,i)}return w(n)}(Ar);function Rr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){var o=null===(n=null===(t=Jt(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Sr(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Nr(a,i);case"github.com":return new Cr(a,i);case"google.com":return new Or(a,i);case"twitter.com":return new Pr(a,i,e.screenName||null);case"custom":case"anonymous":return new Sr(a,null);default:return new Sr(a,r,i)}}(n)}var Dr=function(){function e(t,n){b(this,e),this.type=t,this.credential=n}return w(e,[{key:"toJSON",value:function(){return{multiFactorSession:l({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null==t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Lr=function(){function e(t,n,r){b(this,e),this.session=t,this.hints=n,this.signInResolver=r}return w(e,[{key:"resolveSignIn",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"_fromError",value:function(t,n){var r=_n(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return br._fromServerResponse(r,e)}));Tt(i.mfaPendingCredential,r,"internal-error");var o=Dr._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=d(f().mark((function e(t){var a,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?8:"reauthenticate"===e.t0?14:15;break;case 8:return e.next=10,tr._fromIdTokenResponse(r,n.operationType,u);case 10:return s=e.sent,e.next=13,r._updateCurrentUser(s.user);case 13:return e.abrupt("return",s);case 14:return e.abrupt("return",(Tt(n.user,r,"internal-error"),tr._forOperation(n.user,n.operationType,u)));case 15:wt(r,"internal-error");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}(),Mr=function(){function e(t){var n=this;b(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return br._fromServerResponse(t.auth,e)})))}))}return w(e,[{key:"getSession",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Dr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"enroll",value:function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Xt(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unenroll",value:function(){var e=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"==typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Xt(this.user,function(e,t){return Vt(e,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(e,t))}(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),"auth/user-token-expired"===e.t0.code){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Fr=new WeakMap,Ur="__sak",jr=function(){function e(t,n){b(this,e),this.storageRetriever=t,this.type=n}return w(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ur,"1"),this.storage.removeItem(Ur),Promise.resolve(!0)):Promise.resolve(!1)}catch(r){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}(),Vr=function(e){y(n,e);var t=g(n);function n(){var e;return b(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=L();return pn(e)||bn(e)}()&&function(){try{return!(!window||window===window.top)}catch(r){return!1}}(),e.fallbackToPolling=wn(),e._shouldAllowMigration=!0,e}return w(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);V()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++)(0,i[r])(t?JSON.parse(t):t)}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=d(f().mark((function e(t,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(s(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=d(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(s(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,e.abrupt("return",(this.localCache[t]=JSON.stringify(r),r));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(s(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(jr);Vr.type="LOCAL";var Br=Vr,qr=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return w(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(jr);qr.type="SESSION";var zr=qr,Kr=function(){function e(t){b(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return w(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,u,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null==(u=this.handlersMap[a])?void 0:u.size){e.next=3;break}return e.abrupt("return");case 3:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=7,function(e){return Promise.all(e.map(function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=!0,e.next=4,t;case 4:return e.t1=e.sent,e.abrupt("return",{fulfilled:e.t0,value:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t2});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}(s);case 7:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Qr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Kr.receivers=[];var Wr=function(){function e(t){b(this,e),this.target=t,this.handlers=new Set}return w(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=d(f().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!=typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Qr("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}();function Gr(){return window}function Hr(){return void 0!==Gr().WorkerGlobalScope&&"function"==typeof Gr().importScripts}var Yr="firebaseLocalStorageDb",Zr="firebaseLocalStorage",Jr="fbase_key",Xr=function(){function e(t){b(this,e),this.request=t}return w(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function $r(e,t){return e.transaction([Zr],t?"readwrite":"readonly").objectStore(Zr)}function ei(){var e=indexedDB.open(Yr,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zr,{keyPath:Jr})}catch(e){n(e)}})),e.addEventListener("success",d(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=e.result).objectStoreNames.contains(Zr)){n.next=5;break}t(r),n.next=13;break;case 5:return r.close(),n.next=8,function(){var e=indexedDB.deleteDatabase(Yr);return new Xr(e).toPromise()}();case 8:return n.t0=t,n.next=11,ei();case 11:n.t1=n.sent,(0,n.t0)(n.t1);case 13:case"end":return n.stop()}}),n)}))))}))}function ti(e,t,n){return ni.apply(this,arguments)}function ni(){return ni=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$r(t,!0).put((l(i={},Jr,n),l(i,"value",r),i)),e.abrupt("return",new Xr(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(e,t){var n=$r(e,!0).delete(t);return new Xr(n).toPromise()}var ii=function(){function e(){b(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return w(e,[{key:"_openDb",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=5;break}return e.next=4,ei();case 4:this.db=e.sent;case 5:return e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_withRetries",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=1,e.next=4,this._openDb();case 4:return r=e.sent,e.next=7,t(r);case 7:return e.abrupt("return",e.sent);case 10:if(e.prev=10,e.t0=e.catch(1),!(n++>3)){e.next=14;break}throw e.t0;case 14:this.db&&(this.db.close(),this.db=void 0);case 15:e.next=1;break;case 17:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeReceiver",value:function(){var e=d(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Kr._getInstance(Hr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=d(f().mark((function e(n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return e.t0=e.sent.includes(r.key),e.abrupt("return",{keyProcessed:e.t0});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeSender",value:function(){var e=d(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return e.abrupt("return",e.sent.active);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Wr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:(r=e.sent)&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyServiceWorker",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sender||!this.activeServiceWorker||function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()!==this.activeServiceWorker){e.next=8;break}return e.prev=1,e.next=4,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isAvailable",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ei();case 5:return t=e.sent,e.next=8,ti(t,Ur,"1");case 8:return e.next=10,ri(t,Ur);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_withPendingWrite",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_set",value:function(){var e=d(f().mark((function e(t,n){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ti(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return function(){var e=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$r(t,!1).get(n),e.next=3,new Xr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,t)}));case 2:return n=e.sent,e.abrupt("return",(this.localCache[t]=n,n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=d(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ri(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_poll",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a,o,u,s,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=$r(e,!1).getAll();return new Xr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=p(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++)(0,i[r])(t)}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ii.type="LOCAL";var ai=ii;function oi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=xt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ui(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var si=1e12,ci=function(){function e(t){b(this,e),this.auth=t,this.counter=si,this._widgets=new Map}return w(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new li(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||si;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||si;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||si,e.abrupt("return",(null===(n=this._widgets.get(r))||void 0===n||n.execute(),""));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),li=function(){function e(t,n,r){var i=this;b(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"==typeof t?document.getElementById(t):t;Tt(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return w(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(n){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(n){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}(),fi=ui("rcb"),hi=new Dt(3e4,6e4),di=function(){function e(){b(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gr().grecaptcha}return w(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Tt(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Gr().grecaptcha):new Promise((function(r,i){var a=Gr().setTimeout((function(){i(xt(e,"network-request-failed"))}),hi.get());Gr()[fi]=function(){Gr().clearTimeout(a),delete Gr()[fi];var o=Gr().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(xt(e,"internal-error"))},oi("https://www.google.com/recaptcha/api.js??".concat(H({onload:fi,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(xt(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Gr().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}(),pi=function(){function e(){b(this,e)}return w(e,[{key:"load",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ci(t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearedOneInstance",value:function(){}}]),e}(),vi="recaptcha",mi={theme:"light",type:"image"},yi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},mi),r=arguments.length>2?arguments[2]:void 0;b(this,e),this.parameters=n,this.type=vi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(r),this.isInvisible="invisible"===this.parameters.size,Tt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"==typeof t?document.getElementById(t):t;Tt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pi:new di,this.validateStartingState()}return w(e,[{key:"verify",value:function(){var e=d(f().mark((function e(){var t,n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:return t=e.sent,n=this.getAssertedRecaptcha(),e.abrupt("return",n.getResponse(t)||new Promise((function(e){var i=function t(n){n&&(r.tokenChangeListeners.delete(t),e(n))};r.tokenChangeListeners.add(i),r.isInvisible&&n.execute(t)})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(r){return Promise.reject(r)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Tt(!this.parameters.sitekey,this.auth,"argument-error"),Tt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Tt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"==typeof e)e(n);else if("string"==typeof e){var r=Gr()[e];"function"==typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Tt(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=d(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:if(this.widgetId){e.next=6;break}t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters);case 6:return e.abrupt("return",this.widgetId);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt(Pt()&&!Hr(),this.auth,"internal-error"),e.next=3,function(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.auth);case 8:Tt(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAssertedRecaptcha",value:function(){return Tt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}(),gi=function(){function e(t,n){b(this,e),this.verificationId=t,this.onConfirmation=n}return w(e,[{key:"confirm",value:function(e){var t=Bn._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ki(e,t,n){return bi.apply(this,arguments)}function bi(){return bi=d(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,p;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Tt("string"==typeof a,t,"argument-error"),Tt(r.type===vi,t,"argument-error"),!("session"in(o="string"==typeof n?{phoneNumber:n}:n))){e.next=19;break}if(u=o.session,!("phoneNumber"in o)){e.next=12;break}return Tt("enroll"===u.type,t,"internal-error"),e.next=10,function(e,t){return Vt(e,"POST","/v2/accounts/mfaEnrollment:start",jt(e,t))}(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 10:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 12:return Tt("signin"===u.type,t,"internal-error"),Tt(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=17,function(e,t){return Vt(e,"POST","/v2/accounts/mfaSignIn:start",jt(e,t))}(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 17:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 19:return e.next=21,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:sendVerificationCode",jt(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 21:return h=e.sent,p=h.sessionInfo,e.abrupt("return",p);case 24:return e.prev=24,r._reset(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[3,,24,27]])}))),bi.apply(this,arguments)}var wi=function(){function e(t){b(this,e),this.providerId=e.PROVIDER_ID,this.auth=_n(t)}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return ki(this.auth,e,ee(t))}}],[{key:"credential",value:function(e,t){return Bn._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Bn._fromTokenResponse(n,r):null}}]),e}();function xi(e,t){return t?Ct(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wi.PROVIDER_ID="phone",wi.PHONE_SIGN_IN_METHOD="phone";var Ei=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this,"custom","custom")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return Fn(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Fn(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Fn(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Nn);function Ii(e){return hr(e.auth,new Ei(e),e.bypassAuthState)}function _i(e){var t=e.auth,n=e.user;return Tt(n,t,"internal-error"),lr(n,new Ei(e),e.bypassAuthState)}function Ti(e){return Si.apply(this,arguments)}function Si(){return Si=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,r=t.user,e.abrupt("return",(Tt(r,n,"internal-error"),or(r,new Ei(t),t.bypassAuthState)));case 2:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}var Ai=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];b(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return w(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=d(f().mark((function t(n,r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=3;break}return e.abrupt("return",void this.reject(o));case 3:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=4,e.t0=this,e.next=8,this.getIdpTask(u)(s);case 8:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(4),this.reject(e.t2);case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return Ti;case"reauthViaPopup":case"reauthViaRedirect":return _i;default:wt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ni=new Dt(2e3,1e4),Ci=function(e){y(n,e);var t=g(n);function n(e,r,i,a,o){var u;return b(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=m(u),u}return w(n,[{key:"executeNotNull",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return t=e.sent,e.abrupt("return",(Tt(t,this.auth,"internal-error"),t));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onExecution",value:function(){var e=d(f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return At(1===this.filter.length,"Popup operations only handle one event"),t=Qr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(xt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(xt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(xt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ni.get())};t()}}]),n}(Ai);Ci.currentPopupAction=null;var Oi=new Map,Pi=function(e){y(n,e);var t=g(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return w(n,[{key:"execute",value:function(){var e=d(f().mark((function e(){var t,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Oi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fi(n),i=Mi(t),e.next=3,i._isAvailable();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,i._get(r);case 7:return e.t0=e.sent,a="true"===e.t0,e.next=11,i._remove(r);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,u(s(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Oi.set(this.auth._key(),t);case 21:return e.abrupt("return",(this.bypassAuthState||Oi.set(this.auth._key(),(function(){return Promise.resolve(null)})),t()));case 22:case"end":return e.stop()}}),e,this,[[2,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAuthEvent",value:function(){var e=d(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=2;break}return e.abrupt("return",u(s(n.prototype),"onAuthEvent",this).call(this,t));case 2:if("unknown"===t.type){e.next=12;break}if(!t.eventId){e.next=10;break}return e.next=6,this.auth._redirectUserForId(t.eventId);case 6:if(!(r=e.sent)){e.next=9;break}return e.abrupt("return",(this.user=r,u(s(n.prototype),"onAuthEvent",this).call(this,t)));case 9:this.resolve(null);case 10:e.next=13;break;case 12:this.resolve(null);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onExecution",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cleanUp",value:function(){}}]),n}(Ai);function Ri(e,t){return Di.apply(this,arguments)}function Di(){return Di=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t)._set(Fi(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Li(e,t){Oi.set(e._key(),t)}function Mi(e){return Ct(e._redirectPersistence)}function Fi(e){return ln("pendingRedirect",e.config.apiKey,e.name)}function Ui(e,t){return ji.apply(this,arguments)}function ji(){return ji=d(f().mark((function e(t,n){var r,i,a,o,u,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=_n(t),a=xi(i,n),o=new Pi(i,a,r),e.next=6,o.execute();case 6:if(u=e.sent,e.t0=u&&!r,!e.t0){e.next=14;break}return delete u.user._redirectEventId,e.next=12,i._persistUserIfCurrent(u.user);case 12:return e.next=14,i._setRedirectUser(null,n);case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Vi(e){return Bi.apply(this,arguments)}function Bi(){return Bi=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}var qi=function(){function e(t){b(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return w(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ki(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ki(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zi(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(zi(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function zi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ki(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}function Qi(e){return Wi.apply(this,arguments)}function Wi(){return Wi=d(f().mark((function e(t){var n,r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vt(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}var Gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hi=/^https?/;function Yi(e){var t=Ot(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hi.test(r))return!1;if(Gi.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Zi=new Dt(3e4,6e4);function Ji(){var e=Gr().___jsl;if(null==e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Xi=null;function $i(e){return Xi=Xi||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ji(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ji(),n(xt(e,"network-request-failed"))},timeout:Zi.get()})}if(null===(i=null===(r=Gr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gr().gapi)||void 0===a?void 0:a.load)){var u=ui("iframefcb");return Gr()[u]=function(){gapi.load?o():n(xt(e,"network-request-failed"))},oi("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Xi=null,e}))}(e),Xi}var ea=new Dt(5e3,15e3),ta={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},na=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ra(e){var t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Lt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ke},i=na.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(H(r).slice(1))}var ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aa=function(){function e(t){b(this,e),this.window=t,this.associatedEvent=null}return w(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(r){}}}]),e}();function oa(e,t,n,r,i,a){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ke,eventId:i};if(t instanceof Kn){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=v(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Qn){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,m=Object.keys(d);p<m.length;p++){var y=m[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;return t.emulator?Lt(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/__/auth/handler")}(e),"?").concat(H(d).slice(1))}var ua="webStorageSupport",sa=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this,"phone")).credential=e,r}return w(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vt(e,"POST","/v2/accounts/mfaEnrollment:finalize",jt(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vt(e,"POST","/v2/accounts/mfaSignIn:finalize",jt(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){b(this,e),this.factorId=t}return w(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return St("unexpected MultiFactorSessionType")}}}]),e}()),ca=function(){function e(){b(this,e)}return w(e,null,[{key:"assertion",value:function(e){return sa._fromCredential(e)}}]),e}();ca.FACTOR_ID="phone";var la,fa="@firebase/auth",ha="0.20.2",da=function(){function e(t){b(this,e),this.auth=t,this.internalListeners=new Map}return w(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(!this.auth.currentUser){e.next=10;break}return e.next=6,this.auth.currentUser.getIdToken(t);case 6:e.t1=e.sent,e.t0={accessToken:e.t1},e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function pa(){return window}la="Browser",Ue(new ne("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Tt(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Tt(!(null==u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:la,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xn(la)},i=new In(e,t,r);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ct);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ue(new ne("auth-internal",(function(e){return function(e){return new da(e)}(_n(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ze(fa,ha,void 0),Ze(fa,ha,"esm2017");var va=function(e){y(n,e);var t=g(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return w(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),u(s(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(qi);function ma(e){return ya.apply(this,arguments)}function ya(){return ya=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka()._get(ba(t));case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=7;break}return e.next=7,ka()._remove(ba(t));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ga(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ka(){return Ct(Br)}function ba(e){return ln("authEvent",e.config.apiKey,e.name)}function wa(e){if(!(null==e?void 0:e.includes("?")))return{};var t=e.split("?"),n=o(t);return n[0],Y(n.slice(1).join("?"))}function xa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xt("no-auth-event")}}function Ea(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return!("file:"!==Ea()&&"ionic:"!==Ea()&&"capacitor:"!==Ea()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _a(){try{var e=self.localStorage,t=Qr();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return V()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/Edge\/\d+/.test(e)}(e)}()||B()}catch(e){return Ta()&&B()}return!1}function Ta(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Sa(){return("http:"===Ea()||"https:"===Ea()||U()||Ia())&&!(j()||F())&&_a()&&!Ta()}function Aa(){return Ia()&&"undefined"!=typeof document}var Na={LOCAL:"local",NONE:"none",SESSION:"session"},Ca=Tt,Oa="persistence";function Pa(e){return Ra.apply(this,arguments)}function Ra(){return Ra=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Da(),r=ln(Oa,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 4:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Da(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}var La=Tt,Ma=function(){function e(){b(this,e),this.browserResolver=Ct(function(){function e(){b(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zr,this._completeRedirectFn=Ui,this._overrideRedirectResult=Li}return w(e,[{key:"_openPopup",value:function(){var e=d(f().mark((function e(t,n,r,i){var a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(At(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},ia),{width:r.toString(),height:i.toString(),top:a,left:o}),c=L().toLowerCase();n&&(u=vn(c)?"_blank":n),dn(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=v(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return bn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:L())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new aa(null);var f=window.open(t||"",u,l);Tt(f,e,"popup-blocked");try{f.focus()}catch(e){}return new aa(f)}(t,oa(t,n,r,Ot(),i),Qr())));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_openRedirect",value:function(){var e=d(f().mark((function e(t,n,r,i){var a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=oa(t,n,r,Ot(),i),Gr().location.href=a,e.abrupt("return",new Promise((function(){})));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(At(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(t);case 2:return n=e.sent,r=Gr().gapi,e.abrupt("return",(Tt(r,t,"internal-error"),n.open({where:document.body,url:ra(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ta,dontclear:!0},(function(e){return new Promise(function(){var n=d(f().mark((function n(r,i){var a,o,u;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Gr().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=xt(t,"network-request-failed"),o=Gr().setTimeout((function(){i(a)}),ea.get()),e.ping(u).then(u,(function(){i(a)}));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}))));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t);case 2:return n=e.sent,r=new qi(t),e.abrupt("return",(n.register("authEvent",(function(e){return Tt(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ua,{type:ua},(function(n){var r,i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),wt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(){var e=d(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Qi(t);case 4:n=e.sent,r=n.authorizedDomains,i=p(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Yi(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})));return function(t){return e.apply(this,arguments)}}()(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return wn()||pn()||bn()}}]),e}()),this.cordovaResolver=Ct(function(){function e(){b(this,e),this._redirectPersistence=zr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ui,this._overrideRedirectResult=Li}return w(e,[{key:"_initialize",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),r=this.eventManagers.get(n),e.abrupt("return",(r||(r=new va(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),r));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_openPopup",value:function(e){wt(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=d(f().mark((function e(t,n,r,i){var a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e){var t,n,r,i,a,o,u,s,c,l,f=pa();Tt("function"==typeof(null===(t=null==f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Tt(void 0!==(null===(n=null==f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Tt("function"==typeof(null===(a=null===(i=null===(r=null==f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Tt("function"==typeof(null===(s=null===(u=null===(o=null==f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Tt("function"==typeof(null===(l=null===(c=null==f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Oi.clear(),e.next=10,this._originValidation(t);case 10:return o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ga(),postBody:null,tenantId:e.tenantId,error:xt(e,"no-auth-event")}}(t,r,i),e.next=13,function(e,t){return ka()._set(ba(e),t)}(t,o);case 13:return e.next=15,function(){var e=d(f().mark((function e(t,n,r){var i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pa(),o=a.BuildInfo,At(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){if(At(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,e.abrupt("return",Array.from(new Uint8Array(r)).map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n.sessionId);case 4:return u=e.sent,s={},e.abrupt("return",(bn()?s.ibi=o.packageName:yn()?s.apn=o.packageName:wt(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,oa(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s)));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t,o,n);case 15:return u=e.sent,e.t0=function(){var e=d(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pa(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof n&&n(),"function"==typeof(null==r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(xt(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),yn()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),e.t1=t,e.t2=a,e.next=21,function(e){var t=pa().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(u);case 21:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 23:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(){var e=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pa(),r=n.BuildInfo,i={},bn()?i.iosBundleId=r.packageName:yn()?i.androidPackageName=r.packageName:wt(t,"operation-not-supported-in-this-environment"),e.next=4,Qi(t,i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=pa(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(d(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ma(e);case 2:t.onEvent(xa());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=d(f().mark((function n(r){var i,a;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ma(e);case 3:i=n.sent,a=null,i&&(null==r?void 0:r.url)&&(a=function(e,t){var n,r,i=function(e){var t=wa(e),n=t.link?decodeURIComponent(t.link):void 0,r=wa(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return wa(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=wa(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?xt(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(i,r.url)),t.onEvent(a||xa());case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();void 0!==r&&"function"==typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");pa().handleOpenURL=function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"==typeof s)try{s(t)}catch(t){console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}()),this.underlyingResolver=null,this._redirectPersistence=zr,this._completeRedirectFn=Ui,this._overrideRedirectResult=Li}return w(e,[{key:"_initialize",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_openPopup",value:function(){var e=d(f().mark((function e(t,n,r,i){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_openRedirect",value:function(){var e=d(f().mark((function e(t,n,r,i){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Aa()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return La(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!Aa()&&new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 1:case"end":return e.stop()}}),e)})))();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Fa(e){return e.unwrap()}function Ua(e){var t=(e instanceof q?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof q)&&"temporaryProof"in t&&"phoneNumber"in t)return wi.credentialFromResult(e);var n,r=t.providerId;if(!r||"password"===r)return null;switch(r){case"google.com":n=Hn;break;case"facebook.com":n=Gn;break;case"github.com":n=Yn;break;case"twitter.com":n=Xn;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Zn._create(r,u):jn._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Wn(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof q?n.credentialFromError(e):n.credentialFromResult(e)}function ja(e,t){return t.catch((function(t){throw t instanceof q&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new qa(e,function(e,t){var n,r=ee(e),i=t;return Tt(t.customData.operationType,r,"argument-error"),Tt(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Lr._fromError(r,i)}(e,t));else if(r){var i=Ua(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Ua(t)),additionalUserInfo:Rr(e),user:za.getOrCreate(r)}}))}function Va(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ja(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}var qa=function(){function e(t,n){b(this,e),this.resolver=n,this.auth=t.wrapped()}return w(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ja(Fa(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),za=function(){function e(t){b(this,e),this._delegate=t,this.multiFactor=function(e){var t=ee(e);return Fr.has(t)||Fr.set(t,Mr._fromUser(t)),Fr.get(t)}(t)}return w(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja(this.auth,mr(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"linkWithPhoneNumber",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(this.auth,function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),e.next=3,sr(!1,i,"phone");case 3:return e.next=5,ki(i.auth,n,ee(r));case 5:return a=e.sent,e.abrupt("return",new gi(a,(function(e){return mr(i,e)})));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"linkWithPopup",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja(this.auth,function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return It((i=ee(t)).auth,n,Kn),a=xi(i.auth,r),e.abrupt("return",new Ci(i.auth,"linkViaPopup",n,a,i).executeNotNull());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,t,Ma)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"linkWithRedirect",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa(_n(this.auth));case 2:return e.abrupt("return",function(e,t,n){return function(){var e=d(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return It((i=ee(t)).auth,n,Kn),a=xi(i.auth,r),e.next=5,sr(!1,i,n.providerId);case 5:return e.next=7,Ri(a,i.auth);case 7:return e.next=9,Vi(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(e,t,n)}(this._delegate,t,Ma));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja(this.auth,gr(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Va(this.auth,function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),e.next=3,ki(i.auth,n,ee(r));case 3:return a=e.sent,e.abrupt("return",new gi(a,(function(e){return gr(i,e)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ja(this.auth,function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return It((i=ee(t)).auth,n,Kn),a=xi(i.auth,r),e.abrupt("return",new Ci(i.auth,"reauthViaPopup",n,a,i).executeNotNull());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,Ma))}},{key:"reauthenticateWithRedirect",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa(_n(this.auth));case 2:return e.abrupt("return",function(e,t,n){return function(){var e=d(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return It((i=ee(t)).auth,n,Kn),a=xi(i.auth,r),e.next=5,Ri(a,i.auth);case 5:return e.next=7,Vi(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(e,t,n)}(this._delegate,t,Ma));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendEmailVerification",value:function(e){return function(){var e=d(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,i={requestType:"VERIFY_EMAIL",idToken:e.t0},n&&xr(r.auth,i,n),e.next=8,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dn(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(r.auth,i);case 8:if(a=e.sent,o=a.email,e.t1=o!==t.email,!e.t1){e.next=14;break}return e.next=14,t.reload();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"unlink",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=d(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(t),e.next=3,sr(!0,r,n);case 3:return e.t0=function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ar(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateEmail",value:function(e){return function(e,t){return _r(ee(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return _r(ee(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or(ee(t),n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(){var e=d(f().mark((function e(t,n){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ee(t),e.next=6,a.getIdToken();case 6:return e.t0=e.sent,e.t1=r,e.t2=i,e.t3=!0,o={idToken:e.t0,displayName:e.t1,photoUrl:e.t2,returnSecureToken:e.t3},e.next=13,Xt(a,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(a.auth,o));case 13:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(s=a.providerData.find((function(e){return"password"===e.providerId})))&&(s.displayName=a.displayName,s.photoURL=a.photoURL),e.next=19,a._updateTokensIfNecessary(u);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(){var e=d(f().mark((function e(t,n,r){var i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=n,a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e.t0,newEmail:e.t1},r&&xr(i.auth,a,r),e.next=9,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dn(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(i.auth,a);case 9:if(o=e.sent,u=o.email,e.t2=u!==t.email,!e.t2){e.next=15;break}return e.next=15,t.reload();case 15:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();za.USER_MAP=new WeakMap;var Ka=Tt,Qa=function(){function e(t,n){if(b(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Ka(r,"invalid-api-key",{appName:t.name}),Ka(r,"invalid-api-key",{appName:t.name});var i="undefined"!=typeof window?Ma:void 0;this._delegate=n.initialize({options:{persistence:Ga(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(mt),this.linkUnderlyingAuth()}return w(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?za.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){!function(e,t,n){var r=_n(e);Tt(r._canInitEmulator,r,"emulator-config-failed"),Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null==n?void 0:n.disableWarnings),a=Sn(t),o=function(e){var t=Sn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:An(r.substr(a.length+1))}}var o=r.split(":"),u=v(o,2);return{host:u[0],port:An(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:update",jt(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(ee(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Er(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(){var e=d(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(ee(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja(this._delegate,function(){var e=d(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_n(t),e.next=3,$n(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,tr._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={identifier:n,continueUri:Pt()?Ot():"http://localhost"},e.next=3,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vt(t,"POST","/v1/accounts:createAuthUri",jt(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(ee(t),r);case 3:return i=e.sent,a=i.signinMethods,e.abrupt("return",a||[]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=qn.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ka(Sa(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(t)._initializationPromise;case 2:return e.abrupt("return",Ui(t,n,!1));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,Ma);case 3:return t=e.sent,e.abrupt("return",t?ja(this._delegate,Promise.resolve(t)):{credential:null,user:null});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){_n(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Wa(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Wa(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),a={requestType:"EMAIL_SIGNIN",email:n},Tt(r.handleCodeInApp,i,"argument-error"),r&&xr(i,a,r),e.next=5,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dn(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(i,a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),a={requestType:"PASSWORD_RESET",email:n},r&&xr(i,a,r),e.next=4,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dn(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(i,a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=(function(e,t){Ca(Object.values(Na).includes(t),e,"invalid-persistence-type"),j()?Ca(t!==Na.SESSION,e,"unsupported-persistence-type"):F()?Ca(t===Na.NONE,e,"unsupported-persistence-type"):Ta()?Ca(t===Na.NONE||t===Na.LOCAL&&B(),e,"unsupported-persistence-type"):Ca(t===Na.NONE||_a(),e,"unsupported-persistence-type")}(this._delegate,t),t),e.next=e.t0===Na.SESSION?3:e.t0===Na.LOCAL?5:e.t0===Na.NONE?14:16;break;case 3:return n=zr,e.abrupt("break",17);case 5:return e.next=7,Ct(ai)._isAvailable();case 7:if(!e.sent){e.next=11;break}e.t1=ai,e.next=12;break;case 11:e.t1=Br;case 12:return n=e.t1,e.abrupt("break",17);case 14:return n=cn,e.abrupt("break",17);case 16:return e.abrupt("return",wt("argument-error",{appName:this._delegate.name}));case 17:return e.abrupt("return",this._delegate.setPersistence(n));case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ja(this._delegate,function(){var e=d(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_n(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new tr({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,$n(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,tr._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this._delegate))}},{key:"signInWithCredential",value:function(e){return ja(this._delegate,pr(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ja(this._delegate,function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_n(t),e.next=3,function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(t,"POST","/v1/accounts:signInWithCustomToken",jt(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,tr._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ja(this._delegate,function(e,t,n){return pr(ee(e),zn.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ja(this._delegate,function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ee(t),a=zn.credentialWithLink(n,r||Ot()),e.abrupt("return",(Tt(a._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),pr(i,a)));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Va(this._delegate,function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_n(t),e.next=3,ki(i,n,ee(r));case 3:return a=e.sent,e.abrupt("return",new gi(a,(function(e){return pr(i,e)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(Ka(Sa(),this._delegate,"operation-not-supported-in-this-environment"),ja(this._delegate,function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_n(t),It(t,n,Kn),a=xi(i,r),e.abrupt("return",new Ci(i,"signInViaPopup",n,a).executeNotNull());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,t,Ma))));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signInWithRedirect",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ka(Sa(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Pa(this._delegate);case 3:return e.abrupt("return",function(e,t,n){return function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_n(t),It(t,n,Kn),a=xi(i,r),e.next=5,Ri(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(e,t,n)}(this._delegate,t,Ma));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(){var e=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(ee(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Wa(e,t,n){var r,i=e;"function"!=typeof e&&(i=(r=e).next,t=r.error,n=r.complete);var a=i;return{next:function(e){return a(e&&za.getOrCreate(e))},error:t,complete:n}}function Ga(e,t){var n=function(e,t){var n=Da();if(!n)return[];var r=ln(Oa,e,t);switch(n.getItem(r)){case Na.NONE:return[cn];case Na.LOCAL:return[ai,zr];case Na.SESSION:return[zr];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(ai)||n.push(ai),"undefined"!=typeof window)for(var r=0,i=[Br,zr];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(cn)||n.push(cn),n}Qa.Persistence=Na;var Ha=function(){function e(){b(this,e),this.providerId="phone",this._delegate=new wi(Fa(pt.auth()))}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return wi.credential(e,t)}}]),e}();Ha.PHONE_SIGN_IN_METHOD=wi.PHONE_SIGN_IN_METHOD,Ha.PROVIDER_ID=wi.PROVIDER_ID;var Ya,Za=Tt;(Ya=pt).INTERNAL.registerComponent(new ne("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Qa(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zn,FacebookAuthProvider:Gn,GithubAuthProvider:Yn,GoogleAuthProvider:Hn,OAuthProvider:Wn,SAMLAuthProvider:Jn,PhoneAuthProvider:Ha,PhoneMultiFactorGenerator:ca,RecaptchaVerifier:function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt.app();b(this,e),Za(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new yi(t,n,i.auth()),this.type=this._delegate.type}return w(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),TwitterAuthProvider:Xn,Auth:Qa,AuthCredential:Nn,Error:q}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ya.registerVersion("@firebase/auth-compat","0.2.15");var Ja,Xa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},$a={},eo=eo||{},to=Xa||self;function no(){}function ro(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function io(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ao="closure_uid_"+(1e9*Math.random()>>>0),oo=0;function uo(e,t,n){return e.call.apply(e.bind,arguments)}function so(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function co(e,t,n){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uo:so).apply(null,arguments)}function lo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fo(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ho(){this.s=this.s,this.o=this.o}var po={};ho.prototype.s=!1,ho.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ao)&&e[ao]||(e[ao]=++oo)}(this);delete po[e]}},ho.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var vo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},mo=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function yo(e){return Array.prototype.concat.apply([],arguments)}function go(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ko(e){return/^[\s\xa0]*$/.test(e)}var bo,wo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xo(e,t){return-1!=e.indexOf(t)}function Eo(e,t){return e<t?-1:e>t?1:0}e:{var Io=to.navigator;if(Io){var _o=Io.userAgent;if(_o){bo=_o;break e}}bo=""}function To(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function So(e){var t={};for(var n in e)t[n]=e[n];return t}var Ao="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function No(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ao.length;a++)n=Ao[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Co(e){return Co[" "](e),e}Co[" "]=no;var Oo,Po,Ro=xo(bo,"Opera"),Do=xo(bo,"Trident")||xo(bo,"MSIE"),Lo=xo(bo,"Edge"),Mo=Lo||Do,Fo=xo(bo,"Gecko")&&!(xo(bo.toLowerCase(),"webkit")&&!xo(bo,"Edge"))&&!(xo(bo,"Trident")||xo(bo,"MSIE"))&&!xo(bo,"Edge"),Uo=xo(bo.toLowerCase(),"webkit")&&!xo(bo,"Edge");function jo(){var e=to.document;return e?e.documentMode:void 0}e:{var Vo="",Bo=(Po=bo,Fo?/rv:([^\);]+)(\)|;)/.exec(Po):Lo?/Edge\/([\d\.]+)/.exec(Po):Do?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Po):Uo?/WebKit\/(\S+)/.exec(Po):Ro?/(?:Version)[ \/]?(\S+)/.exec(Po):void 0);if(Bo&&(Vo=Bo?Bo[1]:""),Do){var qo=jo();if(null!=qo&&qo>parseFloat(Vo)){Oo=String(qo);break e}}Oo=Vo}var zo={};function Ko(){return e=zo,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=wo(String(Oo)).split("."),n=wo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Eo(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Eo(0==a[2].length,0==o[2].length)||Eo(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}();var e}var Qo=to.document&&Do&&(jo()||parseInt(Oo,10))||void 0,Wo=function(){if(!to.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{to.addEventListener("test",no,t),to.removeEventListener("test",no,t)}catch(e){}return e}();function Go(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ho(e,t){if(Go.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fo){e:{try{Co(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Yo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ho.Z.h.call(this)}}Go.prototype.h=function(){this.defaultPrevented=!0},fo(Ho,Go);var Yo={2:"touch",3:"pen",4:"mouse"};Ho.prototype.h=function(){Ho.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zo="closure_listenable_"+(1e6*Math.random()|0),Jo=0;function Xo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Jo,this.ca=this.fa=!1}function $o(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function eu(e){this.src=e,this.g={},this.h=0}function tu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=vo(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&($o(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function nu(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}eu.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=nu(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Xo(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ru="closure_lm_"+(1e6*Math.random()|0),iu={};function au(e,t,n,r,i){if(r&&r.once)return uu(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)au(e,t[a],n,r,i);return null}return n=pu(n),e&&e[Zo]?e.N(t,n,io(r)?!!r.capture:!!r,i):ou(e,t,n,!1,r,i)}function ou(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=io(i)?!!i.capture:!!i,u=hu(e);if(u||(e[ru]=u=new eu(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){var e=fu;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function uu(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)uu(e,t[a],n,r,i);return null}return n=pu(n),e&&e[Zo]?e.O(t,n,io(r)?!!r.capture:!!r,i):ou(e,t,n,!0,r,i)}function su(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)su(e,t[a],n,r,i);else r=io(r)?!!r.capture:!!r,n=pu(n),e&&e[Zo]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=nu(a=e.g[t],n,r,i))&&($o(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--))):e&&(e=hu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=nu(t,n,r,i)),(n=-1<e?t[e]:null)&&cu(n))}function cu(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Zo])tu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hu(t))?(tu(n,e),0==n.h&&(n.src=null,t[ru]=null)):$o(e)}}}function lu(e){return e in iu?iu[e]:iu[e]="on"+e}function fu(e,t){if(e.ca)e=!0;else{t=new Ho(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&cu(e),e=n.call(r,t)}return e}function hu(e){return(e=e[ru])instanceof eu?e:null}var du="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(e){return"function"==typeof e?e:(e[du]||(e[du]=function(t){return e.handleEvent(t)}),e[du])}function vu(){ho.call(this),this.i=new eu(this),this.P=this,this.I=null}function mu(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Go(t,e);else if(t instanceof Go)t.target=t.target||e;else{var i=t;No(t=new Go(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=yu(o,r,!0,t)&&i}if(i=yu(o=t.g=e,r,!0,t)&&i,i=yu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=yu(o=t.g=n[a],r,!1,t)&&i}function yu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&tu(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}fo(vu,ho),vu.prototype[Zo]=!0,vu.prototype.removeEventListener=function(e,t,n,r){su(this,e,t,n,r)},vu.prototype.M=function(){if(vu.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$o(n[r]);delete t.g[e],t.h--}}this.I=null},vu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},vu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gu=to.JSON.stringify;function ku(){var e=Tu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bu,wu=new(function(){function e(t,n){b(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return w(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new xu}),(function(e){return e.reset()})),xu=function(){function e(){b(this,e),this.next=this.g=this.h=null}return w(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Eu(e){to.setTimeout((function(){throw e}),0)}function Iu(e,t){bu||function(){var e=to.Promise.resolve(void 0);bu=function(){e.then(Su)}}(),_u||(bu(),_u=!0),Tu.add(e,t)}var _u=!1,Tu=new(function(){function e(){b(this,e),this.h=this.g=null}return w(e,[{key:"add",value:function(e,t){var n=wu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}());function Su(){for(var e;e=ku();){try{e.h.call(e.g)}catch(e){Eu(e)}var t=wu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_u=!1}function Au(e,t){vu.call(this),this.h=e||1,this.g=t||to,this.j=co(this.kb,this),this.l=Date.now()}function Nu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Cu(e,t,n){if("function"==typeof e)n&&(e=co(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=co(e.handleEvent,e)}return 2147483647<Number(t)?-1:to.setTimeout(e,t||0)}function Ou(e){e.g=Cu((function(){e.g=null,e.i&&(e.i=!1,Ou(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}fo(Au,vu),(Ja=Au.prototype).da=!1,Ja.S=null,Ja.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mu(this,"tick"),this.da&&(Nu(this),this.start()))}},Ja.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ja.M=function(){Au.Z.M.call(this),Nu(this),delete this.g};var Pu=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return w(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ou(this)}},{key:"M",value:function(){u(s(n.prototype),"M",this).call(this),this.g&&(to.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ho);function Ru(e){ho.call(this),this.h=e,this.g={}}fo(Ru,ho);var Du=[];function Lu(e,t,n,r){Array.isArray(n)||(n&&(Du[0]=n.toString()),n=Du);for(var i=0;i<n.length;i++){var a=au(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Mu(e){To(e.g,(function(e,t){this.g.hasOwnProperty(t)&&cu(e)}),e),e.g={}}function Fu(){this.g=!0}function Uu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return gu(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ru.prototype.M=function(){Ru.Z.M.call(this),Mu(this)},Ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fu.prototype.Aa=function(){this.g=!1},Fu.prototype.info=function(){};var ju={},Vu=null;function Bu(){return Vu=Vu||new vu}function qu(e){Go.call(this,ju.Ma,e)}function zu(e){var t=Bu();mu(t,new qu(t,e))}function Ku(e,t){Go.call(this,ju.STAT_EVENT,e),this.stat=t}function Qu(e){var t=Bu();mu(t,new Ku(t,e))}function Wu(e,t){Go.call(this,ju.Na,e),this.size=t}function Gu(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return to.setTimeout((function(){e()}),t)}ju.Ma="serverreachability",fo(qu,Go),ju.STAT_EVENT="statevent",fo(Ku,Go),ju.Na="timingevent",fo(Wu,Go);var Hu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zu(){}function Ju(e){return e.h||(e.h=e.i())}function Xu(){}Zu.prototype.h=null;var $u,es={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ts(){Go.call(this,"d")}function ns(){Go.call(this,"c")}function rs(){}function is(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ru(this),this.P=os,e=Mo?125:void 0,this.W=new Au(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new as}function as(){this.i=null,this.g="",this.h=!1}fo(ts,Go),fo(ns,Go),fo(rs,Zu),rs.prototype.g=function(){return new XMLHttpRequest},rs.prototype.i=function(){return{}},$u=new rs;var os=45e3,us={},ss={};function cs(e,t,n){e.K=1,e.v=Ps(Ts(t)),e.s=n,e.U=!0,ls(e,null)}function ls(e,t){e.F=Date.now(),ps(e),e.A=Ts(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Qs(n.h,"t",r),e.C=0,n=e.l.H,e.h=new as,e.g=Qc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Pu(co(e.Ia,e,e.g),e.O)),Lu(e.V,e.g,"readystatechange",e.gb),t=e.H?So(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),zu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function fs(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function hs(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ds(e,n))==ss){4==t&&(e.o=4,Qu(14),i=!1),Uu(e.j,e.m,null,"[Incomplete Response]");break}if(r==us){e.o=4,Qu(15),Uu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Uu(e.j,e.m,r,null),ks(e,r)}fs(e)&&r!=ss&&r!=us&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fc(t),t.L=!0,Qu(11))):(Uu(e.j,e.m,n,"[Invalid Chunked Response]"),gs(e),ys(e))}function ds(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ss:(n=Number(t.substring(n,r)),isNaN(n)?us:(r+=1)+n>t.length?ss:(t=t.substr(r,n),e.C=r+n,t))}function ps(e){e.Y=Date.now()+e.P,vs(e,e.P)}function vs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gu(co(e.eb,e),t)}function ms(e){e.B&&(to.clearTimeout(e.B),e.B=null)}function ys(e){0==e.l.G||e.I||Vc(e.l,e)}function gs(e){ms(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Nu(e.W),Mu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ks(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Js(n.i,e)))if(n.I=e.N,!e.J&&Js(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;jc(n),Ac(n)}Mc(n),Qu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Gu(co(n.ab,n),6e3));if(1>=Zs(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else qc(n,11)}else if((e.J||n.g==e)&&jc(n),!ko(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(xo(l,"spdy")||xo(l,"quic")||xo(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Xs(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Os(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Kc(r,r.H?r.la:null,r.W),d.J){$s(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ms(p),ps(p)),r.g=d}else Lc(r);0<n.l.length&&Oc(n)}else"stop"!=a[0]&&"close"!=a[0]||qc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?qc(n,7):Sc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}zu(4)}catch(e){}}function bs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ro(e)||"string"==typeof e)mo(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ro(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(ro(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ws(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ws)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xs(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Es(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Es(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Es(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ja=is.prototype).setTimeout=function(e){this.P=e},Ja.gb=function(e){e=e.target;var t=this.L;t&&3==xc(e)?t.l():this.Ia(e)},Ja.Ia=function(e){try{if(e==this.g)e:{var t=xc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Mo||this.g&&(this.h.h||this.g.ga()||Ec(this.g)))){this.I||4!=t||7==n||zu(8==n||0>=r?3:2),ms(this);var i=this.g.ba();this.N=i;t:if(fs(this)){var a=Ec(this.g);e="";var o=a.length,u=4==xc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gs(this),ys(this);var s="";break t}this.h.i=new to.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ko(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Qu(12),gs(this),ys(this);break e}Uu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ks(this,i)}this.U?(hs(this,t,s),Mo&&this.i&&3==t&&(Lu(this.V,this.W,"tick",this.fb),this.W.start())):(Uu(this.j,this.m,s,null),ks(this,s)),4==t&&gs(this),this.i&&!this.I&&(4==t?Vc(this.l,this):(this.i=!1,ps(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Qu(12)):(this.o=0,Qu(13)),gs(this),ys(this)}}}catch(e){}},Ja.fb=function(){if(this.g){var e=xc(this.g),t=this.g.ga();this.C<t.length&&(ms(this),hs(this,e,t),this.i&&4!=e&&ps(this))}},Ja.cancel=function(){this.I=!0,gs(this)},Ja.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(zu(3),Qu(17)),gs(this),this.o=2,ys(this)):vs(this,this.Y-e)},(Ja=ws.prototype).R=function(){xs(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ja.T=function(){return xs(this),this.g.concat()},Ja.get=function(e,t){return Es(this.h,e)?this.h[e]:t},Ja.set=function(e,t){Es(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ja.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Is=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _s(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof _s){this.g=void 0!==t?t:e.g,Ss(this,e.j),this.s=e.s,As(this,e.i),Ns(this,e.m),this.l=e.l,t=e.h;var n=new Bs;n.i=t.i,t.g&&(n.g=new ws(t.g),n.h=t.h),Cs(this,n),this.o=e.o}else e&&(n=String(e).match(Is))?(this.g=!!t,Ss(this,n[1]||"",!0),this.s=Rs(n[2]||""),As(this,n[3]||"",!0),Ns(this,n[4]),this.l=Rs(n[5]||"",!0),Cs(this,n[6]||"",!0),this.o=Rs(n[7]||"")):(this.g=!!t,this.h=new Bs(null,this.g))}function Ts(e){return new _s(e)}function Ss(e,t,n){e.j=n?Rs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function As(e,t,n){e.i=n?Rs(t,!0):t}function Ns(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Cs(e,t,n){t instanceof Bs?(e.h=t,function(e,t){t&&!e.j&&(qs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zs(this,t),Qs(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ds(t,js)),e.h=new Bs(t,e.g))}function Os(e,t,n){e.h.set(t,n)}function Ps(e){return Os(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ds(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ls),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ls(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_s.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ds(t,Ms,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ds(t,Ms,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ds(n,"/"==n.charAt(0)?Us:Fs,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ds(n,Vs)),e.join("")};var Ms=/[#\/\?@]/g,Fs=/[#\?:]/g,Us=/[#\?]/g,js=/[#\?@]/g,Vs=/#/g;function Bs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qs(e){e.g||(e.g=new ws,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zs(e,t){qs(e),t=Ws(e,t),Es(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Es((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&xs(e)))}function Ks(e,t){return qs(e),t=Ws(e,t),Es(e.g.h,t)}function Qs(e,t,n){zs(e,t),0<n.length&&(e.i=null,e.g.set(Ws(e,t),go(n)),e.h+=n.length)}function Ws(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Gs(e){this.l=e||Hs,e=to.PerformanceNavigationTiming?0<(e=to.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(to.g&&to.g.Ea&&to.g.Ea()&&to.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ja=Bs.prototype).add=function(e,t){qs(this),this.i=null,e=Ws(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ja.forEach=function(e,t){qs(this),this.g.forEach((function(n,r){mo(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ja.T=function(){qs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ja.R=function(e){qs(this);var t=[];if("string"==typeof e)Ks(this,e)&&(t=yo(t,this.g.get(Ws(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=yo(t,e[n])}return t},Ja.set=function(e,t){return qs(this),this.i=null,Ks(this,e=Ws(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ja.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ja.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Hs=10;function Ys(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Zs(e){return e.h?1:e.g?e.g.size:0}function Js(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xs(e,t){e.g?e.g.add(t):e.h=t}function $s(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ec(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=p(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return go(e.i)}function tc(){}function nc(){this.g=new tc}function rc(e,t,n){var r=n||"";try{bs(e,(function(e,n){var i=e;io(e)&&(i=gu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function ic(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function ac(e){this.l=e.$b||null,this.j=e.ib||!1}function oc(e,t){vu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=uc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gs.prototype.cancel=function(){if(this.i=ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=p(this.g.values());try{for(t.s();!(e=t.n()).done;)e.value.cancel()}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},tc.prototype.stringify=function(e){return to.JSON.stringify(e,void 0)},tc.prototype.parse=function(e){return to.JSON.parse(e,void 0)},fo(ac,Zu),ac.prototype.g=function(){return new oc(this.l,this.j)},ac.prototype.i=function(e){return function(){return e}}({}),fo(oc,vu);var uc=0;function sc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function cc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,lc(e)}function lc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ja=oc.prototype).open=function(e,t){if(this.readyState!=uc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,lc(this)},Ja.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||to).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ja.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cc(this)),this.readyState=uc},Ja.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==to.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ja.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cc(this):lc(this),3==this.readyState&&sc(this)}},Ja.Ua=function(e){this.g&&(this.response=this.responseText=e,cc(this))},Ja.Ta=function(e){this.g&&(this.response=e,cc(this))},Ja.ha=function(){this.g&&cc(this)},Ja.setRequestHeader=function(e,t){this.v.append(e,t)},Ja.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ja.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fc=to.JSON.parse;function hc(e){vu.call(this),this.headers=new ws,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dc,this.K=this.L=!1}fo(hc,vu);var dc="",pc=/^https?$/i,vc=["POST","PUT"];function mc(e){return"content-type"==e.toLowerCase()}function yc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gc(e),bc(e)}function gc(e){e.D||(e.D=!0,mu(e,"complete"),mu(e,"error"))}function kc(e){if(e.h&&void 0!==eo&&(!e.C[1]||4!=xc(e)||2!=e.ba()))if(e.v&&4==xc(e))Cu(e.Fa,0,e);else if(mu(e,"readystatechange"),4==xc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Is)[1]||null;if(!a&&to.self&&to.self.location){var o=to.self.location.protocol;a=o.substr(0,o.length-1)}i=!pc.test(a?a.toLowerCase():"")}t=i}if(t)mu(e,"complete"),mu(e,"success");else{e.m=6;try{var u=2<xc(e)?e.g.statusText:""}catch(e){u=""}e.j=u+" ["+e.ba()+"]",gc(e)}}finally{bc(e)}}}function bc(e,t){if(e.g){wc(e);var n=e.g,r=e.C[0]?no:null;e.g=null,e.C=null,t||mu(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function wc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(to.clearTimeout(e.A),e.A=null)}function xc(e){return e.g?e.g.readyState:0}function Ec(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ic(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return To(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Os(e,t,n))}function _c(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Tc(e){this.za=0,this.l=[],this.h=new Fu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_c("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_c("baseRetryDelayMs",5e3,e),this.$a=_c("retryDelaySeedMs",1e4,e),this.Ya=_c("forwardChannelMaxRetries",2,e),this.ra=_c("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Gs(e&&e.concurrentRequestLimit),this.Ca=new nc,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Sc(e){if(Nc(e),3==e.G){var t=e.V++,n=Ts(e.F);Os(n,"SID",e.J),Os(n,"RID",t),Os(n,"TYPE","terminate"),Rc(e,n),(t=new is(e,e.h,t,void 0)).K=2,t.v=Ps(Ts(n)),n=!1,to.navigator&&to.navigator.sendBeacon&&(n=to.navigator.sendBeacon(t.v.toString(),"")),!n&&to.Image&&((new Image).src=t.v,n=!0),n||(t.g=Qc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ps(t)}zc(e)}function Ac(e){e.g&&(Fc(e),e.g.cancel(),e.g=null)}function Nc(e){Ac(e),e.u&&(to.clearTimeout(e.u),e.u=null),jc(e),e.i.cancel(),e.m&&("number"==typeof e.m&&to.clearTimeout(e.m),e.m=null)}function Cc(e,t){e.l.push(new(function(){function e(t,n){b(this,e),this.h=t,this.g=n}return w(e)}())(e.Za++,t)),3==e.G&&Oc(e)}function Oc(e){Ys(e.i)||e.m||(e.m=!0,Iu(e.Ha,e),e.C=0)}function Pc(e,t){var n;n=t?t.m:e.V++;var r=Ts(e.F);Os(r,"SID",e.J),Os(r,"RID",n),Os(r,"AID",e.U),Rc(e,r),e.o&&e.s&&Ic(r,e.o,e.s),n=new is(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Dc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Xs(e.i,n),cs(n,r,t)}function Rc(e,t){e.j&&bs({},(function(e,n){Os(t,n,e)}))}function Dc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?co(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{rc(l,o,"req"+c+"_")}catch(e){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Lc(e){e.g||e.u||(e.Y=1,Iu(e.Ga,e),e.A=0)}function Mc(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Gu(co(e.Ga,e),Bc(e,e.A)),e.A++,0))}function Fc(e){null!=e.B&&(to.clearTimeout(e.B),e.B=null)}function Uc(e){e.g=new is(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ts(e.oa);Os(t,"RID","rpc"),Os(t,"SID",e.J),Os(t,"CI",e.N?"0":"1"),Os(t,"AID",e.U),Rc(e,t),Os(t,"TYPE","xmlhttp"),e.o&&e.s&&Ic(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ps(Ts(t)),n.s=null,n.U=!0,ls(n,e)}function jc(e){null!=e.v&&(to.clearTimeout(e.v),e.v=null)}function Vc(e,t){var n=null;if(e.g==t){jc(e),Fc(e),e.g=null;var r=2}else{if(!Js(e.i,t))return;n=t.D,$s(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;mu(r=Bu(),new Wu(r,n,t,i)),Oc(e)}else Lc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Zs(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Gu(co(e.Ha,e,t),Bc(e,e.C)),e.C++,0)))}(e,t)||2==r&&Mc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:qc(e,5);break;case 4:qc(e,10);break;case 3:qc(e,6);break;default:qc(e,2)}}function Bc(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function qc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=co(e.jb,e);n||(n=new _s("//www.google.com/images/cleardot.gif"),to.location&&"http"==to.location.protocol||Ss(n,"https"),Ps(n)),function(e,t){var n=new Fu;if(to.Image){var r=new Image;r.onload=lo(ic,n,r,"TestLoadImage: loaded",!0,t),r.onerror=lo(ic,n,r,"TestLoadImage: error",!1,t),r.onabort=lo(ic,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=lo(ic,n,r,"TestLoadImage: timeout",!1,t),to.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qu(2);e.G=0,e.j&&e.j.va(t),zc(e),Nc(e)}function zc(e){e.G=0,e.I=-1,e.j&&(0==ec(e.i).length&&0==e.l.length||(e.i.i.length=0,go(e.l),e.l.length=0),e.j.ua())}function Kc(e,t,n){var r=function(e){return e instanceof _s?Ts(e):new _s(e,void 0)}(n);if(""!=r.i)t&&As(r,t+"."+r.i),Ns(r,r.m);else{var i=to.location;r=function(e,t,n,r){var i=new _s(null,void 0);return e&&Ss(i,e),t&&As(i,t),n&&Ns(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&To(e.aa,(function(e,t){Os(r,t,e)})),t=e.D,n=e.sa,t&&n&&Os(r,t,n),Os(r,"VER",e.ma),Rc(e,r),r}function Qc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new hc(new ac({ib:!0})):new hc(e.qa)).L=e.H,t}function Wc(){}function Gc(){if(Do&&!(10<=Number(Qo)))throw Error("Environmental error: no available transport.")}function Hc(e,t){vu.call(this),this.g=new Tc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ko(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ko(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Jc(this)}function Yc(e){ts.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zc(){ns.call(this),this.status=1}function Jc(e){this.g=e}(Ja=hc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$u.g(),this.C=this.u?Ju(this.u):Ju($u),this.g.onreadystatechange=co(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void yc(this,e)}e=n||"";var i=new ws(this.headers);r&&bs(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=mc,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=to.FormData&&e instanceof to.FormData,!(0<=vo(vc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wc(this),0<this.B&&((this.K=function(e){return Do&&Ko()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=co(this.pa,this)):this.A=Cu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){yc(this,e)}},Ja.pa=function(){void 0!==eo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mu(this,"timeout"),this.abort(8))},Ja.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mu(this,"complete"),mu(this,"abort"),bc(this))},Ja.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bc(this,!0)),hc.Z.M.call(this)},Ja.Fa=function(){this.s||(this.F||this.v||this.l?kc(this):this.cb())},Ja.cb=function(){kc(this)},Ja.ba=function(){try{return 2<xc(this)?this.g.status:-1}catch(r){return-1}},Ja.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},Ja.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fc(t)}},Ja.Da=function(){return this.m},Ja.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ja=Tc.prototype).ma=8,Ja.G=1,Ja.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Ja.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new is(this,this.h,e,void 0),n=this.s;if(this.P&&(n?No(n=So(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Dc(this,t,r),Os(i=Ts(this.F),"RID",e),Os(i,"CVER",22),this.D&&Os(i,"X-HTTP-Session-Id",this.D),Rc(this,i),this.o&&n&&Ic(i,this.o,n),Xs(this.i,t),this.Ra&&Os(i,"TYPE","init"),this.ja?(Os(i,"$req",r),Os(i,"SID","null"),t.$=!0,cs(t,i,null)):cs(t,i,r),this.G=2}}else 3==this.G&&(e?Pc(this,e):0==this.l.length||Ys(this.i)||Pc(this))},Ja.Ga=function(){if(this.u=null,Uc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Gu(co(this.bb,this),e)}},Ja.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qu(10),Ac(this),Uc(this))},Ja.ab=function(){null!=this.v&&(this.v=null,Ac(this),Mc(this),Qu(19))},Ja.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Qu(2)):(this.h.info("Failed to ping google.com"),Qu(1))},(Ja=Wc.prototype).xa=function(){},Ja.wa=function(){},Ja.va=function(){},Ja.ua=function(){},Ja.Oa=function(){},Gc.prototype.g=function(e,t){return new Hc(e,t)},fo(Hc,vu),Hc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Iu(co(e.hb,e,t))),Qu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Kc(e,null,e.W),Oc(e)},Hc.prototype.close=function(){Sc(this.g)},Hc.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Cc(this.g,t)}else this.v?((t={}).__data__=gu(e),Cc(this.g,t)):Cc(this.g,e)},Hc.prototype.M=function(){this.g.j=null,delete this.j,Sc(this.g),delete this.g,Hc.Z.M.call(this)},fo(Yc,ts),fo(Zc,ns),fo(Jc,Wc),Jc.prototype.xa=function(){mu(this.g,"a")},Jc.prototype.wa=function(e){mu(this.g,new Yc(e))},Jc.prototype.va=function(e){mu(this.g,new Zc(e))},Jc.prototype.ua=function(){mu(this.g,"b")},Gc.prototype.createWebChannel=Gc.prototype.g,Hc.prototype.send=Hc.prototype.u,Hc.prototype.open=Hc.prototype.m,Hc.prototype.close=Hc.prototype.close,Hu.NO_ERROR=0,Hu.TIMEOUT=8,Hu.HTTP_ERROR=6,Yu.COMPLETE="complete",Xu.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",vu.prototype.listen=vu.prototype.N,hc.prototype.listenOnce=hc.prototype.O,hc.prototype.getLastError=hc.prototype.La,hc.prototype.getLastErrorCode=hc.prototype.Da,hc.prototype.getStatus=hc.prototype.ba,hc.prototype.getResponseJson=hc.prototype.Qa,hc.prototype.getResponseText=hc.prototype.ga,hc.prototype.send=hc.prototype.ea;var Xc=$a.createWebChannelTransport=function(){return new Gc},$c=$a.getStatEventTarget=function(){return Bu()},el=$a.ErrorCode=Hu,tl=$a.EventType=Yu,nl=$a.Event=ju,rl=$a.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},il=$a.FetchXmlHttpFactory=ac,al=$a.WebChannel=Xu,ol=$a.XhrIo=hc,ul="@firebase/firestore",sl=function(){function e(t){b(this,e),this.uid=t}return w(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sl.UNAUTHENTICATED=new sl(null),sl.GOOGLE_CREDENTIALS=new sl("google-credentials-uid"),sl.FIRST_PARTY=new sl("first-party-uid"),sl.MOCK_USER=new sl("mock-user");var cl="9.8.0",ll=new de("@firebase/firestore");function fl(){return ll.logLevel}function hl(e){if(ll.logLevel<=te.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vl);ll.debug.apply(ll,["Firestore (".concat(cl,"): ").concat(e)].concat(h(i)))}}function dl(e){if(ll.logLevel<=te.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vl);ll.error.apply(ll,["Firestore (".concat(cl,"): ").concat(e)].concat(h(i)))}}function pl(e){if(ll.logLevel<=te.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vl);ll.warn.apply(ll,["Firestore (".concat(cl,"): ").concat(e)].concat(h(i)))}}function vl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(cl,") INTERNAL ASSERTION FAILED: ")+e;throw dl(t),new Error(t)}function yl(e,t){e||ml()}function gl(e,t){return e}var kl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bl=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return w(n)}(q),wl=w((function e(){var t=this;b(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),xl=w((function e(t,n){b(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),El=function(){function e(){b(this,e)}return w(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Il=function(){function e(t){b(this,e),this.token=t,this.changeListener=null}return w(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),_l=function(){function e(t){b(this,e),this.t=t,this.currentUser=sl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return w(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new wl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new wl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){hl("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(hl("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(yl("string"==typeof n.accessToken),new xl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return yl(null===e||"string"==typeof e),new sl(e)}}]),e}(),Tl=w((function e(t,n,r){b(this,e),this.type="FirstParty",this.user=sl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Sl=function(){function e(t,n,r){b(this,e),this.h=t,this.l=n,this.m=r}return w(e,[{key:"getToken",value:function(){return Promise.resolve(new Tl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Al=w((function e(t){b(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Nl=function(){function e(t){b(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return w(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&hl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,hl("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){hl("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):hl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(yl("string"==typeof t.token),e.p=t.token,new Al(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Cl=function(){function e(t,n){var r=this;b(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return w(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ol(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Cl.A=-1;var Pl=function(){function e(){b(this,e)}return w(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ol(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Rl(e,t){return e<t?-1:e>t?1:0}function Dl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ll(e){return e+"\0"}var Ml=function(){function e(t,n){if(b(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new bl(kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bl(kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new bl(kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bl(kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return w(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Rl(this.nanoseconds,e.nanoseconds):Rl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Fl=function(){function e(t){b(this,e),this.timestamp=t}return w(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ml(0,0))}},{key:"max",value:function(){return new e(new Ml(253402300799,999999999))}}]),e}();function Ul(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Bl=function(){function e(t,n,r){b(this,e),void 0===n?n=0:n>t.length&&ml(),void 0===r?r=t.length-n:r>t.length-n&&ml(),this.segments=t,this.offset=n,this.len=r}return w(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ql=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new bl(kl.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bl),zl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kl=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return zl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new bl(kl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new bl(kl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new bl(kl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new bl(kl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bl),Ql=function(){function e(t){b(this,e),this.fields=t,t.sort(Kl.comparator)}return w(e,[{key:"covers",value:function(e){var t,n=p(this.fields);try{for(n.s();!(t=n.n()).done;)if(t.value.isPrefixOf(e))return!0}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Dl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}(),Wl=function(e){function t(e){b(this,t),this.binaryString=e}return w(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Rl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);Wl.EMPTY_BYTE_STRING=new Wl("");var Gl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hl(e){if(yl(!!e),"string"==typeof e){var t=0,n=Gl.exec(e);if(yl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Yl(e.seconds),nanos:Yl(e.nanos)}}function Yl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zl(e){return"string"==typeof e?Wl.fromBase64String(e):Wl.fromUint8Array(e)}function Jl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xl(e){var t=e.mapValue.fields.__previous_value__;return Jl(t)?Xl(t):t}function $l(e){var t=Hl(e.mapValue.fields.__local_write_time__.timestampValue);return new Ml(t.seconds,t.nanos)}var ef=w((function e(t,n,r,i,a,o,u,s){b(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),tf=function(){function e(t,n){b(this,e),this.projectId=t,this.database=n||"(default)"}return w(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function nf(e){return null==e}function rf(e){return 0===e&&1/e==-1/0}function af(e){return"number"==typeof e&&Number.isInteger(e)&&!rf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var of=function(){function e(t){b(this,e),this.path=t}return w(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ql.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ql.fromString(t))}},{key:"fromName",value:function(t){return new e(ql.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ql.emptyPath())}},{key:"comparator",value:function(e,t){return ql.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ql(t.slice()))}}]),e}(),uf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sf={nullValue:"NULL_VALUE"};function cf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jl(e)?4:Ef(e)?9007199254740991:10:ml()}function lf(e,t){if(e===t)return!0;var n=cf(e);if(n!==cf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $l(e).isEqual($l(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Hl(e.timestampValue),r=Hl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zl(e.bytesValue).isEqual(Zl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yl(e.geoPointValue.latitude)===Yl(t.geoPointValue.latitude)&&Yl(e.geoPointValue.longitude)===Yl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yl(e.integerValue)===Yl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Yl(e.doubleValue),r=Yl(t.doubleValue);return n===r?rf(n)===rf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Dl(e.arrayValue.values||[],t.arrayValue.values||[],lf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ul(n)!==Ul(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lf(n[i],r[i])))return!1;return!0}(e,t);default:return ml()}}function ff(e,t){return void 0!==(e.values||[]).find((function(e){return lf(e,t)}))}function hf(e,t){if(e===t)return 0;var n=cf(e),r=cf(t);if(n!==r)return Rl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Yl(e.integerValue||e.doubleValue),r=Yl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return df(e.timestampValue,t.timestampValue);case 4:return df($l(e),$l(t));case 5:return Rl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Zl(e),r=Zl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Rl(n[i],r[i]);if(0!==a)return a}return Rl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Rl(Yl(e.latitude),Yl(t.latitude));return 0!==n?n:Rl(Yl(e.longitude),Yl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=hf(n[i],r[i]);if(a)return a}return Rl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===uf.mapValue&&t===uf.mapValue)return 0;if(e===uf.mapValue)return 1;if(t===uf.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Rl(r[o],a[o]);if(0!==u)return u;var s=hf(n[r[o]],i[a[o]]);if(0!==s)return s}return Rl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ml()}}function df(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rl(e,t);var n=Hl(e),r=Hl(t),i=Rl(n.seconds,r.seconds);return 0!==i?i:Rl(n.nanos,r.nanos)}function pf(e){return vf(e)}function vf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Hl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,of.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=p(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=vf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=p(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(vf(e.fields[o]))}}catch(u){a.e(u)}finally{a.f()}return r+"}"}(e.mapValue):ml();var t,n}function mf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function yf(e){return!!e&&"integerValue"in e}function gf(e){return!!e&&"arrayValue"in e}function kf(e){return!!e&&"nullValue"in e}function bf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wf(e){return!!e&&"mapValue"in e}function xf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return jl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=xf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ef(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function If(e){return"nullValue"in e?sf:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?mf(tf.empty(),of.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ml()}function _f(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?mf(tf.empty(),of.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?uf:ml()}function Tf(e,t){var n=hf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Sf(e,t){var n=hf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Af=function(){function e(t){b(this,e),this.value=t}return w(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!wf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xf(t)}},{key:"setAll",value:function(e){var t=this,n=Kl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=xf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return lf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];wf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){jl(t,(function(t,n){return e[t]=n}));var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(xf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Nf(e){var t=[];return jl(e.fields,(function(e,n){var r=new Kl([e]);if(wf(n)){var i=Nf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=p(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ql(t)}var Cf=function(){function e(t,n,r,i,a,o){b(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return w(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Af.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Af.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Fl.min(),Fl.min(),Af.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Fl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fl.min(),Af.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fl.min(),Af.empty(),2)}}]),e}(),Of=w((function e(t,n,r,i){b(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Pf(e){return e.fields.find((function(e){return 2===e.kind}))}function Rf(e){return e.fields.filter((function(e){return 2!==e.kind}))}Of.UNKNOWN_ID=-1;var Df=w((function e(t,n){b(this,e),this.fieldPath=t,this.kind=n})),Lf=function(){function e(t,n){b(this,e),this.sequenceNumber=t,this.offset=n}return w(e,null,[{key:"empty",value:function(){return new e(0,Uf.min())}}]),e}();function Mf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Fl.fromTimestamp(1e9===r?new Ml(n+1,0):new Ml(n,r));return new Uf(i,of.empty(),t)}function Ff(e){return new Uf(e.readTime,e.key,-1)}var Uf=function(){function e(t,n,r){b(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return w(e,null,[{key:"min",value:function(){return new e(Fl.min(),of.empty(),-1)}},{key:"max",value:function(){return new e(Fl.max(),of.empty(),-1)}}]),e}();function jf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=of.comparator(e.documentKey,t.documentKey))?n:Rl(e.largestBatchId,t.largestBatchId)}var Vf=function(){function e(t,n){b(this,e),this.comparator=t,this.root=n||qf.EMPTY}return w(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Bf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Bf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Bf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Bf(this.root,e,this.comparator,!0)}}]),e}(),Bf=function(){function e(t,n,r,i){b(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return w(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qf=function(){function e(t,n,r,i,a){b(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return w(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ml();if(this.right.isRed())throw ml();var e=this.left.check();if(e!==this.right.check())throw ml();return e+(this.isRed()?0:1)}}]),e}();qf.EMPTY=null,qf.RED=!0,qf.BLACK=!1,qf.EMPTY=new(function(){function e(){b(this,e),this.size=0}return w(e,[{key:"key",get:function(){throw ml()}},{key:"value",get:function(){throw ml()}},{key:"color",get:function(){throw ml()}},{key:"left",get:function(){throw ml()}},{key:"right",get:function(){throw ml()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var zf=function(){function e(t){b(this,e),this.comparator=t,this.data=new Vf(this.comparator)}return w(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Kf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Kf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Kf=function(){function e(t){b(this,e),this.iter=t}return w(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Qf(e){return e.hasNext()?e.getNext():void 0}var Wf=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;b(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Gf(e){return new Wf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Hf(e){var t=gl(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+pf(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),nf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return pf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return pf(e)})).join(",")),t.P=n}return t.P}function Yf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!fh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!lf(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dh(e.startAt,t.startAt)&&dh(e.endAt,t.endAt)}function Zf(e){return of.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Jf(e,t){return e.filters.filter((function(e){return e instanceof eh&&e.field.isEqual(t)}))}function Xf(e,t,n){var r,i=sf,a=!0,o=p(Jf(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=sf,c=!0;switch(u.op){case"<":case"<=":s=If(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=sf}Tf({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Tf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function $f(e,t,n){var r,i=uf,a=!0,o=p(Jf(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=uf,c=!0;switch(u.op){case">=":case">":s=_f(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=uf}Sf({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Sf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var eh=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(hf(t,this.value)):null!==t&&cf(this.value)===cf(t)&&this.v(hf(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ml()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new th(e,t,r):"array-contains"===t?new ah(e,r):"in"===t?new oh(e,r):"not-in"===t?new uh(e,r):"array-contains-any"===t?new sh(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new nh(e,n):new rh(e,n)}}]),n}(function(){function e(){b(this,e)}return w(e)}()),th=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this,e,r,i)).key=of.fromName(i.referenceValue),a}return w(n,[{key:"matches",value:function(e){var t=of.comparator(e.key,this.key);return this.v(t)}}]),n}(eh),nh=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,"in",r)).keys=ih(0,r),i}return w(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(eh),rh=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,"not-in",r)).keys=ih(0,r),i}return w(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(eh);function ih(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return of.fromName(e.referenceValue)}))}var ah=function(e){y(n,e);var t=g(n);function n(e,r){return b(this,n),t.call(this,e,"array-contains",r)}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return gf(t)&&ff(t.arrayValue,this.value)}}]),n}(eh),oh=function(e){y(n,e);var t=g(n);function n(e,r){return b(this,n),t.call(this,e,"in",r)}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ff(this.value.arrayValue,t)}}]),n}(eh),uh=function(e){y(n,e);var t=g(n);function n(e,r){return b(this,n),t.call(this,e,"not-in",r)}return w(n,[{key:"matches",value:function(e){if(ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ff(this.value.arrayValue,t)}}]),n}(eh),sh=function(e){y(n,e);var t=g(n);function n(e,r){return b(this,n),t.call(this,e,"array-contains-any",r)}return w(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!gf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ff(t.value.arrayValue,e)}))}}]),n}(eh),ch=w((function e(t,n){b(this,e),this.position=t,this.inclusive=n})),lh=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";b(this,e),this.field=t,this.dir=n}));function fh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function hh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?of.comparator(of.fromName(o.referenceValue),n.key):hf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function dh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!lf(e.position[n],t.position[n]))return!1;return!0}var ph=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;b(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function vh(e,t,n,r,i,a,o,u){return new ph(e,t,n,r,i,a,o,u)}function mh(e){return new ph(e)}function yh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gh(e){var t,n=p(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function kh(e){return null!==e.collectionGroup}function bh(e){var t=gl(e);if(null===t.D){t.D=[];var n=gh(t),r=yh(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new lh(n)),t.D.push(new lh(Kl.keyField(),"asc"));else{var i,a=!1,o=p(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new lh(Kl.keyField(),s))}}}return t.D}function wh(e){var t=gl(e);if(!t.C)if("F"===t.limitType)t.C=Gf(t.path,t.collectionGroup,bh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=p(bh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new lh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ch(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ch(t.startAt.position,t.startAt.inclusive):null;t.C=Gf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function xh(e,t,n){return new ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Eh(e,t){return Yf(wh(e),wh(t))&&e.limitType===t.limitType}function Ih(e){return"".concat(Hf(wh(e)),"|lt:").concat(e.limitType)}function _h(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(pf(t.value));var t})).join(", "),"]")),nf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return pf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return pf(e)})).join(",")),"Target(".concat(t,")")}(wh(e)),"; limitType=").concat(e.limitType,")")}function Th(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):of.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=p(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=p(e.filters);try{for(r.s();!(n=r.n()).done;)if(!n.value.matches(t))return!1}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=hh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bh(e),t)||e.endAt&&!function(e,t,n){var r=hh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bh(e),t))}(e,t)}function Sh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ah(e){return function(t,n){var r,i=!1,a=p(bh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Nh(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Nh(e,t,n){var r=e.field.isKeyField()?of.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hf(r,i):ml()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ml()}}function Ch(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(t)?"-0":t}}function Oh(e){return{integerValue:""+e}}function Ph(e,t){return af(t)?Oh(t):Ch(e,t)}var Rh=w((function e(){b(this,e),this._=void 0}));function Dh(e,t,n){return e instanceof Fh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Uh?jh(e,t):e instanceof Vh?Bh(e,t):function(e,t){var n=Mh(e,t),r=zh(n)+zh(e.k);return yf(n)&&yf(e.k)?Oh(r):Ch(e.M,r)}(e,t)}function Lh(e,t,n){return e instanceof Uh?jh(e,t):e instanceof Vh?Bh(e,t):n}function Mh(e,t){return e instanceof qh?yf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Fh=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n)}(Rh),Uh=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this)).elements=e,r}return w(n)}(Rh);function jh(e,t){var n,r=Kh(t),i=p(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return lf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Vh=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this)).elements=e,r}return w(n)}(Rh);function Bh(e,t){var n,r=Kh(t),i=p(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!lf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qh=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).M=e,i.k=r,i}return w(n)}(Rh);function zh(e){return Yl(e.integerValue||e.doubleValue)}function Kh(e){return gf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Qh=w((function e(t,n){b(this,e),this.field=t,this.transform=n})),Wh=w((function e(t,n){b(this,e),this.version=t,this.transformResults=n})),Gh=function(){function e(t,n){b(this,e),this.updateTime=t,this.exists=n}return w(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Hh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Yh=w((function e(){b(this,e)}));function Zh(e,t,n){e instanceof td?function(e,t,n){var r=e.value.clone(),i=id(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof nd?function(e,t,n){if(Hh(e.precondition,t)){var r=id(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jh(e,t,n){e instanceof td?function(e,t,n){if(Hh(e.precondition,t)){var r=e.value.clone(),i=ad(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ed(t),r).setHasLocalMutations()}}(e,t,n):e instanceof nd?function(e,t,n){if(Hh(e.precondition,t)){var r=ad(e.fieldTransforms,n,t),i=t.data;i.setAll(rd(e)),i.setAll(r),t.convertToFoundDocument(ed(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Hh(e.precondition,t)&&t.convertToNoDocument(Fl.min())}(e,t)}function Xh(e,t){var n,r=null,i=p(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Mh(a.transform,o||null);null!=u&&(null==r&&(r=Af.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function $h(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Dl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Uh&&t instanceof Uh||e instanceof Vh&&t instanceof Vh?Dl(e.elements,t.elements,lf):e instanceof qh&&t instanceof qh?lf(e.k,t.k):e instanceof Fh&&t instanceof Fh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ed(e){return e.isFoundDocument()?e.version:Fl.min()}var td=function(e){y(n,e);var t=g(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return b(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return w(n)}(Yh),nd=function(e){y(n,e);var t=g(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return b(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return w(n)}(Yh);function rd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function id(e,t,n){var r=new Map;yl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Lh(o,u,n[i]))}return r}function ad(e,t,n){var r,i=new Map,a=p(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Dh(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var od,ud,sd=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return w(n)}(Yh),cd=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return w(n)}(Yh),ld=w((function e(t){b(this,e),this.count=t}));function fd(e){switch(e){default:return ml();case kl.CANCELLED:case kl.UNKNOWN:case kl.DEADLINE_EXCEEDED:case kl.RESOURCE_EXHAUSTED:case kl.INTERNAL:case kl.UNAVAILABLE:case kl.UNAUTHENTICATED:return!1;case kl.INVALID_ARGUMENT:case kl.NOT_FOUND:case kl.ALREADY_EXISTS:case kl.PERMISSION_DENIED:case kl.FAILED_PRECONDITION:case kl.ABORTED:case kl.OUT_OF_RANGE:case kl.UNIMPLEMENTED:case kl.DATA_LOSS:return!0}}function hd(e){if(void 0===e)return dl("GRPC error has no .code"),kl.UNKNOWN;switch(e){case od.OK:return kl.OK;case od.CANCELLED:return kl.CANCELLED;case od.UNKNOWN:return kl.UNKNOWN;case od.DEADLINE_EXCEEDED:return kl.DEADLINE_EXCEEDED;case od.RESOURCE_EXHAUSTED:return kl.RESOURCE_EXHAUSTED;case od.INTERNAL:return kl.INTERNAL;case od.UNAVAILABLE:return kl.UNAVAILABLE;case od.UNAUTHENTICATED:return kl.UNAUTHENTICATED;case od.INVALID_ARGUMENT:return kl.INVALID_ARGUMENT;case od.NOT_FOUND:return kl.NOT_FOUND;case od.ALREADY_EXISTS:return kl.ALREADY_EXISTS;case od.PERMISSION_DENIED:return kl.PERMISSION_DENIED;case od.FAILED_PRECONDITION:return kl.FAILED_PRECONDITION;case od.ABORTED:return kl.ABORTED;case od.OUT_OF_RANGE:return kl.OUT_OF_RANGE;case od.UNIMPLEMENTED:return kl.UNIMPLEMENTED;case od.DATA_LOSS:return kl.DATA_LOSS;default:return ml()}}(ud=od||(od={}))[ud.OK=0]="OK",ud[ud.CANCELLED=1]="CANCELLED",ud[ud.UNKNOWN=2]="UNKNOWN",ud[ud.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ud[ud.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ud[ud.NOT_FOUND=5]="NOT_FOUND",ud[ud.ALREADY_EXISTS=6]="ALREADY_EXISTS",ud[ud.PERMISSION_DENIED=7]="PERMISSION_DENIED",ud[ud.UNAUTHENTICATED=16]="UNAUTHENTICATED",ud[ud.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ud[ud.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ud[ud.ABORTED=10]="ABORTED",ud[ud.OUT_OF_RANGE=11]="OUT_OF_RANGE",ud[ud.UNIMPLEMENTED=12]="UNIMPLEMENTED",ud[ud.INTERNAL=13]="INTERNAL",ud[ud.UNAVAILABLE=14]="UNAVAILABLE",ud[ud.DATA_LOSS=15]="DATA_LOSS";var dd=function(){function e(t,n){b(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return w(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){jl(this.inner,(function(t,n){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Vl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),pd=new Vf(of.comparator);function vd(){return pd}var md=new Vf(of.comparator);function yd(){for(var e=md,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function gd(){return new dd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var kd=new Vf(of.comparator),bd=new zf(of.comparator);function wd(){for(var e=bd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var xd=new zf(Rl);function Ed(){return xd}var Id=function(){function e(t,n,r,i,a){b(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return w(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,_d.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Fl.min(),r,Ed(),vd(),wd())}}]),e}(),_d=function(){function e(t,n,r,i,a){b(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return w(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Wl.EMPTY_BYTE_STRING,n,wd(),wd(),wd())}}]),e}(),Td=w((function e(t,n,r,i){b(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Sd=w((function e(t,n){b(this,e),this.targetId=t,this.$=n})),Ad=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;b(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Nd=function(){function e(){b(this,e),this.B=0,this.L=Pd(),this.U=Wl.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return w(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=wd(),t=wd(),n=wd();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ml()}})),new _d(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Pd()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Cd=function(){function e(t){b(this,e),this.nt=t,this.st=new Map,this.it=vd(),this.rt=Od(),this.ot=new zf(Rl)}return w(e,[{key:"ut",value:function(e){var t,n=p(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=p(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:ml()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Zf(i))if(0===n){var a=new of(i.path);this.ct(t,a,Cf.newNoDocument(a,Fl.min()))}else yl(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Zf(a.target)){var o=new of(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Cf.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=wd();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Id(e,n,this.ot,this.it,r);return this.it=vd(),this.rt=Od(),this.ot=new zf(Rl),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Nd,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new zf(Rl),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||hl("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Nd),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Od(){return new Vf(of.comparator)}function Pd(){return new Vf(of.comparator)}var Rd={asc:"ASCENDING",desc:"DESCENDING"},Dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ld=w((function e(t,n){b(this,e),this.databaseId=t,this.N=n}));function Md(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fd(e,t){return e.N?t.toBase64():t.toUint8Array()}function Ud(e,t){return Md(e,t.toTimestamp())}function jd(e){return yl(!!e),Fl.fromTimestamp(function(e){var t=Hl(e);return new Ml(t.seconds,t.nanos)}(e))}function Vd(e,t){return function(e){return new ql(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bd(e){var t=ql.fromString(e);return yl(cp(t)),t}function qd(e,t){return Vd(e.databaseId,t.path)}function zd(e,t){var n=Bd(t);if(n.get(1)!==e.databaseId.projectId)throw new bl(kl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new bl(kl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new of(Gd(n))}function Kd(e,t){return Vd(e.databaseId,t)}function Qd(e){var t=Bd(e);return 4===t.length?ql.emptyPath():Gd(t)}function Wd(e){return new ql(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gd(e){return yl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hd(e,t,n){return{name:qd(e,t),fields:n.value.mapValue.fields}}function Yd(e,t,n){var r=zd(e,t.name),i=jd(t.updateTime),a=new Af({mapValue:{fields:t.fields}}),o=Cf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Zd(e,t){var n;if(t instanceof td)n={update:Hd(e,t.key,t.value)};else if(t instanceof sd)n={delete:qd(e,t.key)};else if(t instanceof nd)n={update:Hd(e,t.key,t.data),updateMask:sp(t.fieldMask)};else{if(!(t instanceof cd))return ml();n={verify:qd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Fh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Uh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ml()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ud(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ml()}(e,t.precondition)),n}function Jd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Gh.updateTime(jd(e.updateTime)):void 0!==e.exists?Gh.exists(e.exists):Gh.none()}(t.currentDocument):Gh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)yl("REQUEST_TIME"===t.setToServerValue),n=new Fh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Uh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Vh(i)}else"increment"in t?n=new qh(e,t.increment):ml();var a=Kl.fromServerFormat(t.fieldPath);return new Qh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zd(e,t.update.name),a=new Af({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ql(t.map((function(e){return Kl.fromServerFormat(e)})))}(t.updateMask);return new nd(i,a,o,n,r)}return new td(i,a,n,r)}if(t.delete){var u=zd(e,t.delete);return new sd(u,n)}if(t.verify){var s=zd(e,t.verify);return new cd(s,n)}return ml()}function Xd(e,t){return{documents:[Kd(e,t.path)]}}function $d(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(bf(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NAN"}};if(kf(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bf(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NOT_NAN"}};if(kf(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ip(e.field),op:rp(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ip(e.field),direction:np(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||nf(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ep(e){var t=Qd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=tp(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new lh(ap(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return nf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ch(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ch(n,t)}(n.endAt)),vh(t,i,u,o,s,"F",c,l)}function tp(e){return e?void 0!==e.unaryFilter?[up(e)]:void 0!==e.fieldFilter?[op(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return tp(e)})).reduce((function(e,t){return e.concat(t)})):ml():[]}function np(e){return Rd[e]}function rp(e){return Dd[e]}function ip(e){return{fieldPath:e.canonicalString()}}function ap(e){return Kl.fromServerFormat(e.fieldPath)}function op(e){return eh.create(ap(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ml()}}(e.fieldFilter.op),e.fieldFilter.value)}function up(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ap(e.unaryFilter.field);return eh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ap(e.unaryFilter.field);return eh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ap(e.unaryFilter.field);return eh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ap(e.unaryFilter.field);return eh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ml()}}function sp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function cp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function lp(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=hp(t)),t=fp(e.get(n),t);return hp(t)}function fp(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function hp(e){return e+"\x01\x01"}function dp(e){var t=e.length;if(yl(t>=2),2===t)return yl("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ql.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ml(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ml()}a=o+2}return new ql(r)}var pp=["userId","batchId"];function vp(e,t){return[e,lp(t)]}function mp(e,t,n){return[e,lp(t),n]}var yp={},gp=["prefixPath","collectionGroup","readTime","documentId"],kp=["prefixPath","collectionGroup","documentId"],bp=["collectionGroup","readTime","prefixPath","documentId"],wp=["canonicalId","targetId"],xp=["targetId","path"],Ep=["path","targetId"],Ip=["collectionId","parent"],_p=["indexId","uid"],Tp=["uid","sequenceNumber"],Sp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ap=["indexId","uid","orderedDocumentKey"],Np=["userId","collectionPath","documentId"],Cp=["userId","collectionPath","largestBatchId"],Op=["userId","collectionGroup","largestBatchId"],Pp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rp=[].concat(Pp,["documentOverlays"]),Dp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lp=[].concat(Dp,["indexConfiguration","indexState","indexEntries"]),Mp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fp=function(){function e(){b(this,e),this.onCommittedListeners=[]}return w(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Up=function(){function e(t){var n=this;b(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return w(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ml(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=p(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),jp=function(){function e(t,n){var r=this;b(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new wl,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new qp(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Gp(e.target.error);r.At.reject(new qp(t,n))}}return w(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(hl("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Kp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new qp(n,t)}}}]),e}(),Vp=function(){function e(t,n,r){b(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(L())&&dl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return w(e,[{key:"Nt",value:function(){var e=d(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return hl("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new qp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new bl(kl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new bl(kl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new qp(t,n))},i.onupgradeneeded=function(e){hl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){hl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=d(f().mark((function e(t,n,r,i){var a,o,u,s,c=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(f().mark((function e(){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=jp.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),Up.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,hl("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return hl("SimpleDb","Removing database:",e),Qp(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!B())return!1;if(e.St())return!0;var t=L(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLASS_CODE:"test-content"})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Bp=function(){function e(t){b(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return w(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Qp(this.Ft.delete())}}]),e}(),qp=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,kl.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return w(n)}(bl);function zp(e){return"IndexedDbTransactionError"===e.name}var Kp=function(){function e(t){b(this,e),this.store=t}return w(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(hl("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(hl("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Qp(n)}},{key:"add",value:function(e){return hl("SimpleDb","ADD",this.store.name,e,e),Qp(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Qp(this.store.get(e)).next((function(n){return void 0===n&&(n=null),hl("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return hl("SimpleDb","DELETE",this.store.name,e),Qp(this.store.delete(e))}},{key:"count",value:function(){return hl("SimpleDb","COUNT",this.store.name),Qp(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Up((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Up((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){hl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Up((function(n,r){t.onerror=function(e){var t=Gp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Up((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Bp(i),o=t(i.primaryKey,i.value,a);if(o instanceof Up){var u=o.catch((function(e){return a.done(),Up.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Up.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Qp(e){return new Up((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Gp(e.target.error);n(t)}}))}var Wp=!1;function Gp(e){var t=Vp.Vt(L());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new bl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Wp||(Wp=!0,setTimeout((function(){throw r}),0)),r}}return e}var Hp=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return w(n)}(Fp);function Yp(e,t){var n=gl(e);return Vp.xt(n.Ht,t)}var Zp=function(){function e(t,n,r,i){b(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return w(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Zh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=p(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Jh(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=p(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Jh(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Fl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,(function(e,t){return $h(e,t)}))&&Dl(this.baseMutations,e.baseMutations,(function(e,t){return $h(e,t)}))}}]),e}(),Jp=function(){function e(t,n,r,i){b(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return w(e,null,[{key:"from",value:function(t,n,r){yl(t.mutations.length===r.length);for(var i=kd,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Xp=function(){function e(t,n){b(this,e),this.largestBatchId=t,this.mutation=n}return w(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),$p=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fl.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Wl.EMPTY_BYTE_STRING;b(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return w(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ev=w((function e(t){b(this,e),this.Jt=t}));function tv(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:qd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Md(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rv(t.version)};else{if(!t.isUnknownDocument())return ml();r.unknownDocument={path:n.path.toArray(),version:rv(t.version)}}return r}function nv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rv(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function iv(e){var t=new Ml(e.seconds,e.nanoseconds);return Fl.fromTimestamp(t)}function av(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Jd(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Jd(e.Jt,t)})),u=Ml.fromMillis(t.localWriteTimeMs);return new Zp(t.batchId,u,n,o)}function ov(e){var t,n,r=iv(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?iv(e.lastLimboFreeSnapshotVersion):Fl.min();return void 0!==e.query.documents?(yl(1===(n=e.query).documents.length),t=wh(mh(Qd(n.documents[0])))):t=function(e){return wh(ep(e))}(e.query),new $p(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Wl.fromBase64String(e.resumeToken))}function uv(e,t){var n,r=rv(t.snapshotVersion),i=rv(t.lastLimboFreeSnapshotVersion);n=Zf(t.target)?Xd(e.Jt,t.target):$d(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Hf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function sv(e){var t=ep({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xh(t,t.limit,"L"):t}function cv(e,t){return new Xp(t.largestBatchId,Jd(e.Jt,t.overlayMutation))}function lv(e,t){var n=t.path.lastSegment();return[e,lp(t.path.popLast()),n]}var fv=function(){function e(){b(this,e)}return w(e,[{key:"getBundleMetadata",value:function(e,t){return hv(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:iv(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return hv(e).put({bundleId:(n=t).id,createTime:rv(jd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return dv(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:sv(t.bundledQuery),readTime:iv(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return dv(e).put(function(e){return{name:e.name,readTime:rv(jd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function hv(e){return Yp(e,"bundles")}function dv(e){return Yp(e,"namedQueries")}var pv=function(){function e(t,n){b(this,e),this.M=t,this.userId=n}return w(e,[{key:"getOverlay",value:function(e,t){var n=this;return vv(e).get(lv(this.userId,t)).next((function(e){return e?cv(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Xp(t,a);i.push(r.Xt(e,o))})),Up.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(lp(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(vv(e).Qt("collectionPathOverlayIndex",i))})),Up.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=gd(),a=lp(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return vv(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=cv(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=gd(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vv(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=cv(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return vv(e).put(function(e,t,n){var r=lv(t,n.mutation.key),i=v(r,3);return i[0],{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Zd(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function vv(e){return Yp(e,"documentOverlays")}var mv=function(){function e(){b(this,e)}return w(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Yl(e.integerValue));else if("doubleValue"in e){var n=Yl(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),rf(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Zl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Ef(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ml()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),of.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function yv(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function gv(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=yv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}mv.fe=new mv;var kv=function(){function e(){b(this,e),this.buffer=new Uint8Array(1024),this.position=0}return w(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=gv(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=gv(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),bv=function(){function e(t){b(this,e),this.De=t}return w(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),wv=function(){function e(t){b(this,e),this.De=t}return w(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),xv=function(){function e(){b(this,e),this.De=new kv,this.Ce=new bv(this.De),this.xe=new wv(this.De)}return w(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Ev=function(){function e(t,n,r,i){b(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return w(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Iv(e,t){var n=e.indexId-t.indexId;return 0!==n||0!==(n=_v(e.arrayValue,t.arrayValue))||0!==(n=_v(e.directionalValue,t.directionalValue))?n:of.comparator(e.documentKey,t.documentKey)}function _v(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Tv=function(){function e(t){b(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=p(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return w(e,[{key:"$e",value:function(e){var t=Pf(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Rf(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=p(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Sv=function(){function e(){b(this,e),this.qe=new Av}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Up.resolve()}},{key:"getCollectionParents",value:function(e,t){return Up.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Up.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Up.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Up.resolve(null)}},{key:"getIndexType",value:function(e,t){return Up.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Up.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Up.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Up.resolve(Uf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Up.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Up.resolve()}}]),e}(),Av=function(){function e(){b(this,e),this.index={}}return w(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new zf(ql.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new zf(ql.comparator)).toArray()}}]),e}(),Nv=new Uint8Array(0),Cv=function(){function e(t,n){b(this,e),this.user=t,this.databaseId=n,this.Ke=new Av,this.Ge=new dd((function(e){return Hf(e)}),(function(e,t){return Yf(e,t)})),this.uid=t.uid||""}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:lp(i)};return Ov(e).put(a)}return Up.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ll(t),""],!1,!0);return Ov(e).qt(r).next((function(e){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dp(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Rv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Rv(e),r=Dv(e),i=Pv(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Pv(e),i=!0,a=new Map;return Up.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=wd(),o=[];return Up.forEach(a,(function(i,a){var u;hl("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Hf(t)));var s=function(e,t){var n=Pf(t);if(void 0===n)return null;var r,i=p(Jf(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=p(Rf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=p(Jf(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=p(Rf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Xf(e,o.fieldPath,e.startAt):$f(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ch(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=p(Rf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?$f(e,o.fieldPath,e.endAt):Xf(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ch(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),v=n.ze(i,a,c),m=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,v);return Up.forEach(m,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=of.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Up.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):Nv,d=u.Ye(e,f,n[s%c],r),p=u.Xe(e,f,i[s%c],a),v=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,h(u.createRange(d,p,v)))},d=0;d<s;++d)f(d);return l}},{key:"Ye",value:function(e,t,n,r){var i=new Ev(e,of.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Ev(e,of.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new Tv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=p(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Up.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new zf(Kl.comparator),r=!1,i=p(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=p(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new xv,i=p(Rf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);mv.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new xv;return mv.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new xv;return mv.fe.Zt(mf(this.databaseId,t),n.Ne(function(e){var t=Rf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new xv);var i,a=0,o=p(Rf(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=p(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&gf(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);mv.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=h(e),a=[],o=p(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=p(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new xv;f.seed(l.Se()),mv.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof eh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Rv(e),i=Dv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Up.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Lf(t.sequenceNumber,new Uf(iv(t.readTime),new of(dp(t.documentKey)),t.largestBatchId)):Lf.empty(),r=e.fields.map((function(e){var t=v(e,2),n=t[0],r=t[1];return new Df(Kl.fromServerFormat(n),r)}));return new Of(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Rl(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Rv(e),a=Dv(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Up.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:rv(r.readTime),documentKey:lp(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Up.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Up.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Up.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?Up.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Pv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Pv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Pv(e),i=new zf(Iv);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Ev(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new zf(Iv),r=this.Ze(t,e);if(null==r)return n;var i=Pf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(gf(a)){var o,u=p(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Ev(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Ev(t.indexId,e.key,Nv,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;hl("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Qf(a),s=Qf(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Qf(o)):l?(i(u),u=Qf(a)):(u=Qf(a),s=Qf(o))}}(r,i,Iv,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),Up.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Dv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Iv(e,t)})).filter((function(e,t,n){return!t||0!==Iv(e,n[t-1])}));var r=[];r.push(e);var i,a=p(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Iv(o,e),s=Iv(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Nv,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Nv,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return Up.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||jf(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=Uf.min()}))})).next((function(){return n}))}}]),e}();function Ov(e){return Yp(e,"collectionParents")}function Pv(e){return Yp(e,"indexEntries")}function Rv(e){return Yp(e,"indexConfiguration")}function Dv(e){return Yp(e,"indexState")}var Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mv=function(){function e(t,n,r){b(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return w(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Fv(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){yl(1===u)})));var c,l=[],f=p(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=mp(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return Up.waitFor(a).next((function(){return l}))}function Uv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ml();t=e.noDocument}return JSON.stringify(t).length}Mv.DEFAULT_COLLECTION_PERCENTILE=10,Mv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mv.DEFAULT=new Mv(41943040,Mv.DEFAULT_COLLECTION_PERCENTILE,Mv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mv.DISABLED=new Mv(-1,0,0);var jv=function(){function e(t,n,r,i){b(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return w(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bv(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=qv(e),o=Bv(e);return o.add({}).next((function(u){yl("number"==typeof u);var s,c=new Zp(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Zd(e.Jt,t)})),i=n.mutations.map((function(t){return Zd(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new zf((function(e,t){return Rl(e.canonicalString(),t.canonicalString())})),d=p(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,m=mp(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(m,yp))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),Up.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Bv(e).get(t).next((function(e){return e?(yl(e.userId===n.userId),av(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?Up.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Bv(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(yl(t.batchId>=r),a=av(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bv(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bv(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return av(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=vp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qv(e).Wt({range:i},(function(r,i,o){var u=v(r,3),s=u[0],c=u[1],l=u[2],f=dp(c);if(s===n.userId&&t.path.isEqual(f))return Bv(e).get(l).next((function(e){if(!e)throw ml();yl(e.userId===n.userId),a.push(av(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new zf(Rl),i=[];return t.forEach((function(t){var a=vp(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=qv(e).Wt({range:o},(function(e,i,a){var o=v(e,3),u=o[0],s=o[1],c=o[2],l=dp(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Up.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=vp(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new zf(Rl);return qv(e).Wt({range:o},(function(e,t,a){var o=v(e,3),s=o[0],c=o[1],l=o[2],f=dp(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Bv(e).get(t).next((function(e){if(null===e)throw ml();yl(e.userId===n.userId),r.push(av(n.M,e))})))})),Up.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Fv(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),Up.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Up.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return qv(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dp(e[1]);i.push(a)}else r.done()})).next((function(){yl(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Vv(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return zv(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return yl(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Vv(e,t,n){var r=vp(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return qv(e).Wt({range:a,jt:!0},(function(e,n,r){var a=v(e,3),u=a[0],s=a[1];a[2],u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Bv(e){return Yp(e,"mutations")}function qv(e){return Yp(e,"documentMutations")}function zv(e){return Yp(e,"mutationQueues")}var Kv=function(){function e(t){b(this,e),this.mn=t}return w(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Qv=function(){function e(t,n){b(this,e),this.referenceDelegate=t,this.M=n}return w(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Kv(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Fl.fromTimestamp(new Ml(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Wv(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return yl(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Wv(e).Wt((function(o,u){var s=ov(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Up.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Wv(e).Wt((function(e,n){var r=ov(n);t(r)}))}},{key:"pn",value:function(e){return Gv(e).get("targetGlobalKey").next((function(e){return yl(null!==e),e}))}},{key:"In",value:function(e,t){return Gv(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Wv(e).put(uv(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Hf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Wv(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ov(n);Yf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Hv(e);return t.forEach((function(t){var o=lp(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Up.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Hv(e);return Up.forEach(t,(function(t){var a=lp(t.path);return Up.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Hv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Hv(e),i=wd();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=dp(e[1]),a=new of(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=lp(t.path),r=IDBKeyRange.bound([n],[Ll(n)],!1,!0),i=0;return Hv(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=v(e,2),a=r[0];r[1],0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Wv(e).get(t).next((function(e){return e?ov(e):null}))}}]),e}();function Wv(e){return Yp(e,"targets")}function Gv(e){return Yp(e,"targetGlobal")}function Hv(e){return Yp(e,"targetDocuments")}function Yv(e){return Zv.apply(this,arguments)}function Zv(){return Zv=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===kl.FAILED_PRECONDITION&&t.message===Mp){e.next=2;break}throw t;case 2:hl("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function Jv(e,t){var n=v(e,2),r=n[0],i=n[1],a=v(t,2),o=a[0],u=a[1],s=Rl(r,o);return 0===s?Rl(i,u):s}var Xv=function(){function e(t){b(this,e),this.An=t,this.buffer=new zf(Jv),this.Rn=0}return w(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Jv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),$v=function(){function e(t,n){b(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return w(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;hl("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,d(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!zp(n.t0)){n.next=12;break}hl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Yv(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),em=function(){function e(t,n){b(this,e),this.Dn=t,this.params=n}return w(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Up.resolve(Cl.A);var r=new Xv(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(hl("LruGarbageCollector","Garbage collection skipped; disabled"),Up.resolve(Lv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(hl("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Lv):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(hl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),fl()<=te.DEBUG&&hl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Up.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),tm=function(){function e(t,n){b(this,e),this.db=t,this.garbageCollector=function(e,t){return new em(e,t)}(this,n)}return w(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return nm(e,n)}},{key:"removeReference",value:function(e,t,n){return nm(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return nm(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return zv(e).zt((function(r){return Vv(e,r,t).next((function(e){return e&&(n=!0),Up.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Fl.min()),Hv(e).delete([0,lp(o.path)])}))}));i.push(s)}})).next((function(){return Up.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return nm(e,t)}},{key:"Mn",value:function(e,t){var n,r=Hv(e),i=Cl.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=v(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Cl.A&&t(new of(dp(n)),i),i=s,n=u):i=Cl.A})).next((function(){i!==Cl.A&&t(new of(dp(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function nm(e,t){return Hv(e).put(function(e,t){return{targetId:0,path:lp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var rm=function(){function e(){b(this,e),this.changes=new dd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return w(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Cf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Up.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),im=function(){function e(t){b(this,e),this.M=t}return w(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return um(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return um(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],nv(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Cf.newInvalidDocument(t);return um(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(sm(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Cf.newInvalidDocument(t)};return um(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(sm(t))},(function(e,i){r={document:n.$n(t,i),size:Uv(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=vd();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=vd(),i=new Vf(of.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,Uv(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return Up.resolve();var r=new zf(lm);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(sm(r.first()),sm(r.last())),a=r.getIterator(),o=a.getNext();return um(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=of.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&lm(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(sm(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),nv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return um(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=vd(),i=p(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(of.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=vd(),o=cm(t,n),u=cm(t,Uf.max());return um(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(of.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new am(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return om(e).get("remoteDocumentGlobalKey").next((function(e){return yl(!!e),e}))}},{key:"Fn",value:function(e,t){return om(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Yd(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=of.fromSegments(t.noDocument.path),i=iv(t.noDocument.readTime);n=Cf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ml();var a=of.fromSegments(t.unknownDocument.path),o=iv(t.unknownDocument.version);n=Cf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ml(e[0],e[1]);return Fl.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Fl.min()))return n}return Cf.newInvalidDocument(e)}}]),e}(),am=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new dd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new zf((function(e,t){return Rl(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=tv(t.Kn.M,o);i=i.add(a.path.popLast());var c=Uv(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=tv(t.Kn.M,o.convertToNoDocument(Fl.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),Up.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(rm);function om(e){return Yp(e,"remoteDocumentGlobal")}function um(e){return Yp(e,"remoteDocumentsV14")}function sm(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function cm(e,t){var n=t.documentKey.path.toArray();return[e,nv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lm(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Rl(n[a],r[a]))return i;return(i=Rl(n.length,r.length))||(i=Rl(n[n.length-2],r[r.length-2]))||Rl(n[n.length-1],r[r.length-1])}var fm=function(){function e(t){b(this,e),this.M=t}return w(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new jp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pp,{unique:!0}),e.createObjectStore("documentMutations")}(e),hm(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Up.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),hm(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fl.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pp,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Up.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Np});t.createIndex("collectionPathOverlayIndex",Cp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Op,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:gp});t.createIndex("documentKeyIndex",kp),t.createIndex("collectionGroupIndex",bp)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:_p}).createIndex("sequenceNumberIndex",Tp,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Sp}).createIndex("documentKeyIndex",Ap,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Uv(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return Up.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return Up.forEach(r,(function(r){yl(r.userId===n.userId);var i=av(t.M,r);return Fv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new ql(n),o=function(e){return[0,lp(e)]}(a);r.push(t.get(o).next((function(n){return n?Up.resolve():function(n){return t.put({targetId:0,path:lp(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Up.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Ip});var n=t.store("collectionParents"),r=new Av,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:lp(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new ql(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=v(e,3),r=(n[0],n[1]),a=(n[2],dp(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=ov(r),a=uv(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new of(ql.fromString(i.document.name).popFirst(5)):i.noDocument?of.fromSegments(i.noDocument.path):i.unknownDocument?of.fromSegments(i.unknownDocument.path):ml()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Up.waitFor(r)}))}}]),e}();function hm(e){e.createObjectStore("targetDocuments",{keyPath:xp}).createIndex("documentTargetsIndex",Ep,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wp,{unique:!0}),e.createObjectStore("targetGlobal")}var dm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pm=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(b(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new bl(kl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tm(this,i),this.hs=n+"main",this.M=new ev(s),this.ls=new Vp(this.hs,this.ts,new fm(this.M)),this.fs=new Qv(this.referenceDelegate,this.M),this.ds=function(e){return new im(e)}(this.M),this._s=new fv,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&dl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return w(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new bl(kl.FAILED_PRECONDITION,dm);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Cl(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=d(f().mark((function n(r){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=d(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return mm(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(zp(t))return hl("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return hl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return vm(e).get("owner").next((function(e){return Up.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return mm(e).delete(this.clientId)}},{key:"vs",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Yp(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Up.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=p(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?Up.resolve(!0):vm(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new bl(kl.FAILED_PRECONDITION,dm);return!1}}return!(!t.networkEnabled||!t.inForeground)||mm(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&hl("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=d(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Hp(e,Cl.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return mm(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return jv.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Cv(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return pv.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;hl("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Lp:13===i?Dp:12===i?Rp:11===i?Pp:void ml();return this.ls.runTransaction(e,o,u,(function(i){return a=new Hp(i,r.es?r.es.next():Cl.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw dl("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new bl(kl.FAILED_PRECONDITION,Mp);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return vm(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new bl(kl.FAILED_PRECONDITION,dm)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vm(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=vm(e);return n.get("owner").next((function(e){return t.Ps(e)?(hl("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Up.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t||e>n&&(dl("Detected an update time that is in the future: ".concat(e," > ").concat(n)),1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!F()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return hl("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return dl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(r){dl("Failed to set zombie client id.",r)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(r){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Vp.vt()}}]),e}();function vm(e){return Yp(e,"owner")}function mm(e){return Yp(e,"clientMetadata")}function ym(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gm=function(){function e(t,n,r){b(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return w(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=p(n);try{for(r.s();!(t=r.n()).done;)t.value.applyToLocalView(e)}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=p(t);try{for(i.s();!(r=i.n()).done;)r.value.applyToLocalView(n)}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return of.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):kh(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new of(t)).next((function(e){var t=yd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=yd();return this.indexManager.getCollectionParents(e,i).next((function(o){return Up.forEach(o,(function(o){var u=function(e,t){return new ph(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=p(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Cf.newInvalidDocument(s),r=r.insert(s,c)),Jh(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Th(t,n)||(r=r.remove(e))})),r}))}}]),e}(),km=function(){function e(t,n,r,i){b(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return w(e,null,[{key:"Ys",value:function(t,n){var r,i=wd(),a=wd(),o=p(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),bm=function(){function e(){b(this,e),this.Xs=!1}return w(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return Up.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Fl.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(fl()<=te.DEBUG&&hl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_h(t)),i.ri(e,o,t,Mf(r,-1)))}))}},{key:"si",value:function(e,t){var n=new zf(Ah(e));return t.forEach((function(t,r){Th(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return fl()<=te.DEBUG&&hl("QueryEngine","Using full collection scan to execute query:",_h(t)),this.Zs.Qs(e,t,Uf.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),wm=function(){function e(t,n,r,i){b(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new Vf(Rl),this.ai=new dd((function(e){return Hf(e)}),Yf),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return w(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new gm(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function xm(e,t,n,r){return new wm(e,t,n,r)}function Em(e,t){return Im.apply(this,arguments)}function Im(){return Im=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=wd(),s=p(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=p(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,v=p(n);try{for(v.s();!(d=v.n()).done;){var m=d.value;o.push(m.batchId);var y,g=p(m.mutations);try{for(g.s();!(y=g.n()).done;){var k=y.value;u=u.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){v.e(b)}finally{v.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Im.apply(this,arguments)}function _m(e){var t=gl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Tm(e,t,n){var r=wd();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=vd();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Fl.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):hl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Sm(e,t){var n=gl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Am(e,t){var n=gl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,Up.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new $p(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function Nm(e,t,n){return Cm.apply(this,arguments)}function Cm(){return Cm=d(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gl(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),zp(e.t1)){e.next=12;break}throw e.t1;case 12:hl("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Cm.apply(this,arguments)}function Om(e,t,n){var r=gl(e),i=Fl.min(),a=wd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=gl(e),i=r.ai.get(n);return void 0!==i?Up.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,wh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Fl.min(),n?a:wd())})).next((function(e){return Dm(r,Sh(t),e),{documents:e,_i:a}}))}))}function Pm(e,t){var n=gl(e),r=gl(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Rm(e,t){var n=gl(e),r=n.ci.get(t)||Fl.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,Mf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Dm(n,t,e),e}))}function Dm(e,t,n){var r=Fl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function Lm(e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=d(f().mark((function e(t,n){var r,i,a,o=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:wd(),e.next=3,Am(t,wh(sv(n.bundledQuery)));case 3:return i=e.sent,a=gl(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=jd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Wl.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Mm.apply(this,arguments)}var Fm=function(){function e(t){b(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return w(e,[{key:"getBundleMetadata",value:function(e,t){return Up.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:jd(n.createTime)}),Up.resolve()}},{key:"getNamedQuery",value:function(e,t){return Up.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:sv(e.bundledQuery),readTime:jd(e.readTime)}}(t)),Up.resolve()}}]),e}(),Um=function(){function e(){b(this,e),this.overlays=new Vf(of.comparator),this.Ii=new Map}return w(e,[{key:"getOverlay",value:function(e,t){return Up.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Up.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),Up.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=gd(),i=t.length+1,a=new of(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Up.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Vf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=gd(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=gd(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Up.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Xp(t,n));var a=this.Ii.get(t);void 0===a&&(a=wd(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),jm=function(){function e(){b(this,e),this.Ti=new zf(Vm.Ei),this.Ai=new zf(Vm.Ri)}return w(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Vm(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new Vm(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new of(new ql([])),r=new Vm(n,e),i=new Vm(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new of(new ql([])),n=new Vm(t,e),r=new Vm(t,e+1),i=wd();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Vm(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Vm=function(){function e(t,n){b(this,e),this.key=t,this.Ci=n}return w(e,null,[{key:"Ei",value:function(e,t){return of.comparator(e.key,t.key)||Rl(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Rl(e.Ci,t.Ci)||of.comparator(e.key,t.key)}}]),e}(),Bm=function(){function e(t,n){b(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new zf(Vm.Ei)}return w(e,[{key:"checkEmpty",value:function(e){return Up.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Zp(i,t,n,r);this.Bs.push(a);var o,u=p(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new Vm(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Up.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Up.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return Up.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Up.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return Up.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Vm(t,0),i=new Vm(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),Up.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new zf(Rl);return t.forEach((function(e){var t=new Vm(e,0),i=new Vm(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),Up.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;of.isDocumentKey(i)||(i=i.child(""));var a=new Vm(new of(i),0),o=new zf(Rl);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),Up.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;yl(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return Up.forEach(t.mutations,(function(i){var a=new Vm(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Vm(t,0),r=this.Ni.firstAfterOrEqual(n);return Up.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Up.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),qm=function(){function e(t){b(this,e),this.$i=t,this.docs=new Vf(of.comparator),this.size=0}return w(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Up.resolve(n?n.document.mutableCopy():Cf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=vd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Cf.newInvalidDocument(e))})),Up.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=vd(),i=new of(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||jf(Ff(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Up.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ml()}},{key:"Bi",value:function(e,t){return Up.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new zm(this)}},{key:"getSize",value:function(e){return Up.resolve(this.size)}}]),e}(),zm=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this)).Kn=e,r}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),Up.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(rm),Km=function(){function e(t){b(this,e),this.persistence=t,this.Li=new dd((function(e){return Hf(e)}),Yf),this.lastRemoteSnapshotVersion=Fl.min(),this.highestTargetId=0,this.Ui=0,this.qi=new jm,this.targetCount=0,this.Ki=Kv.gn()}return w(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),Up.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Up.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Up.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),Up.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Up.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new Kv(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Up.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Up.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Up.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Up.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Up.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return Up.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),Up.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Up.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),Up.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return Up.resolve(n)}},{key:"containsKey",value:function(e,t){return Up.resolve(this.qi.containsKey(t))}}]),e}(),Qm=function(){function e(t,n){var r=this;b(this,e),this.Gi={},this.overlays={},this.es=new Cl(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Km(this),this.indexManager=new Sv,this.ds=function(e){return new qm(e)}((function(e){return r.referenceDelegate.Qi(e)})),this.M=new ev(n),this._s=new Fm(this.M)}return w(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Um,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new Bm(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;hl("MemoryPersistence","Starting transaction:",e);var i=new Wm(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return Up.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Wm=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return w(n)}(Fp),Gm=function(){function e(t){b(this,e),this.persistence=t,this.Hi=new jm,this.Ji=null}return w(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw ml()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Up.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Up.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),Up.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Up.forEach(this.Xi,(function(r){var i=of.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Fl.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return Up.or([function(){return Up.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function Hm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ym(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Zm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Jm=function(){function e(t,n,r,i){b(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return w(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&(o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new bl(a.error.code,a.error.message)),o?new e(t,n,a.state,i):(dl("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Xm=function(){function e(t,n,r){b(this,e),this.targetId=t,this.state=n,this.error=r}return w(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new bl(i.error.code,i.error.message)),a?new e(t,i.state,r):(dl("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),$m=function(){function e(t,n){b(this,e),this.clientId=t,this.activeTargetIds=n}return w(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ed(),o=0;i&&o<r.activeTargetIds.length;++o)i=af(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(dl("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ey=function(){function e(t,n){b(this,e),this.clientId=t,this.onlineState=n}return w(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(dl("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ty=function(){function e(){b(this,e),this.activeTargetIds=Ed()}return w(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ny=function(){function e(t,n,r,i,a){b(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Vf(Rl),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=Hm(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new ty),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return w(e,[{key:"start",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a,o,u,s,c,l,h,d=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=p(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Hm(this.persistenceKey,i)))&&(o=$m.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=p(this.cr);try{for(c.s();!(l=c.n()).done;)h=l.value,this.ur(h)}catch(f){c.e(f)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Zm(this.persistenceKey,e));if(n){var r=Xm.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Zm(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return hl("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){hl("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){hl("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(hl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void dl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(d(f().mark((function e(){var r,i,a,o,u,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Cl.A;if(null!=e)try{var n=JSON.parse(e);yl("number"==typeof n),t=n}catch(e){dl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Cl.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new Jm(this.currentUser,e,t,n),i=Ym(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=Ym(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=Zm(this.persistenceKey,e),i=new Xm(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return $m.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Jm.tr(new sl(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return Xm.tr(r,t)}},{key:"pr",value:function(e){return ey.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:hl("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Ed();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ry=function(){function e(){b(this,e),this.Ur=new ty,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return w(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new ty,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),iy=function(){function e(){b(this,e)}return w(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ay=function(){function e(){var t=this;b(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return w(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){hl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=p(this.zr);try{for(t.s();!(e=t.n()).done;)(0,e.value)(0)}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){hl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=p(this.zr);try{for(t.s();!(e=t.n()).done;)(0,e.value)(1)}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),oy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uy=function(){function e(t){b(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return w(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),sy=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return w(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ol;o.listenOnce(tl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case el.NO_ERROR:var t=o.getResponseJson();hl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case el.TIMEOUT:hl("Connection",'RPC "'+e+'" timed out'),a(new bl(kl.DEADLINE_EXCEEDED,"Request time out"));break;case el.HTTP_ERROR:var n=o.getStatus();if(hl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(kl).indexOf(t)>=0?t:kl.UNKNOWN}(r.status);a(new bl(u,r.message))}else a(new bl(kl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new bl(kl.UNAVAILABLE,"Connection failed."));break;default:ml()}}finally{hl("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xc(),a=$c(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new il({})),this.lo(o.initMessageHeaders,t,n),M()||j()||L().indexOf("Electron/")>=0||V()||L().indexOf("MSAppHost/")>=0||U()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");hl("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new uy({Jr:function(e){l?hl("Connection","Not sending because WebChannel is closed:",e):(c||(hl("Connection","Opening WebChannel transport."),s.open(),c=!0),hl("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,al.EventType.OPEN,(function(){l||hl("Connection","WebChannel transport opened.")})),h(s,al.EventType.CLOSE,(function(){l||(l=!0,hl("Connection","WebChannel transport closed"),f.ro())})),h(s,al.EventType.ERROR,(function(e){l||(l=!0,pl("Connection","WebChannel transport errored:",e),f.ro(new bl(kl.UNAVAILABLE,"The operation could not be completed")))})),h(s,al.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];yl(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){hl("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=od[e];if(void 0!==t)return hd(t)}(a),u=i.message;void 0===o&&(o=kl.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new bl(o,u)),s.close()}else hl("Connection","WebChannel received:",n),f.oo(n)}})),h(a,nl.STAT_EVENT,(function(e){e.stat===rl.PROXY?hl("Connection","Detected buffering proxy"):e.stat===rl.NOPROXY&&hl("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){b(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return w(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);hl("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return hl("RestConnection","Received: ",e),e}),(function(t){throw pl("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=oy[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function cy(){return"undefined"!=typeof window?window:null}function ly(){return"undefined"!=typeof document?document:null}function fy(e){return new Ld(e,!0)}var hy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;b(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return w(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&hl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),dy=function(){function e(t,n,r,i,a,o,u,s){b(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new hy(t,n)}return w(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===kl.RESOURCE_EXHAUSTED?(dl(n.toString()),dl("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===kl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=v(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new bl(kl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return hl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(hl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),py=function(e){y(n,e);var t=g(n);function n(e,r,i,a,o,u){var s;return b(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return w(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ml()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(yl(void 0===t||"string"==typeof t),Wl.fromBase64String(t||"")):(yl(void 0===t||t instanceof Uint8Array),Wl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?kl.UNKNOWN:hd(e.code);return new bl(t,e.message||"")}(o);n=new Ad(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=zd(e,s.document.name),l=jd(s.document.updateTime),f=new Af({mapValue:{fields:s.document.fields}}),h=Cf.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Td(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=zd(e,v.document),y=v.readTime?jd(v.readTime):Fl.min(),g=Cf.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Td([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=zd(e,b.document),x=b.removedTargetIds||[];n=new Td([],x,w,null)}else{if(!("filter"in t))return ml();t.filter;var E=t.filter;E.targetId;var I=E.count||0,_=new ld(I),T=E.targetId;n=new Sd(T,_)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Fl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Fl.min():t.readTime?jd(t.readTime):Fl.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=Wd(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Zf(r)?{documents:Xd(e,r)}:{query:$d(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Fd(e,t.resumeToken):t.snapshotVersion.compareTo(Fl.min())>0&&(n.readTime=Md(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ml()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=Wd(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(dy),vy=function(e){y(n,e);var t=g(n);function n(e,r,i,a,o,u){var s;return b(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return w(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,u(s(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(yl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(yl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?jd(e.updateTime):jd(t);return n.isEqual(Fl.min())&&(n=jd(t)),new Wh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=jd(e.commitTime);return this.listener.tu(n,t)}return yl(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Wd(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Zd(t.M,e)}))};this.Lo(n)}}]),n}(dy),my=function(e){y(n,e);var t=g(n);function n(e,r,i,a){var o;return b(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return w(n,[{key:"iu",value:function(){if(this.su)throw new bl(kl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new bl(kl.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new bl(kl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){function e(){b(this,e)}return w(e)}()),yy=function(){function e(t,n){b(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return w(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(dl(t),this.uu=!1):hl("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),gy=w((function e(t,n,r,i,a){var o=this;b(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ny(o),!e.t0){e.next=5;break}return hl("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gl(t)).wu.add(4),e.next=4,wy(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,ky(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new yy(r,i)}));function ky(e){return by.apply(this,arguments)}function by(){return by=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ny(t)){e.next=18;break}n=p(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),by.apply(this,arguments)}function wy(e){return xy.apply(this,arguments)}function xy(){return xy=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),xy.apply(this,arguments)}function Ey(e,t){var n=gl(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Ay(n)?Sy(n):ig(n).Mo()&&_y(n,t))}function Iy(e,t){var n=gl(e),r=ig(n);n._u.delete(t),r.Mo()&&Ty(n,t),0===n._u.size&&(r.Mo()?r.$o():Ny(n)&&n.yu.set("Unknown"))}function _y(e,t){e.pu.Z(t.targetId),ig(e).Ho(t)}function Ty(e,t){e.pu.Z(t),ig(e).Jo(t)}function Sy(e){e.pu=new Cd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),ig(e).start(),e.yu.au()}function Ay(e){return Ny(e)&&!ig(e).ko()&&e._u.size>0}function Ny(e){return 0===gl(e).wu.size}function Cy(e){e.pu=void 0}function Oy(e){return Py.apply(this,arguments)}function Py(){return Py=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){_y(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Ry(e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cy(t),Ay(t)?(t.yu.lu(n),Sy(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ly(e,t,n){return My.apply(this,arguments)}function My(){return My=d(f().mark((function e(t,n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Ad&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=d(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=p(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hl("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Fy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Td?t.pu.ut(n):n instanceof Sd?t.pu._t(n):t.pu.ht(n),r.isEqual(Fl.min())){e.next=29;break}return e.prev=14,e.next=17,_m(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Wl.EMPTY_BYTE_STRING,n.snapshotVersion)),Ty(e,t);var r=new $p(n.target,t,1,n.sequenceNumber);_y(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hl("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Fy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),My.apply(this,arguments)}function Fy(e,t,n){return Uy.apply(this,arguments)}function Uy(){return Uy=d(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zp(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,wy(t);case 5:t.yu.set("Offline"),r||(r=function(){return _m(t.localStore)}),t.asyncQueue.enqueueRetryable(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hl("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,ky(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}function jy(e,t){return t().catch((function(n){return Fy(e,n,t)}))}function Vy(e){return By.apply(this,arguments)}function By(){return By=d(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gl(t),r=ag(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!qy(n)){e.next=19;break}return e.prev=3,e.next=6,Sm(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,zy(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Fy(n,e.t0);case 17:e.next=2;break;case 19:Ky(n)&&Qy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),By.apply(this,arguments)}function qy(e){return Ny(e)&&e.du.length<10}function zy(e,t){e.du.push(t);var n=ag(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function Ky(e){return Ny(e)&&!ag(e).ko()&&e.du.length>0}function Qy(e){ag(e).start()}function Wy(e){return Gy.apply(this,arguments)}function Gy(){return Gy=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ag(t).nu();case 1:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}function Hy(e){return Yy.apply(this,arguments)}function Yy(){return Yy=d(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ag(t),r=p(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}function Zy(e,t,n){return Jy.apply(this,arguments)}function Jy(){return Jy=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Jp.from(i,n,r),e.next=3,jy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Vy(t);case 5:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Xy(e,t){return $y.apply(this,arguments)}function $y(){return $y=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ag(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fd(i=n.code)||i===kl.ABORTED){e.next=7;break}return r=t.du.shift(),ag(t).Fo(),e.next=5,jy(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Vy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ky(t)&&Qy(t);case 5:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function eg(e,t){return tg.apply(this,arguments)}function tg(){return tg=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=gl(t)).asyncQueue.verifyOperationInProgress(),hl("RemoteStore","RemoteStore received new credentials"),i=Ny(r),r.wu.add(3),e.next=6,wy(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,ky(r);case 12:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){return rg.apply(this,arguments)}function rg(){return rg=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gl(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,ky(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,wy(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(e){return e.Iu||(e.Iu=function(e,t,n){var r=gl(e);return r.iu(),new py(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:Oy.bind(null,e),eo:Ry.bind(null,e),zo:Ly.bind(null,e)}),e.mu.push(function(){var t=d(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),Ay(e)?Sy(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:Cy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function ag(e){return e.Tu||(e.Tu=function(e,t,n){var r=gl(e);return r.iu(),new vy(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:Wy.bind(null,e),eo:Xy.bind(null,e),eu:Hy.bind(null,e),tu:Zy.bind(null,e)}),e.mu.push(function(){var t=d(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,Vy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(hl("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var og=function(){function e(t,n,r,i,a){b(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return w(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bl(kl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ug(e,t){if(dl("AsyncQueue","".concat(t,": ").concat(e)),zp(e))return new bl(kl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var sg=function(){function e(t){b(this,e),this.comparator=t?function(e,n){return t(e,n)||of.comparator(e.key,n.key)}:function(e,t){return of.comparator(e.key,t.key)},this.keyedMap=yd(),this.sortedSet=new Vf(this.comparator)}return w(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),cg=function(){function e(){b(this,e),this.Eu=new Vf(of.comparator)}return w(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ml():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),lg=function(){function e(t,n,r,i,a,o,u,s){b(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return w(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,sg.emptySet(n),a,r,i,!0,!1)}}]),e}(),fg=w((function e(){b(this,e),this.Ru=void 0,this.listeners=[]})),hg=w((function e(){b(this,e),this.queries=new dd((function(e){return Ih(e)}),Eh),this.onlineState="Unknown",this.bu=new Set}));function dg(e,t){return pg.apply(this,arguments)}function pg(){return pg=d(f().mark((function e(t,n){var r,i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gl(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new fg),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ug(e.t0,"Initialization of query '".concat(_h(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&kg(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),pg.apply(this,arguments)}function vg(e,t){return mg.apply(this,arguments)}function mg(){return mg=d(f().mark((function e(t,n){var r,i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gl(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),mg.apply(this,arguments)}function yg(e,t){var n,r=gl(e),i=!1,a=p(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=p(s.listeners);try{for(l.s();!(c=l.n()).done;)c.value.Vu(o)&&(i=!0)}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&kg(r)}function gg(e,t,n){var r=gl(e),i=r.queries.get(t);if(i){var a,o=p(i.listeners);try{for(o.s();!(a=o.n()).done;)a.value.onError(n)}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function kg(e){e.bu.forEach((function(e){e.next()}))}var bg=function(){function e(t,n,r){b(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return w(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=p(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new lg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.ku&&n||e.docs.isEmpty()&&"Offline"!==t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=lg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),wg=function(){function e(t,n){b(this,e),this.payload=t,this.byteLength=n}return w(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),xg=function(){function e(t){b(this,e),this.M=t}return w(e,[{key:"wi",value:function(e){return zd(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?Yd(this.M,e.document,!1):Cf.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return jd(e)}}]),e}(),Eg=function(){function e(t,n,r){b(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ig(t)}return w(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ql.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new xg(this.M),i=p(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=p(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||wd()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=d(f().mark((function e(t,n,r,i){var a,o,u,s,c,l,h,d,v,m;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=gl(t),o=wd(),u=vd(),s=p(r);try{for(s.s();!(c=s.n()).done;)l=c.value,h=n.wi(l.metadata.name),l.document&&(o=o.add(h)),(d=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(h,d)}catch(f){s.e(f)}finally{s.f()}return v=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,Am(a,function(e){return wh(mh(ql.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Tm(e,v,u).next((function(t){return v.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return a.fs.addMatchingKeys(e,o,m.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(this.localStore,new xg(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=p(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Lm(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Ig(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _g=w((function e(t){b(this,e),this.key=t})),Tg=w((function e(t){b(this,e),this.key=t})),Sg=function(){function e(t,n){b(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=wd(),this.mutatedKeys=wd(),this.Gu=Ah(t),this.Qu=new sg(this.Gu)}return w(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new cg,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Th(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ml()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new lg(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new cg,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=wd(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Tg(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new _g(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=wd();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return lg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),Ag=w((function e(t,n,r){b(this,e),this.query=t,this.targetId=n,this.view=r})),Ng=w((function e(t){b(this,e),this.key=t,this.na=!1})),Cg=function(){function e(t,n,r,i,a,o){b(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new dd((function(e){return Ih(e)}),Eh),this.ra=new Map,this.oa=new Set,this.ua=new Vf(of.comparator),this.aa=new Map,this.ca=new jm,this.ha={},this.la=new Map,this.fa=Kv.yn(),this.onlineState="Unknown",this.da=void 0}return w(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function Og(e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=d(f().mark((function e(t,n){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gk(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,Am(r.localStore,wh(n));case 8:return u=e.sent,r.isPrimaryClient&&Ey(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Rg(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Rg(e,t,n,r){return Dg.apply(this,arguments)}function Dg(){return Dg=d(f().mark((function e(t,n,r,i){var a,o,u,s,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=d(f().mark((function e(t,n,r,i){var a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,Om(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Zg(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Om(t.localStore,n,!0);case 3:return a=e.sent,o=new Sg(n,a._i),u=o.Wu(a.documents),s=_d.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Zg(t,r,c.Xu),l=new Ag(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Dg.apply(this,arguments)}function Lg(e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gl(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Eh(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Nm(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Iy(r.remoteStore,i.targetId),Hg(r,i.targetId)})).catch(Yv);case 9:e.next=14;break;case 11:return Hg(r,i.targetId),e.next=14,Nm(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}function Fg(e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t),e.prev=1,e.next=4,function(e,t){var n=gl(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Wl.EMPTY_BYTE_STRING,Fl.min()).withLastLimboFreeSnapshotVersion(Fl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=vd();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Tm(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Fl.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Up.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(yl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?yl(n.na):e.removedDocuments.size>0&&(yl(n.na),n.na=!1))})),e.next=8,$g(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Yv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ug.apply(this,arguments)}function jg(e,t,n){var r=gl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=gl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=p(n.listeners);try{for(a.s();!(i=a.n()).done;)i.value.Pu(t)&&(r=!0)}catch(o){a.e(o)}finally{a.f()}})),r&&kg(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Vg(e,t,n){return Bg.apply(this,arguments)}function Bg(){return Bg=d(f().mark((function e(t,n,r){var i,a,o,u,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=gl(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Vf(of.comparator)).insert(o,Cf.newNoDocument(o,Fl.min())),s=wd().add(o),c=new Id(Fl.min(),new Map,new zf(Rl),u,s),e.next=9,Fg(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),Xg(i),e.next=16;break;case 14:return e.next=16,Nm(i.localStore,n,!1).then((function(){return Hg(i,n,r)})).catch(Yv);case 16:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function qg(e,t){return zg.apply(this,arguments)}function zg(){return zg=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t),i=n.batch.batchId,e.prev=1,e.next=4,function(e,t){var n=gl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Up.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);yl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(r.localStore,n);case 4:return a=e.sent,Gg(r,i,null),Wg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,$g(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zg.apply(this,arguments)}function Kg(e,t,n){return Qg.apply(this,arguments)}function Qg(){return Qg=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gl(t),e.prev=1,e.next=4,function(e,t){var n=gl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return yl(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Gg(i,n,r),Wg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,$g(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qg.apply(this,arguments)}function Wg(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function Gg(e,t,n){var r=gl(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function Hg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=p(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||Yg(e,t)}))}function Yg(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(Iy(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),Xg(e))}function Zg(e,t,n){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _g?(e.ca.addReference(a.key,t),Jg(e,a)):a instanceof Tg?(hl("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||Yg(e,a.key)):ml()}}catch(o){i.e(o)}finally{i.f()}}function Jg(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(hl("SyncEngine","New document in limbo: "+n),e.oa.add(r),Xg(e))}function Xg(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new of(ql.fromString(t)),r=e.fa.next();e.aa.set(r,new Ng(n)),e.ua=e.ua.insert(n,r),Ey(e.remoteStore,new $p(wh(mh(n.path)),r,2,Cl.A))}}function $g(e,t,n){return ek.apply(this,arguments)}function ek(){return ek=d(f().mark((function e(t,n,r){var i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gl(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=km.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=d(f().mark((function e(t,n){var r,i,a,o,u,s,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Up.forEach(n,(function(t){return Up.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Up.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),zp(e.t0)){e.next=10;break}throw e.t0;case 10:hl("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=p(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t){return nk.apply(this,arguments)}function nk(){return nk=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=gl(t)).currentUser.isEqual(n)){e.next=11;break}return hl("SyncEngine","User change. New user:",n.toKey()),e.next=5,Em(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new bl(kl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,$g(r,i.di);case 11:case"end":return e.stop()}}),e)}))),nk.apply(this,arguments)}function rk(e,t){var n=gl(e),r=n.aa.get(t);if(r&&r.na)return wd().add(r.key);var i=wd(),a=n.ra.get(t);if(!a)return i;var o,u=p(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t),e.next=3,Om(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&Zg(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t){return uk.apply(this,arguments)}function uk(){return uk=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t),e.abrupt("return",Rm(r.localStore,n).then((function(e){return $g(r,e)})));case 2:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}function sk(e,t,n,r){return ck.apply(this,arguments)}function ck(){return ck=d(f().mark((function e(t,n,r,i){var a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gl(t),e.next=3,function(e,t){var n=gl(e),r=gl(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):Up.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Vy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Gg(a,n,i||null),Wg(a,n),function(e,t){gl(gl(e).Bs)._n(t)}(a.localStore,n)):ml();case 11:return e.next=13,$g(a,o);case 13:e.next=16;break;case 15:hl("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t,n){return fk.apply(this,arguments)}function fk(){return fk=d(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,v,m,y,g,k;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=gl(t),a=[],o=[],u=p(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(h=i.ra.get(c))||0===h.length){e.next=34;break}return e.next=11,Am(i.localStore,wh(h[0]));case 11:l=e.sent,d=p(h),e.prev=13,d.s();case 15:if((v=d.n()).done){e.next=24;break}return m=v.value,y=i.ia.get(m),e.next=20,ik(i,y);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Pm(i.localStore,c);case 36:return k=e.sent,e.next=39,Am(i.localStore,k);case 39:return l=e.sent,e.next=42,Rg(i,hk(k),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),fk.apply(this,arguments)}function hk(e){return vh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function dk(e){var t=gl(e);return gl(gl(t.localStore).persistence).Fs()}function pk(e,t,n,r){return vk.apply(this,arguments)}function vk(){return vk=d(f().mark((function e(t,n,r,i){var a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=gl(t)).da){e.next=3;break}return e.abrupt("return",void hl("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Rm(a.localStore,Sh(o[0]));case 10:return u=e.sent,s=Id.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,$g(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Nm(a.localStore,n,!0);case 17:return Hg(a,n,i),e.abrupt("break",20);case 19:ml();case 20:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function mk(e,t,n){return yk.apply(this,arguments)}function yk(){return yk=d(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=gk(t)).da){e.next=45;break}a=p(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return hl("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Pm(i.localStore,u);case 12:return s=e.sent,e.next=15,Am(i.localStore,s);case 15:return c=e.sent,e.next=18,Rg(i,hk(s),c.targetId,!1);case 18:Ey(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=p(r),e.prev=30,d=f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,Nm(i.localStore,t,!1).then((function(){Iy(i.remoteStore,t),Hg(i,t)})).catch(Yv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),yk.apply(this,arguments)}function gk(e){var t=gl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vg.bind(null,t),t.sa.zo=yg.bind(null,t.eventManager),t.sa.wa=gg.bind(null,t.eventManager),t}function kk(e){var t=gl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kg.bind(null,t),t}var bk=function(){function e(){b(this,e),this.synchronizeTabs=!1}return w(e,[{key:"initialize",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=fy(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return xm(this.persistence,new bm,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Qm(Gm.Yi,this.M)}},{key:"ga",value:function(e){return new ry}},{key:"terminate",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),wk=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return w(n,[{key:"initialize",value:function(){var e=d(f().mark((function e(t){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(s(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,kk(this.Ta.syncEngine);case 6:return e.next=8,Vy(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Ia",value:function(e){return xm(this.persistence,new bm,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new $v(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=ym(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mv.withCacheSize(this.cacheSizeBytes):Mv.DEFAULT;return new pm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,cy(),ly(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new ry}}]),n}(bk),xk=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return w(n,[{key:"initialize",value:function(){var e=d(f().mark((function e(t){var r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(s(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof ny,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:sk.bind(null,r),Br:pk.bind(null,r),Lr:mk.bind(null,r),Fs:dk.bind(null,r),Fr:ok.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=d(f().mark((function e(t,n){var r,i,a,o,u,s,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gk(r=gl(t)),kk(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,lk(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,ng(r.remoteStore,!0);case 9:o=p(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Ey(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Hg(r,t),Nm(r.localStore,t,!0)})),Iy(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,lk(r,c);case 21:return function(e){var t=gl(e);t.aa.forEach((function(e,n){Iy(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new Vf(of.comparator)}(r),r.da=!1,e.next=25,ng(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ga",value:function(e){var t=cy();if(!ny.vt(t))throw new bl(kl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ym(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ny(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(wk),Ek=function(){function e(){b(this,e)}return w(e,[{key:"initialize",value:function(){var e=d(f().mark((function e(t,n){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return jg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tk.bind(null,this.syncEngine),e.next=12,ng(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createEventManager",value:function(e){return new hg}},{key:"createDatastore",value:function(e){var t,n=fy(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new sy(t));return function(e,t,n,r){return new my(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return jg(o.syncEngine,e,0)},a=ay.vt()?new ay:new iy,new gy(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Cg(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gl(t),hl("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,wy(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Ik(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return d(f().mark((function r(){var i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var _k=function(){function e(t){b(this,e),this.observer=t,this.muted=!1}return w(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Tk=function(){function e(t,n){var r=this;b(this,e),this.Ra=t,this.M=n,this.metadata=new wl,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return w(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ma",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Pa",value:function(){var e=d(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new wg(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=d(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Da()<0,!e.t0){e.next=5;break}return e.next=4,this.Ca();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=9;break}case 7:e.next=0;break;case 9:if(0!==this.buffer.length){e.next=11;break}return e.abrupt("return",null);case 11:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Sa",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=d(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Sk=function(){function e(t){b(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return w(e,[{key:"lookup",value:function(){var e=d(f().mark((function e(t){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new bl(kl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=d(f().mark((function e(t,n){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t),i=Wd(r.M)+"/documents",a={documents:n.map((function(e){return qd(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){yl(!!t.found),t.found.name,t.found.updateTime;var n=zd(e,t.found.name),r=jd(t.found.updateTime),i=new Af({mapValue:{fields:t.found.fields}});return Cf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){yl(!!t.missing),yl(!!t.readTime);var n=zd(e,t.missing),r=jd(t.readTime);return Cf.newNoDocument(n,r)}(e,t):ml()}(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());yl(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new sd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=d(f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=of.fromPath(t);n.mutations.push(new cd(r,n.precondition(r)))})),e.next=7,function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gl(t),i=Wd(r.M)+"/documents",a={writes:n.map((function(e){return Zd(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ml();t=Fl.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new bl(kl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Gh.updateTime(t):Gh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fl.min()))throw new bl(kl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gh.updateTime(t)}return Gh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Ak=function(){function e(t,n,r,i,a){b(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new hy(this.asyncQueue,"transaction_retry")}return w(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(d(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Sk(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!nf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!fd(t)}return!1}}]),e}(),Nk=function(){function e(t,n,r,i){var a=this;b(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sl.UNAUTHENTICATED,this.clientId=Pl.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hl("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return hl("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return w(e,[{key:"getConfiguration",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new bl(kl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(d(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ug(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ck(e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hl("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Em(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Pk(e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Dk(t);case 3:return r=e.sent,hl("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return eg(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return eg(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Dk(e){return Lk.apply(this,arguments)}function Lk(){return Lk=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return hl("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Ck(t,new bk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}function Mk(e){return Fk.apply(this,arguments)}function Fk(){return Fk=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return hl("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Pk(t,new Ek);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Fk.apply(this,arguments)}function Uk(e){return Dk(e).then((function(e){return e.persistence}))}function jk(e){return Dk(e).then((function(e){return e.localStore}))}function Vk(e){return Mk(e).then((function(e){return e.remoteStore}))}function Bk(e){return Mk(e).then((function(e){return e.syncEngine}))}function qk(e){return zk.apply(this,arguments)}function zk(){return zk=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Og.bind(null,n.syncEngine),r.onUnlisten=Lg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}function Kk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wl;return e.asyncQueue.enqueueAndForget(d(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _k({next:function(a){t.enqueueAndForget((function(){return vg(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new bl(kl.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new bl(kl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new bg(mh(n.path),a,{includeMetadataChanges:!0,ku:!0});return dg(e,o)},i.next=3,qk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Qk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wl;return e.asyncQueue.enqueueAndForget(d(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _k({next:function(n){t.enqueueAndForget((function(){return vg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new bl(kl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new bg(n,a,{includeMetadataChanges:!0,ku:!0});return dg(e,o)},i.next=3,qk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Wk=new Map;function Gk(e,t,n){if(!n)throw new bl(kl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Hk(e,t,n,r){if(!0===t&&!0===r)throw new bl(kl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Yk(e){if(!of.isDocumentKey(e))throw new bl(kl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zk(e){if(of.isDocumentKey(e))throw new bl(kl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ml()}function Xk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bl(kl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jk(e);throw new bl(kl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function $k(e,t){if(t<=0)throw new bl(kl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var eb=function(){function e(t){var n;if(b(this,e),void 0===t.host){if(void 0!==t.ssl)throw new bl(kl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bl(kl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Hk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return w(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),tb=function(){function e(t,n,r){b(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1,t instanceof tf?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new bl(kl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(e.options.projectId)}(t))}return w(e,[{key:"app",get:function(){if(!this._app)throw new bl(kl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new bl(kl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new El;switch(e.type){case"gapi":var t=e.client;return yl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Sl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new bl(kl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Wk.get(e);t&&(hl("ComponentProvider","Removing Datastore"),Wk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}(),nb=function(){function e(t,n,r){b(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return w(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ib(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),rb=function(){function e(t,n,r){b(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return w(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ib=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this,e,r,mh(i)))._path=i,a.type="collection",a}return w(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new nb(this.firestore,null,new of(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(rb);function ab(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ee(e),Gk("collection","path",t),e instanceof tb){var a=ql.fromString.apply(ql,[t].concat(r));return Zk(a),new ib(e,null,a)}if(!(e instanceof nb||e instanceof ib))throw new bl(kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ql.fromString.apply(ql,[t].concat(r)));return Zk(o),new ib(e.firestore,null,o)}function ob(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ee(e),1===arguments.length&&(t=Pl.R()),Gk("doc","path",t),e instanceof tb){var a=ql.fromString.apply(ql,[t].concat(r));return Yk(a),new nb(e,null,new of(a))}if(!(e instanceof nb||e instanceof ib))throw new bl(kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ql.fromString.apply(ql,[t].concat(r)));return Yk(o),new nb(e.firestore,e instanceof ib?e.converter:null,new of(o))}function ub(e,t){return e=ee(e),t=ee(t),(e instanceof nb||e instanceof ib)&&(t instanceof nb||t instanceof ib)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sb(e,t){return e=ee(e),t=ee(t),e instanceof rb&&t instanceof rb&&e.firestore===t.firestore&&Eh(e._query,t._query)&&e.converter===t.converter}var cb=function(){function e(){var t=this;b(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new hy(this,"async_queue_retry"),this.Qa=function(){var e=ly();e&&hl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=ly();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return w(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=ly();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new wl;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=d(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),zp(e.t0)){e.next=12;break}throw e.t0;case 12:hl("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=og.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&ml()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Ya",value:function(e){var t,n=p(this.La);try{for(n.s();!(t=n.n()).done;)if(t.value.timerId===e)return!0}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=p(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function lb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var a=i[r];if(a in n&&"function"==typeof n[a])return!0}return!1}(e)}var fb=function(){function e(){b(this,e),this._progressObserver={},this._taskCompletionResolver=new wl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return w(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),hb=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new cb,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return w(n,[{key:"_terminate",value:function(){return this._firestoreClient||pb(this),this._firestoreClient.terminate()}}]),n}(tb);function db(e){return e._firestoreClient||pb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ef(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Nk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function vb(e,t,n){var r=new wl;return e.asyncQueue.enqueue(d(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ck(e,n);case 3:return i.next=5,Pk(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===kl.FAILED_PRECONDITION||e.code===kl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function mb(e){if(e._initialized||e._terminated)throw new bl(kl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var yb=function(){function e(){b(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new bl(kl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kl(n)}return w(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}(),gb=function(){function e(t){b(this,e),this._byteString=t}return w(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Wl.fromBase64String(t))}catch(t){throw new bl(kl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Wl.fromUint8Array(t))}}]),e}(),kb=w((function e(t){b(this,e),this._methodName=t})),bb=function(){function e(t,n){if(b(this,e),!isFinite(t)||t<-90||t>90)throw new bl(kl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bl(kl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return w(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Rl(this._lat,e._lat)||Rl(this._long,e._long)}}]),e}(),wb=/^__.*__$/,xb=function(){function e(t,n,r){b(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new nd(e,this.data,this.fieldMask,t,this.fieldTransforms):new td(e,this.data,t,this.fieldTransforms)}}]),e}(),Eb=function(){function e(t,n,r){b(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return new nd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ib(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ml()}}var _b=function(){function e(t,n,r,i,a,o){b(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return w(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return Qb(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Ib(this.ec)&&wb.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),Tb=function(){function e(t,n,r){b(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||fy(t)}return w(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _b({ec:e,methodName:t,hc:n,path:Kl.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Sb(e){var t=e._freezeSettings(),n=fy(e._databaseId);return new Tb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ab(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);Bb("Data must be an object, but it was:",o,r);var u,s,c=jb(r,o);if(a.merge)u=new Ql(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=p(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=qb(t,l.value,n);if(!o.contains(d))throw new bl(kl.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Wb(f,d)||f.push(d)}}catch(v){h.e(v)}finally{h.f()}u=new Ql(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new xb(new Af(c),u,s)}var Nb=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kb);function Cb(e,t,n){return new _b({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Ob=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){return new Qh(e.path,new Fh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kb),Pb=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).fc=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=Cb(this,e,!0),n=this.fc.map((function(e){return Ub(e,t)})),r=new Uh(n);return new Qh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kb),Rb=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).fc=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=Cb(this,e,!0),n=this.fc.map((function(e){return Ub(e,t)})),r=new Vh(n);return new Qh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kb),Db=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).dc=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=new qh(e.M,Ph(e.M,this.dc));return new Qh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kb);function Lb(e,t,n,r){var i=e.lc(1,t,n);Bb("Data must be an object, but it was:",i,r);var a=[],o=Af.empty();jl(r,(function(e,r){var u=Kb(t,e,n);r=ee(r);var s=i.oc(u);if(r instanceof Nb)a.push(u);else{var c=Ub(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ql(a);return new Eb(o,u,i.fieldTransforms)}function Mb(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[qb(t,r,n)],s=[i];if(a.length%2!=0)throw new bl(kl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(qb(t,a[c])),s.push(a[c+1]);for(var l=[],f=Af.empty(),h=u.length-1;h>=0;--h)if(!Wb(l,u[h])){var d=u[h],p=s[h];p=ee(p);var v=o.oc(d);if(p instanceof Nb)l.push(d);else{var m=Ub(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ql(l);return new Eb(f,y,o.fieldTransforms)}function Fb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ub(n,e.lc(r?4:3,t))}function Ub(e,t){if(Vb(e=ee(e)))return Bb("Unsupported field value:",t,e),jb(e,t);if(e instanceof kb)return function(e,t){if(!Ib(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=p(e);try{for(a.s();!(n=a.n()).done;){var o=Ub(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ee(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ph(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ml.fromDate(e);return{timestampValue:Md(t.M,n)}}if(e instanceof Ml){var r=new Ml(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Md(t.M,r)}}if(e instanceof bb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gb)return{bytesValue:Fd(t.M,e._byteString)};if(e instanceof nb){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Vd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(Jk(e)))}(e,t)}function jb(e,t){var n={};return Vl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jl(e,(function(e,r){var i=Ub(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ml||e instanceof bb||e instanceof gb||e instanceof nb||e instanceof kb)}function Bb(e,t,n){if(!Vb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jk(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function qb(e,t,n){if((t=ee(t))instanceof yb)return t._internalPath;if("string"==typeof t)return Kb(e,t);throw Qb("Field path arguments must be of type string or ",e,!1,void 0,n)}var zb=new RegExp("[~\\*/\\[\\]]");function Kb(e,t,n){if(t.search(zb)>=0)throw Qb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return a(yb,h(t.split(".")))._internalPath}catch(I){throw Qb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Qb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new bl(kl.INVALID_ARGUMENT,u+e+s)}function Wb(e,t){return e.some((function(e){return e.isEqual(t)}))}var Gb=function(){function e(t,n,r,i,a){b(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return w(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new nb(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Hb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Yb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Hb=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){return u(s(n.prototype),"data",this).call(this)}}]),n}(Gb);function Yb(e,t){return"string"==typeof t?Kb(e,t):t instanceof yb?t._internalPath:t._delegate._internalPath}var Zb=function(){function e(t,n){b(this,e),this.hasPendingWrites=t,this.fromCache=n}return w(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Jb=function(e){y(n,e);var t=g(n);function n(e,r,i,a,o,u){var s;return b(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return w(n,[{key:"exists",value:function(){return u(s(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Xb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Yb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Gb),Xb=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(s(n.prototype),"data",this).call(this,e)}}]),n}(Jb),$b=function(){function e(t,n,r,i){b(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zb(i.hasPendingWrites,i.fromCache),this.query=r}return w(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Xb(n._firestore,n._userDataWriter,r.key,r,new Zb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bl(kl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Xb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Zb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Xb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Zb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ew(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ew(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ml()}}function tw(e,t){return e instanceof Jb&&t instanceof Jb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $b&&t instanceof $b&&e._firestore===t._firestore&&sb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function nw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new bl(kl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rw=w((function e(){b(this,e)}));function iw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++)e=a[i]._apply(e);return e}var aw=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return w(n,[{key:"_apply",value:function(e){var t=Sb(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new bl(kl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hw(o,a);var s,c=[],l=p(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(fw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=fw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hw(o,a),u=Fb(n,"where",o,"in"===a||"not-in"===a);var h=eh.create(i,a,u);return function(e,t){if(t.S()){var n=gh(e);if(null!==n&&!n.isEqual(t.field))throw new bl(kl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=yh(e);null!==r&&dw(0,t.field,r)}var i=function(e,t){var n,r=p(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new bl(kl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new bl(kl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new rb(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(rw),ow=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return w(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new bl(kl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new bl(kl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new lh(t,n);return function(e,t){if(null===yh(e)){var n=gh(e);null!==n&&dw(0,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new rb(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ph(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(rw),uw=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return w(n,[{key:"_apply",value:function(e){return new rb(e.firestore,e.converter,xh(e._query,this.yc,this.Ic))}}]),n}(rw),sw=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return w(n,[{key:"_apply",value:function(e){var t=lw(e,this.type,this.Tc,this.Ec);return new rb(e.firestore,e.converter,function(e,t){return new ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(rw),cw=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return w(n,[{key:"_apply",value:function(e){var t=lw(e,this.type,this.Tc,this.Ec);return new rb(e.firestore,e.converter,function(e,t){return new ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(rw);function lw(e,t,n,r){if(n[0]=ee(n[0]),n[0]instanceof Gb)return function(e,t,n,r,i){if(!r)throw new bl(kl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=p(bh(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(mf(t,r.key));else{var c=r.data.field(s.field);if(Jl(c))throw new bl(kl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new bl(kl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ch(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Sb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new bl(kl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new bl(kl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!kh(e)&&-1!==c.indexOf("/"))throw new bl(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ql.fromString(c));if(!of.isDocumentKey(l))throw new bl(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new of(l);u.push(mf(t,f))}else{var h=Fb(n,r,c);u.push(h)}}return new ch(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fw(e,t,n){if("string"==typeof(n=ee(n))){if(""===n)throw new bl(kl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kh(t)&&-1!==n.indexOf("/"))throw new bl(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ql.fromString(n));if(!of.isDocumentKey(r))throw new bl(kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return mf(e,new of(r))}if(n instanceof nb)return mf(e,n._key);throw new bl(kl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Jk(n),"."))}function hw(e,t){if(!Array.isArray(e)||0===e.length)throw new bl(kl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new bl(kl.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function dw(e,t,n){if(!n.isEqual(t))throw new bl(kl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var pw={maxAttempts:5},vw=function(){function e(){b(this,e)}return w(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ml()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return jl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new bb(Yl(e.latitude),Yl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Xl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Hl(e);return new Ml(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ql.fromString(e);yl(cp(n));var r=new tf(n.get(1),n.get(3)),i=new of(n.popFirst(5));return r.isEqual(t)||dl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yw=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new gb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nb(this.firestore,null,t)}}]),n}(vw),gw=function(){function e(t,n){b(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Sb(t)}return w(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=kw(e,this._firestore),i=mw(r.converter,t,n),a=Ab(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Gh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=kw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ee(t))||t instanceof yb?Mb(this._dataReader,"WriteBatch.update",i._key,t,n,o):Lb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Gh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=kw(e,this._firestore);return this._mutations=this._mutations.concat(new sd(t._key,Gh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new bl(kl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function kw(e,t){if((e=ee(e)).firestore!==t)throw new bl(kl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bw=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new gb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nb(this.firestore,null,t)}}]),n}(vw);function ww(e,t,n){e=Xk(e,nb);var r=Xk(e.firestore,hb),i=mw(e.converter,t,n);return Iw(r,[Ab(Sb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Gh.none())])}function xw(e,t,n){e=Xk(e,nb);for(var r=Xk(e.firestore,hb),i=Sb(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Iw(r,[("string"==typeof(t=ee(t))||t instanceof yb?Mb(i,"updateDoc",e._key,t,n,o):Lb(i,"updateDoc",e._key,t)).toMutation(e._key,Gh.exists(!0))])}function Ew(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ee(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||lb(n[s])||(u=n[s],s++);var c,l,h,p={includeMetadataChanges:u.includeMetadataChanges};if(lb(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof nb)l=Xk(e.firestore,hb),h=mh(e._key.path),c={next:function(t){n[s]&&n[s](_w(l,e,t))},error:n[s+1],complete:n[s+2]};else{var m=Xk(e,rb);l=Xk(m.firestore,hb),h=m._query;var y=new bw(l);c={next:function(e){n[s]&&n[s](new $b(l,y,m,e))},error:n[s+1],complete:n[s+2]},nw(e._query)}return function(e,t,n,r){var i=new _k(r),a=new bg(t,i,n);return e.asyncQueue.enqueueAndForget(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dg,t.next=3,qk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vg,t.next=3,qk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(db(l),h,p,c)}function Iw(e,t){return function(e,t){var n=new wl;return e.asyncQueue.enqueueAndForget(d(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=d(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kk(t),e.prev=1,e.next=4,function(e,t){var n,r=gl(e),i=Ml.now(),a=t.reduce((function(e,t){return e.add(t.key)}),wd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=p(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Xh(c,n.get(c.key));null!=l&&u.push(new nd(c.key,l,Nf(l.value.mapValue),Gh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new Vf(Rl)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,$g(i,a.changes);case 9:return e.next=11,Vy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ug(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Bk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(db(e),t)}function _w(e,t,n){var r=n.docs.get(t._key),i=new bw(e);return new Jb(e,i,t._key,r,new Zb(n.hasPendingWrites,n.fromCache),t.converter)}var Tw=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r))._firestore=e,i}return w(n,[{key:"get",value:function(e){var t=this,r=kw(e,this._firestore),i=new bw(this._firestore);return u(s(n.prototype),"get",this).call(this,e).then((function(e){return new Jb(t._firestore,i,r._key,e._document,new Zb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){b(this,e),this._firestore=t,this._transaction=n,this._dataReader=Sb(t)}return w(e,[{key:"get",value:function(e){var t=this,n=kw(e,this._firestore),r=new yw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ml();var i=e[0];if(i.isFoundDocument())return new Gb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Gb(t._firestore,r,n._key,null,n.converter);throw ml()}))}},{key:"set",value:function(e,t,n){var r=kw(e,this._firestore),i=mw(r.converter,t,n),a=Ab(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=kw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ee(t))||t instanceof yb?Mb(this._dataReader,"Transaction.update",i._key,t,n,o):Lb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=kw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Sw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new bl("invalid-argument","Invalid options passed to function ".concat(e,'(): You cannot specify both "merge" and "mergeFields".'));return t}function Aw(){if("undefined"==typeof Uint8Array)throw new bl("unimplemented","Uint8Arrays are not available in this environment.")}function Nw(){if("undefined"==typeof atob)throw new bl("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cl=e}(Ke),Ue(new ne("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new hb(i,new _l(e.getProvider("auth-internal")),new Nl(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ze(ul,"3.4.9",e),Ze(ul,"3.4.9","esm2017")}();var Cw=function(){function e(t){b(this,e),this._delegate=t}return w(e,[{key:"toBase64",value:function(){return Nw(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Aw(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Nw(),new e(gb.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Aw(),new e(gb.fromUint8Array(t))}}]),e}();function Ow(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var a=i[r];if(a in n&&"function"==typeof n[a])return!0}return!1}(e)}var Pw=function(){function e(){b(this,e)}return w(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){mb(e=Xk(e,hb));var n=db(e),r=e._freezeSettings(),i=new Ek;return vb(n,i,new wk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){mb(e=Xk(e,hb));var t=db(e),n=e._freezeSettings(),r=new Ek;return vb(t,r,new xk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new bl(kl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new wl;return e._queue.enqueueAndForgetEvenWhileRestricted(d(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vp.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Vp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ym(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Rw=function(){function e(t,n,r){var i=this;b(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof tf||(this._appCompat=t)}return w(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||pl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Xk(e,tb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&pl("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=sl.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[P(JSON.stringify({alg:"none",type:"JWT"})),P(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new bl(kl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new sl(s)}e._authCredentials=new Il(new xl(o,u))}}(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return function(e){return function(e){return e.asyncQueue.enqueue(d(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uk(e);case 2:return n=t.sent,t.next=5,Vk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=gl(e);return t.wu.delete(0),ky(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(db(e=Xk(e,hb)))}(this._delegate)}},{key:"disableNetwork",value:function(){return function(e){return function(e){return e.asyncQueue.enqueue(d(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uk(e);case 2:return n=t.sent,t.next=5,Vk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gl(t)).wu.add(0),e.next=4,wy(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(db(e=Xk(e,hb)))}(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Hk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new wl;return e.asyncQueue.enqueueAndForget(d(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(){var e=d(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ny((r=gl(t)).remoteStore)||hl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=gl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ug(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),n.next=3,Bk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(db(e=Xk(e,hb)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return function(e,t){return function(e,t){var n=new _k(t);return e.asyncQueue.enqueueAndForget(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gl(e).bu.add(t),t.next()},t.next=3,qk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gl(e).bu.delete(t)},t.next=3,qk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(db(e=Xk(e,hb)),lb(t)?t:{next:t})}(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new bl("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Gw(this,ab(this._delegate,e))}catch(e){throw jw(e,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Uw(this,ob(this._delegate,e))}catch(e){throw jw(e,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Kw(this,function(e,t){if(e=Xk(e,tb),Gk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new bl(kl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new rb(e,null,function(e){return new ph(ql.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw jw(e,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Xk(e,hb);var r=Object.assign(Object.assign({},pw),n);return function(e){if(e.maxAttempts<1)throw new bl(kl.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new wl;return e.asyncQueue.enqueueAndForget(d(f().mark((function i(){var a;return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return Mk(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new Ak(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(db(e),(function(n){return t(new Tw(e,n))}),r)}(this._delegate,(function(n){return e(new Lw(t,n))}))}},{key:"batch",value:function(){var e=this;return db(this._delegate),new Mw(new gw(this._delegate,(function(t){return Iw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return function(e,t){var n=db(e=Xk(e,hb)),r=new fb;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Tk(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ik(e,t);if(e instanceof ArrayBuffer)return Ik(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,fy(t));e.asyncQueue.enqueueAndForget(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n){var r=gl(e);(function(){var e=d(f().mark((function e(t,n,r){var i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=gl(e),r=jd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Ig(i)),a=new Eg(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,$g(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=gl(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(pl("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))},t.next=3,Bk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return function(e,t){return function(e,t){return e.asyncQueue.enqueue(d(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=gl(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,jk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(db(e=Xk(e,hb)),t).then((function(t){return t?new rb(e,null,t.query):null}))}(this._delegate,e).then((function(e){return e?new Kw(t,e):null}))}}]),e}(),Dw=function(e){y(n,e);var t=g(n);function n(e){var r;return b(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new Cw(new gb(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Uw.forKey(t,this.firestore,null)}}]),n}(vw),Lw=function(){function e(t,n){b(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Dw(t)}return w(e,[{key:"get",value:function(e){var t=this,n=Hw(e);return this._delegate.get(n).then((function(e){return new qw(t._firestore,new Jb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Hw(e);return n?(Sw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];var u=Hw(e);return 2===arguments.length?this._delegate.update(u,t):(r=this._delegate).update.apply(r,[u,t,n].concat(a)),this}},{key:"delete",value:function(e){var t=Hw(e);return this._delegate.delete(t),this}}]),e}(),Mw=function(){function e(t){b(this,e),this._delegate=t}return w(e,[{key:"set",value:function(e,t,n){var r=Hw(e);return n?(Sw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];var u=Hw(e);return 2===arguments.length?this._delegate.update(u,t):(r=this._delegate).update.apply(r,[u,t,n].concat(a)),this}},{key:"delete",value:function(e){var t=Hw(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Fw=function(){function e(t,n,r){b(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return w(e,[{key:"fromFirestore",value:function(e,t){var n=new Xb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zw(this._firestore,n),null!=t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Dw(t),n),i.set(n,a)),a}}]),e}();Fw.INSTANCES=new WeakMap;var Uw=function(){function e(t,n){b(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Dw(t)}return w(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Gw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Gw(this.firestore,ab(this._delegate,e))}catch(e){throw jw(e,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ee(e))instanceof nb&&ub(this._delegate,e)}},{key:"set",value:function(e,t){t=Sw("DocumentReference.set",t);try{return t?ww(this._delegate,e,t):ww(this._delegate,e)}catch(e){throw jw(e,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?xw(this._delegate,e):xw.apply(void 0,[this._delegate,e,t].concat(r))}catch(e){throw jw(e,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Iw(Xk(e.firestore,hb),[new sd(e._key,Gh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Vw(n),a=Bw(n,(function(t){return new qw(e.firestore,new Jb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ew(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null==e?void 0:e.source)?function(e){e=Xk(e,nb);var t=Xk(e.firestore,hb),n=db(t),r=new bw(t);return function(e,t){var n=new wl;return e.asyncQueue.enqueueAndForget(d(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=gl(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new bl(kl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ug(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,jk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Jb(t,r,e._key,n,new Zb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Xk(e,nb);var t=Xk(e.firestore,hb);return Kk(db(t),e._key,{source:"server"}).then((function(n){return _w(t,e,n)}))}(this._delegate):function(e){e=Xk(e,nb);var t=Xk(e.firestore,hb);return Kk(db(t),e._key).then((function(n){return _w(t,e,n)}))}(this._delegate),t.then((function(e){return new qw(n.firestore,new Jb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Fw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!=0)throw new bl("invalid-argument","Invalid document reference. Document references must have an even number of segments, but ".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new nb(n._delegate,r,new of(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new nb(n._delegate,r,t))}}]),e}();function jw(e,t,n){return e.message=e.message.replace(t,n),e}function Vw(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"==typeof r&&!Ow(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Bw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ow(e[0])?e[0]:Ow(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var qw=function(){function e(t,n){b(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"ref",get:function(){return new Uw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return tw(this._delegate,e._delegate)}}]),e}(),zw=function(e){y(n,e);var t=g(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ml()}(void 0!==t),t}}]),n}(qw),Kw=function(){function e(t,n){b(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Dw(t)}return w(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,iw(this._delegate,function(e,t,n){var r=t,i=Yb("where",e);return new aw(i,r,n)}(t,n,r)))}catch(t){throw jw(t,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,iw(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Yb("orderBy",e);return new ow(n,t)}(t,n)))}catch(t){throw jw(t,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,iw(this._delegate,function(e){return $k("limit",e),new uw("limit",e,"F")}(t)))}catch(t){throw jw(t,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,iw(this._delegate,function(e){return $k("limitToLast",e),new uw("limitToLast",e,"L")}(t)))}catch(t){throw jw(t,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,iw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sw("startAt",t,!0)}.apply(void 0,arguments)))}catch(r){throw jw(r,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,iw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sw("startAfter",t,!1)}.apply(void 0,arguments)))}catch(r){throw jw(r,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,iw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cw("endBefore",t,!1)}.apply(void 0,arguments)))}catch(r){throw jw(r,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,iw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cw("endAt",t,!0)}.apply(void 0,arguments)))}catch(r){throw jw(r,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return sb(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null==e?void 0:e.source)?function(e){e=Xk(e,rb);var t=Xk(e.firestore,hb),n=db(t),r=new bw(t);return function(e,t){var n=new wl;return e.asyncQueue.enqueueAndForget(d(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=d(f().mark((function e(t,n,r){var i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Om(t,n,!0);case 3:i=e.sent,a=new Sg(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ug(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,jk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new $b(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Xk(e,rb);var t=Xk(e.firestore,hb),n=db(t),r=new bw(t);return Qk(n,e._query,{source:"server"}).then((function(n){return new $b(t,r,e,n)}))}(this._delegate):function(e){e=Xk(e,rb);var t=Xk(e.firestore,hb),n=db(t),r=new bw(t);return nw(e._query),Qk(n,e._query).then((function(n){return new $b(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Ww(n.firestore,new $b(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Vw(n),a=Bw(n,(function(t){return new Ww(e.firestore,new $b(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ew(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Fw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Qw=function(){function e(t,n){b(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new zw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Ww=function(){function e(t,n){b(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"query",get:function(){return new Kw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new zw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Qw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new zw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return tw(this._delegate,e._delegate)}}]),e}(),Gw=function(e){y(n,e);var t=g(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return w(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Uw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Uw(this.firestore,void 0===e?ob(this._delegate):ob(this._delegate,e))}catch(e){throw jw(e,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Xk(e.firestore,hb),r=ob(e),i=mw(e.converter,t);return Iw(n,[Ab(Sb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Gh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Uw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return ub(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Fw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Kw);function Hw(e){return Xk(e,nb)}var Yw=function(){function e(){b(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=a(yb,n)}return w(e,[{key:"isEqual",value:function(e){return(e=ee(e))instanceof yb&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Kl.keyField().canonicalString())}}]),e}(),Zw=function(){function e(t){b(this,e),this._delegate=t}return w(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Ob("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Nb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pb("arrayUnion",t)}.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rb("arrayRemove",t)}.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Db("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Jw={Firestore:Rw,GeoPoint:bb,Timestamp:Ml,Blob:Cw,Transaction:Lw,WriteBatch:Mw,DocumentReference:Uw,DocumentSnapshot:qw,Query:Kw,QueryDocumentSnapshot:zw,QuerySnapshot:Ww,CollectionReference:Gw,FieldPath:Yw,FieldValue:Zw,setLogLevel:function(e){!function(e){ll.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ne("firestore-compat",(function(e){return function(e,t){return new Rw(e,t,new Pw)}(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())}),"PUBLIC").setServiceProps(Object.assign({},Jw)))}(e),e.registerVersion("@firebase/firestore-compat","0.1.18")}(pt);var Xw,$w=function(e,t){var n,r;return n=e.appId,r=pt.apps.filter((function(e){return e.options.appId===n})),(1===r.length?r[0]:null)||pt.initializeApp(e,t)};"pam"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLASS_CODE:"test-content"}.REACT_APP_APP_ENV?(console.log("using pjordan config"),Xw=$w({apiKey:"AIzaSyB9eVT-fu4TOjxHoPAXqsnz9tCcbTJkTOw",authDomain:"pamdev-ea800.firebaseapp.com",projectId:"pamdev-ea800",storageBucket:"pamdev-ea800.appspot.com",messagingSenderId:"366450927885",appId:"1:366450927885:web:caa5f022ef1de182a0e844",measurementId:"G-JC5XZEPYT1"},"pam")):"scott"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLASS_CODE:"test-content"}.REACT_APP_APP_ENV?(console.log("using scott config"),Xw=$w({apiKey:"AIzaSyBEhbIdVW2F2vvvfvpNb2SsCDP9Yoc__z8",authDomain:"scottdev-f6528.firebaseapp.com",projectId:"scottdev-f6528",storageBucket:"scottdev-f6528.appspot.com",messagingSenderId:"447730403122",appId:"1:447730403122:web:1727020dbac4ad4cf6f92b"})):(console.log("using production config"),Xw=$w({apiKey:"AIzaSyBOgWAbXUGckpad2sk0IUo00hZsV4WxG0E",authDomain:"meddbriefer-68cd4.firebaseapp.com",projectId:"meddbriefer-68cd4",storageBucket:"meddbriefer-68cd4.appspot.com",messagingSenderId:"1087114796018",appId:"1:1087114796018:web:679fbab38dbf78af0ce96b",measurementId:"G-Q7QZKC9KHW"},"production"));var ex=Xw,tx=ex.auth(),nx=ex.firestore();window.db=nx;var rx=N().createContext({}),ix="auth/user-not-found",ax="auth/network-request-failed",ox="Sorry, we have no record of a user with your email address",ux="A Network Error has occurred. Try again later.",sx=function(){var e=_(S().mark((function e(t){var n,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return n=nx.collection("staff").doc(t.uid),e.next=5,n.get();case 5:return r=e.sent,e.abrupt("return",r.exists);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cx="signin",lx="register",fx="forgot-passwd",hx="email-verify",dx=function(e){var t=e.children,n=E((0,A.useState)(!1),2),r=n[0],i=n[1],a=E((0,A.useState)(null),2),o=a[0],u=a[1],s=E((0,A.useState)(null),2),c=s[0],l=s[1],f=E((0,A.useState)(""),2),h=f[0],d=f[1],p=E((0,A.useState)(cx),2),v=p[0],m=p[1],y=E((0,A.useState)(""),2),g=y[0],k=y[1],b=E((0,A.useState)(""),2),w=b[0],x=b[1],I=E((0,A.useState)(""),2),T=I[0],C=I[1],O=E((0,A.useState)(!1),2),P=O[0],R=O[1],D=E((0,A.useState)(!1),2),L=D[0],M=D[1],F=E((0,A.useState)({}),2),U=F[0],j=F[1],V=function(){i(!1),R(!1),l(null),M(!1)};(0,A.useEffect)((function(){tx.onAuthStateChanged((function(e){u(e),e?(i(!0),l(e.email.substr(0,e.email.indexOf("@"))),sx(e).then((function(t){R(t),e.emailVerified?M(!0):(d("A message has been sent to your email address. It contains a link which will verify that you are the owner of that email address"),m(hx))})).catch((function(e){return console.error(e)}))):V()}))}),[]);var B=function(){return nx.collection("users").doc(o.uid)||null},q=function(){var e=_(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B().get();case 2:return t=e.sent,e.abrupt("return",t.data());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return N().createElement(rx.Provider,{value:{auth:tx,currentUser:o,authMsg:h,setAuthMsg:d,registerErrorMsg:g,setRegisterErrorMsg:k,registerUserWithEmailAndPassword:function(e,t){tx.createUserWithEmailAndPassword(e,t).then((function(e){e.user.sendEmailVerification(),setErrorMsg("")})).catch((function(e){switch(e.code){case"auth/email-already-in-use":k("An account already exists with that email address");break;case ax:k(ux);break;default:console.log(e.code),k(e.message)}}))},loginError:w,setLoginError:x,loginUserWithEmailAndPassword:function(e,t){tx.signInWithEmailAndPassword(e,t).then((function(){x("")})).catch((function(e){switch(e.code){case"auth/wrong-password":x("Incorrect Password. Try again.");break;case ix:x(ox);break;case ax:x(ux);break;default:console.log(e.code),x(e.message)}}))},passwdResetError:T,setPasswdResetError:C,sendOutPasswordReset:function(e){tx.sendPasswordResetEmail(e).then((function(){d("You should soon recieve an email with a password reset link it. After reseting you password, you will be able to sign in."),m(cx)})).catch((function(e){switch(e.code){case ix:C(ox);break;case ax:C(ux);break;default:console.log(e.code),C(e.message)}}))},currAuthComponent:v,setCurrAuthComponent:m,signOutUser:function(){tx.signOut().then((function(){V()})).catch((function(e){return console.log(e)}))},userName:c,isAuthenticated:r,isStaff:P,emailVerified:L,setEmailVerified:M,userPrefs:U,setUserPrefs:j,saveUserData:function(e,t){var n,r,i;B().set((i=t,(r=e)in(n={})?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),{merge:!0})},getUserData:q}},t)},px=n(779),vx=n.n(px),mx=n(62),yx=n.n(mx),gx=n(985);yx()(gx.Z,{insert:"head",singleton:!1});var kx=gx.Z.locals||{},bx=function(e){var t=e.visible,n=e.stateToggler;return N().createElement("span",{className:vx()(kx["input-group-text"],"material-icons-outlined"),onClick:n},t?"visibility":"visibility_off")},wx=function(){var e=E((0,A.useState)(!1),2),t=e[0],n=e[1],r=(0,A.useContext)(rx),i=r.authMsg,a=r.loginError,o=r.loginUserWithEmailAndPassword,u=r.setCurrAuthComponent;return N().createElement("div",null,N().createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,n=t.email,r=t.password;o(n.value,r.value)}},N().createElement("div",{className:kx.container},N().createElement("div",{className:kx.row},N().createElement("h3",null,"Sign In")),N().createElement("div",{className:kx.row},N().createElement("label",{htmlFor:"email",className:vx()(kx["col-sm-2"],kx["col-form-label"])},"Email address"),N().createElement("div",{className:kx["col-sm-10"]},N().createElement("input",{id:"email",name:"email",type:"email",className:kx["form-control"],placeholder:"Enter email",required:!0}))),N().createElement("div",{className:kx.row},N().createElement("label",{htmlFor:"password",className:vx()(kx["col-sm-2"],kx["col-form-label"])},"Password"),N().createElement("div",{className:vx()(kx["col-sm-10"],kx["input-group"])},N().createElement("input",{id:"password",name:"password",type:t?"text":"password",className:kx["form-control"],placeholder:"Enter password",required:!0}),N().createElement(bx,{visible:t,stateToggler:function(){return n(!t)}}))),N().createElement("div",{className:kx.row},N().createElement("p",{className:kx["text-danger"]},a)),N().createElement("div",{className:kx.row},N().createElement("p",null,i)),N().createElement("button",{type:"submit",className:vx()(kx.btn,kx["btn-primary"])},"Sign In"),N().createElement("button",{type:"button",className:vx()(kx.btn,kx["btn-link"]),onClick:function(e){e.preventDefault(),u(fx)}},"I forgot my Password"),N().createElement("button",{type:"button",className:vx()(kx.btn,kx["btn-link"]),onClick:function(e){e.preventDefault(),u(lx)}},"Register"))))},xx=function(){var e=E((0,A.useState)(!1),2),t=e[0],n=e[1],r=E((0,A.useState)(!1),2),i=r[0],a=r[1],o=(0,A.useContext)(rx),u=o.setCurrAuthComponent,s=o.registerErrorMsg,c=o.registerUserWithEmailAndPassword;return N().createElement("div",null,N().createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements,n=t.email,r=t.password;c(n.value,r.value)}},N().createElement("div",{className:kx.container},N().createElement("div",{className:kx.row},N().createElement("h3",null,"Sign up for MedDBriefer")),N().createElement("div",{className:kx.row},N().createElement("label",{htmlFor:"classCode",className:vx()(kx["col-sm-3"],kx["col-form-label"])},"Class Code"),N().createElement("div",{className:kx["col-sm-9"]},N().createElement("input",{className:kx["form-control"],id:"classCode",name:"classCode",type:"text",placeholder:"example: demo",required:!0}))),N().createElement("div",{className:kx.row},N().createElement("label",{htmlFor:"emailAddress",className:vx()(kx["col-sm-3"],kx["col-form-label"])},"Email"),N().createElement("div",{className:kx["col-sm-9"]},N().createElement("input",{className:kx["form-control"],id:"emailAddress",name:"email",type:"email",placeholder:"example: john.doe@gmail.com",required:!0}))),N().createElement("div",{className:kx.row},N().createElement("label",{htmlFor:"password",className:vx()(kx["col-sm-3"],kx["col-form-label"])},"Password"),N().createElement("div",{className:vx()(kx["col-sm-9"],kx["input-group"])},N().createElement("input",{id:"password",name:"password",type:t?"text":"password",className:kx["form-control"],placeholder:"Enter password",required:!0}),N().createElement(bx,{visible:t,stateToggler:function(){return n(!t)}}))),N().createElement("div",{className:kx.row},N().createElement("label",{htmlFor:"confirmPassword",className:vx()(kx["col-sm-3"],kx["col-form-label"])},"Confirm Password"),N().createElement("div",{className:vx()(kx["col-sm-9"],kx["input-group"])},N().createElement("input",{className:kx["form-control"],id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",placeholder:"Password",required:!0}),N().createElement(bx,{visible:i,stateToggler:function(){return a(!i)}}))),N().createElement("div",{className:kx.row},N().createElement("p",{className:kx["text-danger"]},s)),N().createElement("button",{type:"submit",className:vx()(kx.btn,kx["btn-primary"])},"Sign Up"),N().createElement("button",{type:"button",className:vx()(kx.btn,kx["btn-link"]),onClick:function(e){e.preventDefault(),u(cx)}},"I already have an account."))))},Ex=function(){var e=(0,A.useContext)(rx),t=e.sendOutPasswordReset,n=e.passwdResetError,r=e.setLoginError,i=e.setPasswdResetError,a=e.setCurrAuthComponent;return N().createElement("div",null,N().createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements.email;r(""),t(n.value).then((function(){})).catch((function(e){i(e.message)}))}},N().createElement("div",{className:kx.container},N().createElement("div",{className:kx.row},N().createElement("h3",null,"MedDBriefer Password Reset Form")),N().createElement("div",{className:kx.row},N().createElement("label",{htmlFor:"email",className:vx()(kx["col-sm-1"],kx["col-form-label"])},"Email"),N().createElement("div",{className:kx["col-sm-11"]},N().createElement("input",{id:"email",name:"email",type:"email",className:kx["form-control"],placeholder:"Enter email",required:!0}))),N().createElement("div",{className:kx.row},N().createElement("p",{className:kx["text-danger"]},n)),N().createElement("div",{className:kx.row},N().createElement("button",{type:"submit",className:vx()(kx.btn,kx["btn-primary"])},"Send Password Reset Email"),N().createElement("button",{type:"button",className:vx()(kx.btn,kx["btn-link"]),onClick:function(e){e.preventDefault(),r(""),a(cx)}},"I remembered my password!")))))},Ix=function(){var e=(0,A.useContext)(rx),t=e.authMsg,n=e.currentUser,r=e.setAuthFlowComponent,i=e.setAuthMsg,a=e.setEmailVerified,o=function e(){setTimeout((function(){n.reload().then((function(){n.emailVerified?(a(!0),r(cx),i("")):e()}))}),5e3)};return(0,A.useEffect)((function(){n.emailVerified?(a(!0),i(""),r(cx)):(a(!1),o())}),[]),N().createElement("div",{className:kx.container},N().createElement("div",{className:kx.row},N().createElement("h4",null,t)),N().createElement("div",{className:kx.row},N().createElement("p",null,"You will arrive at your destination web page soon after clicking on the verification link.")),N().createElement("div",{className:kx.row},N().createElement("p",null,'Didn\'t recieve a verification email? Verification link expired? Click "Resend Verification Email".')),N().createElement("div",{className:kx.row},N().createElement("button",{type:"button",className:vx()(kx.btn,kx["btn-primary"]),onClick:function(){n.emailVerified?console.log("email address already verified"):n.sendEmailVerification().then((function(){o()})).catch((function(e){return console.log(e)}))}},"Resend Verification Email")))},_x=function(e){var t=e.heading,n=void 0===t?"You must be logged in to access this page":t,r=(0,A.useContext)(rx).currAuthComponent;return N().createElement("div",null,N().createElement("h3",{className:kx["text-center"]},n),function(){switch(r){case lx:return N().createElement(xx,null);case fx:return N().createElement(Ex,null);case hx:return N().createElement(Ix,null);default:return N().createElement(wx,null)}}())};function Tx(){return Tx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tx.apply(this,arguments)}function Sx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ax=n(128),Nx=["component","authFlowLayout"],Cx=function(e){var t=e.component,n=e.authFlowLayout,r=Sx(e,Nx);return(0,A.useContext)(rx).emailVerified?N().createElement(Ax.Route,Tx({},r,{render:function(e){return N().createElement(t,e)}})):n?N().createElement(n,r,N().createElement(_x,r)):N().createElement(_x,r)},Ox=["component","authFlowLayout"],Px=function(e){var t=e.msg,n=void 0===t?"Staff Privileges are required to access this page.":t;return N().createElement("div",null,n)},Rx=function(e){var t=e.component,n=e.authFlowLayout,r=Sx(e,Ox),i=(0,A.useContext)(rx),a=i.isAuthenticated,o=i.isStaff,u=i.emailVerified;return o&&u?N().createElement(Ax.Route,Tx({},r,{render:function(e){return N().createElement(t,e)}})):a&&u?n?N().createElement(Ax.Route,Tx({},r,{render:function(e){return N().createElement(n,e,N().createElement(Px,null))}})):N().createElement(Px,null):n?N().createElement(Ax.Route,Tx({},r,{render:function(e){return N().createElement(n,e,N().createElement(_x,r))}})):N().createElement(Ax.Route,Tx({},r,{render:function(e){return N().createElement(_x,r)}}))}}(),x}())},5525:function(e,t,n){"use strict";t.__esModule=!0;var r=n(969),i=(o(r),o(n(4974))),a=o(n(8834));o(n(7256));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;function f(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,o,h="__create-react-context-"+(0,a.default)()+"__",d=function(e){function n(){var t,r;u(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r=s(this,e.call.apply(e,[this].concat(a))),r.emitter=f(r.props.value),s(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[h]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;((a=n)===(o=r)?0!==a||1/a===1/o:a!==a&&o!==o)?i=0:(i="function"===typeof t?t(n,r):l,0!==(i|=0)&&this.emitter.set(e.value,i))}var a,o},n.prototype.render=function(){return this.props.children},n}(r.Component);d.childContextTypes=((n={})[h]=i.default.object.isRequired,n);var p=function(t){function n(){var e,r;u(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=r=s(this,t.call.apply(t,[this].concat(a))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},s(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentDidMount=function(){this.context[h]&&this.context[h].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[h]&&this.context[h].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[h]?this.context[h].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((o={})[h]=i.default.object,o),{Provider:d,Consumer:p}},e.exports=t.default},2193:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(969)),i=a(n(5525));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},3121:function(e,t,n){"use strict";var r=n(7995),i=n(9778),a=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&a(e,".prototype.")>-1?i(n):n}},9778:function(e,t,n){"use strict";var r=n(8608),i=n(7995),a=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||r.call(o,a),s=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(h){c=null}e.exports=function(e){var t=u(r,o,arguments);if(s&&c){var n=s(t,"length");n.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return u(r,a,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},5667:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},5921:function(e,t,n){var r=n(3166),i=n(437),a=n(890),o=n(2078),u=n(1831),s=n(6502),c=Date.prototype.getTime;function l(e,t,n){var d=n||{};return!!(d.strict?a(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?d.strict?a(e,t):e==t:function(e,t,n){var a,d;if(typeof e!==typeof t)return!1;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var p=o(e),v=o(t);if(p!==v)return!1;if(p||v)return e.source===t.source&&u(e)===u(t);if(s(e)&&s(t))return c.call(e)===c.call(t);var m=h(e),y=h(t);if(m!==y)return!1;if(m||y){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}if(typeof e!==typeof t)return!1;try{var g=r(e),k=r(t)}catch(b){return!1}if(g.length!==k.length)return!1;for(g.sort(),k.sort(),a=g.length-1;a>=0;a--)if(g[a]!=k[a])return!1;for(a=g.length-1;a>=0;a--)if(!l(e[d=g[a]],t[d],n))return!1;return!0}(e,t,d))}function f(e){return null===e||void 0===e}function h(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=l},5202:function(e,t,n){"use strict";var r=n(3166),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,u=Object.defineProperty,s=n(9756)(),c=u&&s,l=function(e,t,n,r){var i;(!(t in e)||"function"===typeof(i=r)&&"[object Function]"===a.call(i)&&r())&&(c?u(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},f=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=o.call(a,Object.getOwnPropertySymbols(t)));for(var u=0;u<a.length;u+=1)l(e,a[u],t[a[u]],n[a[u]])};f.supportsDescriptors=!!c,e.exports=f},9283:function(e,t,n){"use strict";var r=n(4859);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(8410));e.exports=t.default},8410:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},8217:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},7980:function(e,t,n){"use strict";var r=n(5182).default,i=n(85).default,a=n(5198).default,o=n(1068).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isArgumentsArray=void 0;var u=function(e,t){var n,r;for(n=0,r=e.length;n!==r;++n)if(e[n]===t)return!0;return!1},s=function(e){return function(t){var n={};return Object.keys(t).forEach((function(r){n[r]=e(t[r])})),n}};t.isArgumentsArray=function(e){return Array.isArray(e)&&e.isArgumentsArray};var c=function(e){return f(e)},l=s(c),f=function e(n){return"function"===typeof n&&0===n.length?e(n()):t.isArgumentsArray(n)?n.map((function(t){return e(t())})):Array.isArray(n)?n.map(c):"object"===typeof n?l(n):n},h=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){return e.apply(void 0,n)}},d=function(){function e(t){var n,r=this;if(i(this,e),this.options=t,this.surroundingOpen={},this.surroundingClose={},this.options.SURROUNDING&&Object.keys(this.options.SURROUNDING).forEach((function(e){var t=r.options.SURROUNDING[e],n=t.OPEN,i=t.CLOSE;r.options.isCaseInsensitive&&(e=e.toUpperCase(),n=n.toUpperCase(),i=i.toUpperCase()),r.surroundingOpen[n]=!0,r.surroundingClose[i]={OPEN:n,ALIAS:e}})),this.options.isCaseInsensitive){var a=function(e){return e.toUpperCase()},u=(n=a,function(e){return Object.keys(e).map((function(t){return e.hasOwnProperty(t)?[t,n(t)]:null})).filter((function(e){return null!=e})).forEach((function(t){var n=o(t,2),r=n[0],i=n[1];r!==i&&(e[i]=e[r],delete e[r])})),e}),c=s(a);u(this.options.INFIX_OPS),u(this.options.PREFIX_OPS),u(this.options.AMBIGUOUS),c(this.options.AMBIGUOUS),this.options.PRECEDENCE=this.options.PRECEDENCE.map((function(e){return e.map((function(e){return e.toUpperCase()}))}))}this.options.LITERAL_OPEN&&(this.LIT_CLOSE_REGEX=new RegExp("".concat(this.options.LITERAL_OPEN,"$"))),this.options.LITERAL_CLOSE&&(this.LIT_OPEN_REGEX=new RegExp("^".concat(this.options.LITERAL_CLOSE))),this.symbols={},this.options.SYMBOLS.forEach((function(e){r.symbols[e]=e}))}return a(e,[{key:"resolveCase",value:function(e){return this.options.isCaseInsensitive?e.toUpperCase():e}},{key:"resolveAmbiguity",value:function(e){return this.options.AMBIGUOUS[this.resolveCase(e)]}},{key:"isSymbol",value:function(e){return this.symbols[e]===e}},{key:"getPrefixOp",value:function(e){if(this.options.termTyper&&"function"===this.options.termTyper(e)){var t=this.options.termDelegate(e);if("function"!==typeof t)throw new Error("".concat(e," is not a function."));var n=t;return function(e){var t=f(e);return Array.isArray(t)?function(){return n.apply(void 0,r(t))}:function(){return n(t)}}}return this.options.PREFIX_OPS[this.resolveCase(e)]}},{key:"getInfixOp",value:function(e){return this.options.INFIX_OPS[this.resolveCase(e)]}},{key:"getPrecedence",value:function(e){var t,n,r;if(this.options.termTyper&&"function"===this.options.termTyper(e))return 0;for(r=this.resolveCase(e),t=0,n=this.options.PRECEDENCE.length;t!==n;++t)if(u(this.options.PRECEDENCE[t],r))return t;return t}},{key:"tokenize",value:function(e){var t,n,r,i=this,a="",o=[],u={startedWithSep:!0,scanningLiteral:!1,scanningSymbols:!1,escaping:!1},s=function(e){if(""!==a){var t=i.resolveAmbiguity(a);t&&u.startedWithSep&&!e?o.push(t):o.push(a),a="",u.startedWithSep=!1}},c=e.split("");for(n=0,r=c.length;n<=r;++n)(t=n===r?0:c[n])!==this.options.ESCAPE_CHAR||u.escaping?(u.escaping?a+=t:t!==this.options.LITERAL_OPEN||u.scanningLiteral?t===this.options.LITERAL_CLOSE?(u.scanningLiteral=!1,o.push(this.options.LITERAL_OPEN+a+this.options.LITERAL_CLOSE),a=""):0===t?s(!0):u.scanningLiteral?a+=t:t===this.options.SEPARATOR?(s(!0),u.startedWithSep=!0):t===this.options.GROUP_OPEN||t===this.options.GROUP_CLOSE?(s(t===this.options.GROUP_CLOSE),u.startedWithSep=t===this.options.GROUP_OPEN,o.push(t)):t in this.surroundingOpen||t in this.surroundingClose?(s(t in this.surroundingClose),u.startedWithSep=t in this.surroundingOpen,o.push(t)):this.isSymbol(t)&&!u.scanningSymbols||!this.isSymbol(t)&&u.scanningSymbols?(s(!1),a+=t,u.scanningSymbols=!u.scanningSymbols):a+=t:(u.scanningLiteral=!0,s(!1)),u.escaping=!1):u.escaping=!0;return o}},{key:"tokensToRpn",value:function(e){var t,n,r,i,a,o,u,s,c=[],l=[],f=[];for(n=0,r=e.length;n!==r;++n)if(t=e[n],i="undefined"!==typeof this.getInfixOp(t),a="undefined"!==typeof this.getPrefixOp(t),i||a){for(s=this.getPrecedence(t),u=l[l.length-1];u&&(this.getPrefixOp(u)&&this.getPrecedence(u)<s||this.getInfixOp(u)&&this.getPrecedence(u)<=s);)c.push(l.pop()),u=l[l.length-1];l.push(t)}else if(this.surroundingOpen[t])l.push(t),f.push(t);else if(this.surroundingClose[t]){if(o=this.surroundingClose[t],f.pop()!==o.OPEN)throw new Error('Mismatched Grouping (unexpected closing "'.concat(t,'")'));for(t=l.pop();t!==o.OPEN&&"undefined"!==typeof t;)c.push(t),t=l.pop();if("undefined"===typeof t)throw new Error("Mismatched Grouping");l.push(o.ALIAS)}else if(t===this.options.GROUP_OPEN)l.push(t),f.push(t);else if(t===this.options.GROUP_CLOSE){if(f.pop()!==this.options.GROUP_OPEN)throw new Error('Mismatched Grouping (unexpected closing "'.concat(t,'")'));for(t=l.pop();t!==this.options.GROUP_OPEN&&"undefined"!==typeof t;)c.push(t),t=l.pop();if("undefined"===typeof t)throw new Error("Mismatched Grouping")}else c.push(t);for(n=0,r=l.length;n!==r;++n){if(t=l.pop(),(o=this.surroundingClose[t])&&f.pop()!==o.OPEN)throw new Error('Mismatched Grouping (unexpected closing "'.concat(t,'")'));if(t===this.options.GROUP_CLOSE&&f.pop()!==this.options.GROUP_OPEN)throw new Error('Mismatched Grouping (unexpected closing "'.concat(t,'")'));c.push(t)}if(0!==f.length)throw new Error('Mismatched Grouping (unexpected "'.concat(f.pop(),'")'));return c}},{key:"evaluateRpn",value:function(e,t,n,r,i){var a,o=e.pop();if("undefined"===typeof o)throw new Error("Parse Error: unexpected EOF");var u=this.getInfixOp(o),s=this.getPrefixOp(o),c=u&&e.length>1,l=s&&e.length>0;return(c||l)&&(a=this.evaluateRpn(e,t,n,r,i)),c?t(o,this.evaluateRpn(e,t,n,r,i),a):l?n(o,a):r(o,i)}},{key:"rpnToExpression",value:function(e){var t=this;return this.evaluateRpn(e,(function(e,n,r){return t.options.GROUP_OPEN+n+t.options.SEPARATOR+e+t.options.SEPARATOR+r+t.options.GROUP_CLOSE}),(function(e,n){return(t.isSymbol(e)?e:e+t.options.SEPARATOR)+t.options.GROUP_OPEN+n+t.options.GROUP_CLOSE}),(function(e){return e}))}},{key:"rpnToTokens",value:function(e){var t=this;return this.evaluateRpn(e,(function(e,n,r){return[t.options.GROUP_OPEN].concat(n).concat([e]).concat(r).concat([t.options.GROUP_CLOSE])}),(function(e,n){return[e,t.options.GROUP_OPEN].concat(n).concat([t.options.GROUP_CLOSE])}),(function(e){return[e]}))}},{key:"rpnToThunk",value:function(e,t){var n=this;return this.evaluateRpn(e,(function(e,t,r){return h(n.getInfixOp(e),t,r)}),(function(e,t){return h(n.getPrefixOp(e),t)}),(function(e,t){return n.options.LITERAL_OPEN&&e.startsWith(n.options.LITERAL_OPEN)?function(){return e.replace(n.LIT_OPEN_REGEX,"").replace(n.LIT_CLOSE_REGEX,"")}:t&&e in t?function(){return t[e]}:h(n.options.termDelegate,e)}),t)}},{key:"rpnToValue",value:function(e,t){return f(this.rpnToThunk(e,t))}},{key:"thunkToValue",value:function(e){return f(e)}},{key:"expressionToRpn",value:function(e){return this.tokensToRpn(this.tokenize(e))}},{key:"expressionToThunk",value:function(e,t){return this.rpnToThunk(this.expressionToRpn(e),t)}},{key:"expressionToValue",value:function(e,t){return this.rpnToValue(this.expressionToRpn(e),t)}},{key:"tokensToValue",value:function(e){return this.rpnToValue(this.tokensToRpn(e))}},{key:"tokensToThunk",value:function(e){return this.rpnToThunk(this.tokensToRpn(e))}}]),e}();t.default=d},8675:function(e,t,n){"use strict";t.d2=void 0;var r=n(7980);t.d2=r.default;var i=n(2138)},2138:function(e,t,n){"use strict";var r=n(1068).default,i=n(1260).default;Object.defineProperty(t,"__esModule",{value:!0}),t.formula=void 0;var a=n(7980),o=function(e){if("number"!==typeof e)throw new Error("Expected number, found: ".concat(typeof e," ").concat(JSON.stringify(e)));return e},u=function(e){if(!Array.isArray(e))throw new Error("Expected array, found: ".concat(typeof e," ").concat(JSON.stringify(e)));if(a.isArgumentsArray(e))throw new Error("Expected array, found: arguments");return e},s=function(e){for(var t;"function"===typeof e&&0===e.length;)t=e();return t||(t=e),function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, found: ".concat(typeof e," ").concat(JSON.stringify(e)));return e}(t)},c=function(e,t){return u(e).map((function(e){var n;if(n="function"===typeof e&&0===e.length?e():e,t)try{n=t(n)}catch(r){throw new Error("In array; ".concat(r.message))}return n}))},l=function(e){if("object"!==typeof e||null===e)throw new Error("Expected object, found: ".concat(typeof e," ").concat(JSON.stringify(e)));if(Array.isArray(e))throw new Error("Expected object, found array");return e},f=function(e){if(!Array.isArray(e)&&"string"!==typeof e)throw new Error("Expected array or string, found: ".concat(typeof e," ").concat(JSON.stringify(e)));return e},h=function(e){if("string"!==typeof e)throw new Error("Expected string, found: ".concat(typeof e," ").concat(JSON.stringify(e)));return e};t.formula=function(e,t){var n=function(e){var t=e.toUpperCase();if(p.hasOwnProperty(t))return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.isArgumentsArray=!0,p[t]((function(){return n}))};if(d.hasOwnProperty(t))return function(){return d[t](arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])};throw new Error("Unknown function: ".concat(e))},d={"+":function(e,t){return o(e())+o(t())},"-":function(e,t){return o(e())-o(t())},"*":function(e,t){return o(e())*o(t())},"/":function(e,t){return o(e())/o(t())},",":function(e,t){var n=e(),r=(a.isArgumentsArray(n)?n:[function(){return n}]).concat([t]);return r.isArgumentsArray=!0,r},"%":function(e,t){return o(e())%o(t())},"=":function(e,t){return e()===t()},"!=":function(e,t){return e()!==t()},"<>":function(e,t){return e()!==t()},"~=":function(e,t){return Math.abs(o(e())-o(t()))<Number.EPSILON},">":function(e,t){return e()>t()},"<":function(e,t){return e()<t()},">=":function(e,t){return e()>=t()},"<=":function(e,t){return e()<=t()},AND:function(e,t){return e()&&t()},OR:function(e,t){return e()||t()},"^":function(e,t){return Math.pow(o(e()),o(t()))}},p={NEG:function(e){return-o(e())},ADD:function(e,t){return o(e())+o(t())},SUB:function(e,t){return o(e())-o(t())},MUL:function(e,t){return o(e())*o(t())},DIV:function(e,t){return o(e())/o(t())},MOD:function(e,t){return o(e())%o(t())},ISPRIME:function(e){for(var t=o(e()),n=2,r=Math.sqrt(t);n<=r;n++)if(t%n===0)return!1;return 1!==t},GCD:function(e,t){var n=o(e()),r=o(t());if(n=Math.abs(n),(r=Math.abs(r))>n){var i=n;n=r,r=i}for(;;){if(0===r)return n;if(0===(n%=r))return r;r%=n}},NOT:function(e){return!e()},"!":function(e){return!e()},ABS:function(e){return Math.abs(o(e()))},ACOS:function(e){return Math.acos(o(e()))},ACOSH:function(e){return Math.acosh(o(e()))},ASIN:function(e){return Math.asin(o(e()))},ASINH:function(e){return Math.asinh(o(e()))},ATAN:function(e){return Math.atan(o(e()))},ATAN2:function(e,t){return Math.atan2(o(e()),o(t()))},ATANH:function(e){return Math.atanh(o(e()))},CUBEROOT:function(e){return Math.cbrt(o(e()))},CEIL:function(e){return Math.ceil(o(e()))},COS:function(e){return Math.cos(o(e()))},COSH:function(e){return Math.cos(o(e()))},EXP:function(e){return Math.exp(o(e()))},FLOOR:function(e){return Math.floor(o(e()))},LN:function(e){return Math.log(o(e()))},LOG:function(e){return Math.log10(o(e()))},LOG2:function(e){return Math.log2(o(e()))},SIN:function(e){return Math.sin(o(e()))},SINH:function(e){return Math.sinh(o(e()))},SQRT:function(e){return Math.sqrt(o(e()))},TAN:function(e){return Math.tan(o(e()))},TANH:function(e){return Math.tanh(o(e()))},ROUND:function(e){return Math.round(o(e()))},SIGN:function(e){return Math.sign(o(e()))},TRUNC:function(e){return Math.trunc(o(e()))},IF:function(e,t,n){var r=t,i=n;return e()?r():i()},AVERAGE:function(e){var t=c(e()),n=t.reduce((function(e,t){return e+o(t)}),0);return o(n)/t.length},SUM:function(e){return c(e(),o).reduce((function(e,t){return e+o(t)}),0)},CHAR:function(e){return String.fromCharCode(o(e()))},CODE:function(e){return function(e){if("string"!==typeof e||1!==e.length)throw new Error("Expected char, found: ".concat(typeof e," ").concat(JSON.stringify(e)));return e}(e()).charCodeAt(0)},DEC2BIN:function(e){return e().toString(2)},DEC2HEX:function(e){return e().toString(16)},DEC2STR:function(e){return e().toString(10)},BIN2DEC:function(e){return Number.parseInt(h(e()),2)},HEX2DEC:function(e){return Number.parseInt(h(e()),16)},STR2DEC:function(e){return Number.parseInt(h(e()),10)},DEGREES:function(e){return 180*o(e())/Math.PI},RADIANS:function(e){return o(e())*Math.PI/180},MIN:function(e){return c(e()).reduce((function(e,t){return Math.min(e,o(t))}),Number.POSITIVE_INFINITY)},MAX:function(e){return c(e()).reduce((function(e,t){return Math.max(e,o(t))}),Number.NEGATIVE_INFINITY)},SORT:function(e){var t=u(e()).slice();return t.sort(),t},REVERSE:function(e){var t=u(e()).slice();return t.reverse(),t},INDEX:function(e,t){return f(e())[o(t())]},LENGTH:function(e){return f(e()).length},JOIN:function(e,t){return c(t()).join(h(e()))},STRING:function(e){return c(e()).join("")},SPLIT:function(e,t){return h(t()).split(h(e()))},CHARARRAY:function(e){return h(e()).split("")},ARRAY:function(e){var t=e();return a.isArgumentsArray(t)?t.slice():[t]},ISNAN:function(e){return isNaN(o(e()))},MAP:function(e,t){var r=e();return c(t()).map((function(e){return"function"===typeof r?function(){return r(e)}:n(h(r))((function(){return e}))}))},REDUCE:function(e,t,r){var i=e(),a=t();return c(r()).reduce((function(e,t){var r=[function(){return e},function(){return t}];return"function"===typeof i?i.apply(void 0,r):n(h(i)).apply(void 0,r)}),a)},RANGE:function(e,t){for(var n=o(e()),r=o(t()),i=[],a=n;a<r;a++)i.push(a);return i},UPPER:function(e){return h(e()).toUpperCase()},LOWER:function(e){return h(e()).toLowerCase()},ZIP:function(e,t){var n=c(e()),r=c(t());if(n.length!==r.length)throw new Error("ZIP: Arrays are of different lengths");return n.map((function(e,t){return[e,r[t]]}))},UNZIP:function(e){var t=c(e());return[t.map((function(e){return u(e)[0]})),t.map((function(e){return u(e)[1]}))]},TAKE:function(e,t){var n=o(e());return c(t()).slice(0,n)},DROP:function(e,t){var n=o(e());return c(t()).slice(n)},SLICE:function(e,t,n){var r=o(e()),i=o(t());return c(n()).slice(r,i)},CONCAT:function(e,t){var n=u(e()),r=u(t());return n.concat(r)},HEAD:function(e){return u(e())[0]},TAIL:function(e){return u(e()).slice(1)},LAST:function(e){var t=u(e());return t[t.length-1]},CONS:function(e,t){var n=e(),r=u(t());return[n].concat(r)},FILTER:function(e,t){var r=e(),i=c(t()),a=[];return i.forEach((function(e){s("function"===typeof r?r(e):n(h(r))((function(){return e})))&&a.push(e)})),a},TAKEWHILE:function(e,t){for(var r=e(),i=c(t()),a=function(e){return s("function"===typeof r?r(e):n(h(r))((function(){return e})))},o=0;a(i[o])&&o<i.length;)o++;return i.slice(0,o)},DROPWHILE:function(e,t){for(var r=e(),i=c(t()),a=function(e){return s("function"===typeof r?r(e):n(h(r))((function(){return e})))},o=0;a(i[o])&&o<i.length;)o++;return i.slice(o)},GET:function(e,t){var n=h(e());return l(t())[n]},PUT:function(e,t,n){var r=h(e()),a=t(),o=l(n());return Object.assign({},o,i({},r,a))},DICT:function(e,t){var n=c(e()),r=c(t()),i={};return n.forEach((function(e,t){var n=h(e);i[n]=r[t]})),i},UNZIPDICT:function(e){var t=c(e()),n={};return t.forEach((function(e){var t=u(e);if(2!==t.length)throw new Error("UNZIPDICT: Expected sub-array of length 2");var i=r(t,2),a=i[0],o=i[1];try{n[function(e){var t;return t="function"===typeof e&&0===e.length?e():e,h(t)}(a)]=o}catch(s){throw new Error("UNZIPDICT keys; ".concat(s.message))}})),n},KEYS:function(e){var t=l(e());return Object.keys(t).sort()},VALUES:function(e){var t=l(e());return Object.keys(t).sort().map((function(e){return t[e]}))}};return Object.keys(p).forEach((function(e){var t;"ARRAY"!==e&&(p[e]=(t=p[e],function(e){var n=e();if(a.isArgumentsArray(n)){if(n.length===t.length||0===t.length)return t.apply(null,n);throw new Error("Incorrect number of arguments. Expected ".concat(t.length))}if(t.length>1)throw new Error("Too few arguments. Expected ".concat(t.length,", found 1 (").concat(JSON.stringify(n),")"));return t((function(){return n}))}))})),{ESCAPE_CHAR:"\\",INFIX_OPS:d,PREFIX_OPS:p,PRECEDENCE:[Object.keys(p),["^"],["*","/","%","MOD"],["+","-"],["<",">","<=",">="],["=","!=","<>","~="],["AND","OR"],[","]],LITERAL_OPEN:'"',LITERAL_CLOSE:'"',GROUP_OPEN:"(",GROUP_CLOSE:")",SEPARATOR:" ",SYMBOLS:["^","*","/","%","+","-","<",">","=","!",",",'"',"(",")","[","]","~"],AMBIGUOUS:{"-":"NEG"},SURROUNDING:{ARRAY:{OPEN:"[",CLOSE:"]"}},termDelegate:function(t){var n=parseFloat(t);if(!Number.isNaN(n))return n;switch(t){case"E":return Math.E;case"LN2":return Math.LN2;case"LN10":return Math.LN10;case"LOG2E":return Math.LOG2E;case"LOG10E":return Math.LOG10E;case"PI":return Math.PI;case"SQRTHALF":return Math.SQRT1_2;case"SQRT2":return Math.SQRT2;case"FALSE":return!1;case"TRUE":return!0;case"EMPTY":return[];case"EMPTYDICT":return{};case"INFINITY":return Number.POSITIVE_INFINITY;case"EPSILON":return Number.EPSILON;case"UNDEFINED":return;default:return e(t)}},termTyper:function(e){var n=parseFloat(e);if(!Number.isNaN(n))return"number";switch(e){case"E":case"LN2":case"LN10":case"LOG2E":case"LOG10E":case"PI":case"SQRTHALF":case"SQRT2":case"INFINITY":case"EPSILON":return"number";case"FALSE":case"TRUE":return"boolean";case"EMPTY":return"array";default:return t?t(e):"unknown"}},isCaseInsensitive:!0,descriptions:[{op:"+",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Performs addition: a + b"},{op:"ADD",fix:"prefix",sig:["a: Number","b: Number","Number"],text:"Performs addition: ADD(a, b) = a + b"},{op:"*",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Performs multiplication: a * b"},{op:"MUL",fix:"prefix",sig:["a: Number","b: Number","Number"],text:"Performs multiplication: MUL(a, b) = a * b"},{op:"-",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Performs subtraction: a - b"},{op:"SUB",fix:"prefix",sig:["a: Number","b: Number","Number"],text:"Performs subtraction: SUB(a, b) = a - b"},{op:"/",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Performs division: a / b"},{op:"DIV",fix:"prefix",sig:["a: Number","b: Number","Number"],text:"Performs division: DIV(a, b) = a / b"},{op:",",fix:"infix",sig:["a","b","Arguments"],text:"Returns an array of arguments with b appended to a. If a is not an argument array, it is automatically appended to an empty array."},{op:"MOD",fix:"prefix",sig:["a: Number","b: Number","Number"],text:"Performs modulo operation: MOD(a, b). (equivalent to a % b)"},{op:"%",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Performs modulo operation: a % b. (equivalent to MOD(a, b))"},{op:"=",fix:"infix",sig:["a","b","Boolean"],text:"Returns TRUE if a = b. Otherwise returns FALSE."},{op:"!=",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Returns FALSE if a = b. Otherwise returns TRUE. (equivalent to <>)"},{op:"<>",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Returns FALSE if a = b. Otherwise returns TRUE. (equivalent to !=)"},{op:"~=",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Returns TRUE if ABS(a - b) < EPSILON. Otherwise returns FALSE."},{op:">",fix:"infix",sig:["a: Number","b: Number","Boolean"],text:"Performs greater-than operation: a > b"},{op:"<",fix:"infix",sig:["a: Number","b: Number","Boolean"],text:"Performs less-than operation: a < b"},{op:">=",fix:"infix",sig:["a: Number","b: Number","Boolean"],text:"Performs greater-than-or-equal operation: a >= b"},{op:"<=",fix:"infix",sig:["a: Number","b: Number","Boolean"],text:"Performs less-than-or-equal operation: a <= b"},{op:"AND",fix:"infix",sig:["a: Boolean","b: Boolean","Boolean"],text:"Performs logical AND: a AND b."},{op:"OR",fix:"infix",sig:["a: Boolean","b: Boolean","Boolean"],text:"Performs logical OR: a OR b."},{op:"^",fix:"infix",sig:["a: Number","b: Number","Number"],text:"Performs exponentiation (a to the power of b): a ^ b"},{op:"NEG",fix:"prefix",sig:["value: Number","Number"],text:"Performs negation of the value: NEG(value). (equivalent to -value)"},{op:"-",fix:"prefix",sig:["value: Number","Number"],text:'Performs negation of the value: -value. Note: no space can be present before "value". (equivalent to NEG(value))'},{op:"ISPRIME",fix:"prefix",sig:["value: Number","Number"],text:"Returns TRUE if value is prime, FALSE otherwise."},{op:"GCD",fix:"prefix",sig:["a: Number","b: Number","Number"],text:"Returns the greatest common divisor of a and b."},{op:"NOT",fix:"prefix",sig:["value: Boolean","Boolean"],text:"Performs logical NOT of the value: NOT(value). (equivalent to !value)"},{op:"!",fix:"prefix",sig:["value: Boolean","Boolean"],text:"Performs logical NOT of the value: !value. (equivalent to NOT(value))"},{op:"ABS",fix:"prefix",sig:["value: Number","Number"],text:"Returns the absolute value of the number: ABS(value)."},{op:"ACOS",fix:"prefix",sig:["value: Number","Number"],text:"Returns the arc cosine (inverse cosine) of the number: ACOS(value)."},{op:"ACOSH",fix:"prefix",sig:["value: Number","Number"],text:"Returns the inverse hyperbolic cosine of the number: ACOSH(value)."},{op:"ASIN",fix:"prefix",sig:["value: Number","Number"],text:"Returns the arcsine of the number: ASIN(value)."},{op:"ASINH",fix:"prefix",sig:["value: Number","Number"],text:"Returns the inverse hyperbolic sine of the number: ASINH(value)."},{op:"ATAN",fix:"prefix",sig:["value: Number","Number"],text:"Returns the arctangent of the number: ATAN(value)."},{op:"ATAN2",fix:"prefix",sig:["y: Number","x: Number","Number"],text:"Returns the angle (radians) from the X-axis to a point, given a cartesian y-coordinate and x-coordinate: ATAN2(y, x)."},{op:"ATANH",fix:"prefix",sig:["value: Number","Number"],text:"Returns the inverse hyperbolic tangent of the number: ATANH(value)."},{op:"CUBEROOT",fix:"prefix",sig:["value: Number","Number"],text:"Returns an approximation of the cubed root of the number: CUBEROOT(value)."},{op:"COS",fix:"prefix",sig:["value: Number","Number"],text:"Returns the cosine of the number: COS(value)."},{op:"COSH",fix:"prefix",sig:["value: Number","Number"],text:"Returns the hyperbolic cosine of the number: COSH(value)."},{op:"EXP",fix:"prefix",sig:["value: Number","Number"],text:"Returns the natural logarithm (e) raised to this value: EXP(value)."},{op:"LN",fix:"prefix",sig:["value: Number","Number"],text:"Returns the natural logarithm (base e) of the number: LN(value)."},{op:"LOG",fix:"prefix",sig:["value: Number","Number"],text:"Returns the base 10 logarithm of the number: LOG(value)."},{op:"LOG2",fix:"prefix",sig:["value: Number","Number"],text:"Returns the base 2 logarithm of the number: LOG2(value)."},{op:"SIN",fix:"prefix",sig:["value: Number","Number"],text:"Returns the sine of the number: SIN(value)."},{op:"SINH",fix:"prefix",sig:["value: Number","Number"],text:"Returns the hyperbolic sine of the number: SINH(value)."},{op:"SQRT",fix:"prefix",sig:["value: Number","Number"],text:"Returns the square root of the number: SQRT(value)."},{op:"TAN",fix:"prefix",sig:["value: Number","Number"],text:"Returns the tangent of the number: TAN(value)."},{op:"TANH",fix:"prefix",sig:["value: Number","Number"],text:"Returns the hyperbolic tangent of the number: TANH(value)."},{op:"DEGREES",fix:"prefix",sig:["radians: Number","Number"],text:"Performs a conversion of radians to degrees: DEGREES(radians)."},{op:"RADIANS",fix:"prefix",sig:["degrees: Number","Number"],text:"Performs a conversion of radians to degrees: RADIANS(degrees)."},{op:"CEIL",fix:"prefix",sig:["value: Number","Number"],text:"Returns the smallest integer greater-than or equal-to the number: CEIL(value)."},{op:"FLOOR",fix:"prefix",sig:["value: Number","Number"],text:"Returns the greatest integer less-than or equal-to the number: CEIL(value)."},{op:"ROUND",fix:"prefix",sig:["value: Number","Number"],text:"Returns the value rounded to the nearest integer: ROUND(value)."},{op:"TRUNC",fix:"prefix",sig:["value: Number","Number"],text:"Returns the integral part of the number, truncating any fractional digits: TRUNC(value)."},{op:"SIGN",fix:"prefix",sig:["value: Number","Number"],text:"Returns the sign of the value, indicating whether the number is positive (1) or negative (-1): SIGN(value)."},{op:"ISNAN",fix:"prefix",sig:["value","Boolean"],text:"Returns TRUE if a value is not a number (e.g. the result of an invalid mathematical operation), otherwise returns FALSE: ISNAN(value)."},{op:"IF",fix:"prefix",sig:["condition: Boolean","then","else","result"],text:'Tests the condition and returns the "then" value if the condition is TRUE, otherwise returns the "else" value: IF(condition, then, else).'},{op:"AVERAGE",fix:"prefix",sig:["values: Array of Numbers","Number"],text:"Returns the average (mean) of an array of numbers. AVERAGE(array)."},{op:"SUM",fix:"prefix",sig:["values: Array of Numbers","Number"],text:"Returns the sum of an array of numbers. SUM(array)."},{op:"MIN",fix:"prefix",sig:["values: Array of Numbers","Number"],text:"Returns the minimum value in an array of numbers. MIN(array)."},{op:"MAX",fix:"prefix",sig:["values: Array of Numbers","Number"],text:"Returns the maximum value in an array of numbers. MAX(array)."},{op:"CHAR",fix:"prefix",sig:["code: Integer","String"],text:"Returns a single-character string with a unicode character representing the value of the given code. CHAR(code)"},{op:"CODE",fix:"prefix",sig:["string: String","Integer"],text:"Returns the unicode value of the first character of a string: CODE(string)"},{op:"UPPER",fix:"prefix",sig:["string: String","String"],text:"Converts a string to uppercase: UPPER(string)."},{op:"LOWER",fix:"prefix",sig:["string: String","String"],text:"Converts a string to lowercase: LOWER(string)."},{op:"DEC2BIN",fix:"prefix",sig:["decimal: Integer","binary: String"],text:'Returns a string of "1" and "0" characters representing the binary representation of the decimal value. DEC2BIN(decimal)'},{op:"DEC2HEX",fix:"prefix",sig:["decimal: Integer","hex: String"],text:"Returns a string of characters representing the hexadecimal representation of the decimal value. DEC2HEX(decimal)"},{op:"BIN2DEC",fix:"prefix",sig:["binary: String","decimal: Integer"],text:'Returns the base 10 value of a binary string of "1" and "0" characters. BIN2DEC(binary)'},{op:"HEX2DEC",fix:"prefix",sig:["hex: String","decimal: Integer"],text:"Returns the base 10 value of a hexadecimal string. HEX2DEC(hex)"},{op:"SORT",fix:"prefix",sig:["array: Array","Array"],text:"Returns a sorted array: SORT(array)."},{op:"REVERSE",fix:"prefix",sig:["array: Array","Array"],text:"Returns a reversed array: REVERSE(array)."},{op:"INDEX",fix:"prefix",sig:["array: Array","i: Integer","Value"],text:"Returns the value at the given array index: INDEX(array, i)."},{op:"LENGTH",fix:"prefix",sig:["array: Array","Integer"],text:"Returns the length of an array: LENGTH(array)."},{op:"JOIN",fix:"prefix",sig:["array: Array","separator: String","String"],text:"Joins each array element into a string, using a separator: JOIN(array, separator)."},{op:"SPLIT",fix:"prefix",sig:["string: String","separator: String","Array"],text:"Splits a string into an array of characters, using a separator: SPLIT(string, separator)."},{op:"STRING",fix:"prefix",sig:["array: Array","String"],text:"Converts an array into a string: STRING(array)."},{op:"CHARARRAY",fix:"prefix",sig:["string: String","Array"],text:"Converts a string into an array of characters: CHARARRAY(string)"},{op:"ARRAY",fix:"prefix",sig:["arguments...","Array"],text:"Converts arguments into an array: ARRAY(a, b, c, ...)."},{op:"MAP",fix:"prefix",sig:["mapper: Reference","array: Array","Array"],text:"Performs a mapper function on each element of the array: MAP(mapper, array)."},{op:"REDUCE",fix:"prefix",sig:["reducer: Reference","start","array: Array","Array"],text:'Performs a reducer function on each pair of array elements, using "start" as its starting value: REDUCE(reducer, array).'},{op:"RANGE",fix:"prefix",sig:["start: Integer","limit: Integer","Array"],text:"Creates an array of integers, incrementing from start (included) to the limit (excluded): RANGE(start, limit)"},{op:"ZIP",fix:"prefix",sig:["array1: Array","array2: Array","Array of [array1[i], array2[i]]"],text:"Combines two arrays into a single array of both values, paired at their respective position: ZIP(array1, array2)"},{op:"UNZIP",fix:"prefix",sig:["array: Array of [a, b]","[Array of a, Array of b]"],text:"Splits a single array of pairs into two arrays with values at their respective positions: UNZIP(array)"},{op:"TAKE",fix:"prefix",sig:["n: Integer","Array"],text:"Takes the first n values from the array: TAKE(n, array)"},{op:"DROP",fix:"prefix",sig:["n: Integer","Array"],text:"Drops the first n values from the array: DROP(n, array)"},{op:"SLICE",fix:"prefix",sig:["startIndex: Integer","limitIndex: Integer","Array"],text:"Slices an array from startIndex to (but not including) limitIndex: SLICE(startIndex, limitIndex, array)"},{op:"CONCAT",fix:"prefix",sig:["array1: Array","array2: Array","Array"],text:"Concatenates two arrays into one: CONCAT(array1, array2)"},{op:"HEAD",fix:"prefix",sig:["array: Array","Value"],text:"Retrieves the first element of an array: HEAD(array)"},{op:"TAIL",fix:"prefix",sig:["array: Array","Array"],text:"Returns the array without the first element: TAIL(array)"},{op:"LAST",fix:"prefix",sig:["array: Array","Value"],text:"Retrieves the last element of an array: HEAD(array)"},{op:"CONS",fix:"prefix",sig:["head: Value","array: Array","Array"],text:"Returns an array with a new value at the first position: CONS(head, array)"},{op:"FILTER",fix:"prefix",sig:["filter: Reference","array: Array","Array"],text:"Returns an array of all elements for which 'filter(element)' returns true: FILTER(filter, array)."},{op:"TAKEWHILE",fix:"prefix",sig:["check: Reference","array: Array","Array"],text:"Returns a new array of all elements up until 'check(element)' returns false: TAKEWHILE(check, array)."},{op:"DROPWHILE",fix:"prefix",sig:["check: Reference","array: Array","Array"],text:"Returns a new array skipping all elements up until 'check(element)' returns false: DROPWHILE(check, array)."},{op:"GET",fix:"prefix",sig:["key: String","dict: Dictionary","Value"],text:"Retrieves the value of the associated key in a dictionary: GET(key, dict)"},{op:"PUT",fix:"prefix",sig:["key: String","value: Value","dict: Dictionary","Dictionary"],text:"Returns a dictionary with the key set to a new value: PUT(key, value, dict)"},{op:"DICT",fix:"prefix",sig:["keys: Array","values: Array","Dictionary"],text:"Constructs a new dictionary out of an array of keys and a corresponding array of values: DICT(keys, values)"},{op:"UNZIPDICT",fix:"prefix",sig:["keyValuePairs: Array","Dictionary"],text:"Constructs a new dictionary out of an array of [key, value] pairs: UNZIPDICT(keyValuePairs)"},{op:"KEYS",fix:"prefix",sig:["dict: Dictionary","Array"],text:"Returns all the keys of a dictionary in alphabetical order: KEYS(dict)"},{op:"VALUES",fix:"prefix",sig:["dict: Dictionary","Array"],text:"Returns all the values of a dictionary, in alphabetical order of their keys: VALUES(dict)"},{op:"[...]",fix:"surround",sig:["arguments...","Array"],text:"Converts arguments into an array: [a, b, c, ...]."}]}}},5255:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var a=this;if("function"!==typeof a||r.call(a)!==i)throw new TypeError(t+a);for(var o,u=n.call(arguments,1),s=function(){if(this instanceof o){var t=a.apply(this,u.concat(n.call(arguments)));return Object(t)===t?t:this}return a.apply(e,u.concat(n.call(arguments)))},c=Math.max(0,a.length-u.length),l=[],f=0;f<c;f++)l.push("$"+f);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),a.prototype){var h=function(){};h.prototype=a.prototype,o.prototype=new h,h.prototype=null}return o}},8608:function(e,t,n){"use strict";var r=n(5255);e.exports=Function.prototype.bind||r},188:function(e){"use strict";var t=function(){return"string"===typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(i){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof r&&""!==function(){}.bind().name},e.exports=t},7995:function(e,t,n){"use strict";var r,i=SyntaxError,a=Function,o=TypeError,u=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(A){s=null}var c=function(){throw new o},l=s?function(){try{return c}catch(e){try{return s(arguments,"callee").get}catch(t){return c}}}():c,f=n(3558)(),h=Object.getPrototypeOf||function(e){return e.__proto__},d={},p="undefined"===typeof Uint8Array?r:h(Uint8Array),v={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":d,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},m=function e(t){var n;if("%AsyncFunction%"===t)n=u("async function () {}");else if("%GeneratorFunction%"===t)n=u("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=u("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=h(i.prototype))}return v[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n(8608),k=n(4469),b=g.call(Function.call,Array.prototype.concat),w=g.call(Function.apply,Array.prototype.splice),x=g.call(Function.call,String.prototype.replace),E=g.call(Function.call,String.prototype.slice),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_=/\\(\\)?/g,T=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return x(e,I,(function(e,t,n,i){r[r.length]=n?x(i,_,"$1"):t||e})),r},S=function(e,t){var n,r=e;if(k(y,r)&&(r="%"+(n=y[r])[0]+"%"),k(v,r)){var a=v[r];if(a===d&&(a=m(r)),"undefined"===typeof a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new o('"allowMissing" argument must be a boolean');var n=T(e),r=n.length>0?n[0]:"",a=S("%"+r+"%",t),u=a.name,c=a.value,l=!1,f=a.alias;f&&(r=f[0],w(n,b([0,1],f)));for(var h=1,d=!0;h<n.length;h+=1){var p=n[h],m=E(p,0,1),y=E(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(l=!0),k(v,u="%"+(r+="."+p)+"%"))c=v[u];else if(null!=c){if(!(p in c)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&h+1>=n.length){var g=s(c,p);c=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[p]}else d=k(c,p),c=c[p];d&&!l&&(v[u]=c)}}return c}},8834:function(e,t,n){"use strict";var r="__global_unique_id__";e.exports=function(){return n.g[r]=(n.g[r]||0)+1}},9756:function(e,t,n){"use strict";var r=n(7995)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},3558:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(8107);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},8107:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},8719:function(e,t,n){"use strict";var r=n(8107);e.exports=function(){return r()&&!!Symbol.toStringTag}},4469:function(e,t,n){"use strict";var r=n(8608);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},7828:function(e,t,n){"use strict";n.d(t,{lX:function(){return E},q_:function(){return N},ob:function(){return v},PP:function(){return O},Ep:function(){return p},Hp:function(){return m}});var r=n(7896);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],u=e&&i(e),s=t&&i(t),c=u||s;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?a(o,h):".."===d?(a(o,h),f++):f&&(a(o,h),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=u(t),i=u(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(5704);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=(0,r.Z)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function k(e,t){t(window.confirm(e))}var b="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),g||(0,c.Z)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,u=void 0!==o&&o,s=a.getUserConfirmation,f=void 0===s?k:s,m=a.keyLength,E=void 0===m?6:m,I=e.basename?d(l(e.basename)):"";function _(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return I&&(a=h(a,I)),v(a,r,n)}function T(){return Math.random().toString(36).substr(2,E)}var S=y();function A(e){(0,r.Z)(V,e),V.length=t.length,S.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(_(e.state))}function C(){P(_(x()))}var O=!1;function P(e){if(O)O=!1,A();else{S.confirmTransitionTo(e,"POP",f,(function(t){t?A({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,M(i))}(e)}))}}var R=_(x()),D=[R.key];function L(e){return I+p(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(b,N),i&&window.addEventListener(w,C)):0===F&&(window.removeEventListener(b,N),i&&window.removeEventListener(w,C))}var j=!1;var V={length:t.length,action:"POP",location:R,createHref:L,push:function(e,r){var i="PUSH",a=v(e,r,T(),V.location);S.confirmTransitionTo(a,i,f,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,A({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=v(e,r,T(),V.location);S.confirmTransitionTo(a,i,f,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),A({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=S.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var I="hashchange",_={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function S(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(T(window.location.href)+"#"+e)}function N(e){void 0===e&&(e={}),g||(0,c.Z)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?k:i,o=n.hashType,u=void 0===o?"slash":o,s=e.basename?d(l(e.basename)):"",f=_[u],m=f.encodePath,b=f.decodePath;function w(){var e=b(S());return s&&(e=h(e,s)),v(e)}var x=y();function E(e){(0,r.Z)(V,e),V.length=t.length,x.notifyListeners(V.location,V.action)}var N=!1,C=null;function O(){var e,t,n=S(),r=m(n);if(n!==r)A(r);else{var i=w(),o=V.location;if(!N&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===p(i))return;C=null,function(e){if(N)N=!1,E();else{var t="POP";x.confirmTransitionTo(e,t,a,(function(n){n?E({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(N=!0,M(i))}(e)}))}}(i)}}var P=S(),R=m(P);P!==R&&A(R);var D=w(),L=[p(D)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(I,O):0===F&&window.removeEventListener(I,O)}var j=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=T(window.location.href)),n+"#"+m(s+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,V.location);x.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=m(s+t);if(S()!==i){C=t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(p(V.location)),o=L.slice(0,a+1);o.push(t),L=o,E({action:n,location:r})}else E()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,V.location);x.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=m(s+t);S()!==i&&(C=t,A(i));var a=L.indexOf(p(V.location));-1!==a&&(L[a]=t),E({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=x.appendListener(e);return U(1),function(){U(-1),t()}}};return V}function C(e,t,n){return Math.min(Math.max(e,t),n)}function O(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,u=void 0===o?0:o,s=t.keyLength,c=void 0===s?6:s,l=y();function f(e){(0,r.Z)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=C(u,0,a.length-1),m=a.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),g=p;function k(e){var t=C(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var b={length:m.length,action:"POP",location:m[d],index:d,entries:m,createHref:g,push:function(e,t){var r="PUSH",i=v(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,f({action:r,location:i}))}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}},7814:function(e,t,n){"use strict";var r=n(9479),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},437:function(e,t,n){"use strict";var r=n(8719)(),i=n(3121)("Object.prototype.toString"),a=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},o=function(e){return!!a(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},u=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=u?a:o},6502:function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,a=n(8719)();e.exports=function(e){return"object"===typeof e&&null!==e&&(a?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},2078:function(e,t,n){"use strict";var r,i,a,o,u=n(3121),s=n(8719)();if(s){r=u("Object.prototype.hasOwnProperty"),i=u("RegExp.prototype.exec"),a={};var c=function(){throw a};o={toString:c,valueOf:c},"symbol"===typeof Symbol.toPrimitive&&(o[Symbol.toPrimitive]=c)}var l=u("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;e.exports=s?function(e){if(!e||"object"!==typeof e)return!1;var t=f(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{i(e,o)}catch(n){return n===a}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===l(e)}},8807:function(e,t,n){var r="undefined"!==typeof JSON?JSON:n(6903);e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n=t.space||"";"number"===typeof n&&(n=Array(n+1).join(" "));var o,u="boolean"===typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},c=t.cmp&&(o=t.cmp,function(e){return function(t,n){var r={key:t,value:e[t]},i={key:n,value:e[n]};return o(r,i)}}),l=[];return function e(t,o,f,h){var d=n?"\n"+new Array(h+1).join(n):"",p=n?": ":":";if(f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=s.call(t,o,f))){if("object"!==typeof f||null===f)return r.stringify(f);if(i(f)){for(var v=[],m=0;m<f.length;m++){var y=e(f,m,f[m],h+1)||r.stringify(null);v.push(d+n+y)}return"["+v.join(",")+d+"]"}if(-1!==l.indexOf(f)){if(u)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(f);var g=a(f).sort(c&&c(f));for(v=[],m=0;m<g.length;m++){var k=e(f,o=g[m],f[o],h+1);if(k){var b=r.stringify(o)+p+k;v.push(d+n+b)}}return l.splice(l.indexOf(f),1),"{"+v.join(",")+d+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},a=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},6903:function(e,t,n){t.parse=n(2115),t.stringify=n(8101)},2115:function(e){var t,n,r,i,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(e){throw{name:"SyntaxError",message:e,at:t,text:r}},u=function(e){return e&&e!==n&&o("Expected '"+e+"' instead of '"+n+"'"),n=r.charAt(t),t+=1,n},s=function(){var e,t="";for("-"===n&&(t="-",u("-"));n>="0"&&n<="9";)t+=n,u();if("."===n)for(t+=".";u()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,u(),"-"!==n&&"+"!==n||(t+=n,u());n>="0"&&n<="9";)t+=n,u();if(e=+t,isFinite(e))return e;o("Bad number")},c=function(){var e,t,r,i="";if('"'===n)for(;u();){if('"'===n)return u(),i;if("\\"===n)if(u(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(u(),16),isFinite(e));t+=1)r=16*r+e;i+=String.fromCharCode(r)}else{if("string"!==typeof a[n])break;i+=a[n]}else i+=n}o("Bad string")},l=function(){for(;n&&n<=" ";)u()},f=function(){var e=[];if("["===n){if(u("["),l(),"]"===n)return u("]"),e;for(;n;){if(e.push(i()),l(),"]"===n)return u("]"),e;u(","),l()}}o("Bad array")},h=function(){var e,t={};if("{"===n){if(u("{"),l(),"}"===n)return u("}"),t;for(;n;){if(e=c(),l(),u(":"),Object.hasOwnProperty.call(t,e)&&o('Duplicate key "'+e+'"'),t[e]=i(),l(),"}"===n)return u("}"),t;u(","),l()}}o("Bad object")};i=function(){switch(l(),n){case"{":return h();case"[":return f();case'"':return c();case"-":return s();default:return n>="0"&&n<="9"?s():function(){switch(n){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}o("Unexpected '"+n+"'")}()}},e.exports=function(e,a){var u;return r=e,t=0,n=" ",u=i(),l(),n&&o("Syntax error"),"function"===typeof a?function e(t,n){var r,i,o=t[n];if(o&&"object"===typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(void 0!==(i=e(o,r))?o[r]=i:delete o[r]);return a.call(t,n,o)}({"":u},""):u}},8101:function(e){var t,n,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=a[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function u(e,i){var a,s,c,l,f,h=t,d=i[e];switch(d&&"object"===typeof d&&"function"===typeof d.toJSON&&(d=d.toJSON(e)),"function"===typeof r&&(d=r.call(i,e,d)),typeof d){case"string":return o(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(t+=n,f=[],"[object Array]"===Object.prototype.toString.apply(d)){for(l=d.length,a=0;a<l;a+=1)f[a]=u(a,d)||"null";return c=0===f.length?"[]":t?"[\n"+t+f.join(",\n"+t)+"\n"+h+"]":"["+f.join(",")+"]",t=h,c}if(r&&"object"===typeof r)for(l=r.length,a=0;a<l;a+=1)"string"===typeof(s=r[a])&&(c=u(s,d))&&f.push(o(s)+(t?": ":":")+c);else for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(c=u(s,d))&&f.push(o(s)+(t?": ":":")+c);return c=0===f.length?"{}":t?"{\n"+t+f.join(",\n"+t)+"\n"+h+"}":"{"+f.join(",")+"}",t=h,c}}e.exports=function(e,i,a){var o;if(t="",n="","number"===typeof a)for(o=0;o<a;o+=1)n+=" ";else"string"===typeof a&&(n=a);if(r=i,i&&"function"!==typeof i&&("object"!==typeof i||"number"!==typeof i.length))throw new Error("JSON.stringify");return u("",{"":e})}},576:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,m=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",h]],g="[object Arguments]",k="[object Array]",b="[object Boolean]",w="[object Date]",x="[object Error]",E="[object Function]",I="[object GeneratorFunction]",_="[object Map]",T="[object Number]",S="[object Object]",A="[object Promise]",N="[object RegExp]",C="[object Set]",O="[object String]",P="[object Symbol]",R="[object WeakMap]",D="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",j="[object Int16Array]",V="[object Int32Array]",B="[object Uint8Array]",q="[object Uint8ClampedArray]",z="[object Uint16Array]",K="[object Uint32Array]",Q=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Z=RegExp(H.source),J=RegExp(Y.source),X=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ke=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Ie="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="['\u2019]",Oe="[\\ud800-\\udfff]",Pe="["+Ne+"]",Re="["+Ie+"]",De="\\d+",Le="[\\u2700-\\u27bf]",Me="["+Te+"]",Fe="[^\\ud800-\\udfff"+Ne+De+_e+Te+Se+"]",Ue="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Se+"]",ze="(?:"+Me+"|"+Fe+")",Ke="(?:"+qe+"|"+Fe+")",Qe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",We="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Re+"|"+Ue+")"+"?",He="[\\ufe0e\\ufe0f]?",Ye=He+Ge+("(?:\\u200d(?:"+[je,Ve,Be].join("|")+")"+He+Ge+")*"),Ze="(?:"+[Le,Ve,Be].join("|")+")"+Ye,Je="(?:"+[je+Re+"?",Re,Ve,Be,Oe].join("|")+")",Xe=RegExp(Ce,"g"),$e=RegExp(Re,"g"),et=RegExp(Ue+"(?="+Ue+")|"+Je+Ye,"g"),tt=RegExp([qe+"?"+Me+"+"+Qe+"(?="+[Pe,qe,"$"].join("|")+")",Ke+"+"+We+"(?="+[Pe,qe+ze,"$"].join("|")+")",qe+"?"+ze+"+"+Qe,qe+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ze].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ie+Ae+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[M]=ot[F]=ot[U]=ot[j]=ot[V]=ot[B]=ot[q]=ot[z]=ot[K]=!0,ot[g]=ot[k]=ot[D]=ot[b]=ot[L]=ot[w]=ot[x]=ot[E]=ot[_]=ot[T]=ot[S]=ot[N]=ot[C]=ot[O]=ot[R]=!1;var ut={};ut[g]=ut[k]=ut[D]=ut[L]=ut[b]=ut[w]=ut[M]=ut[F]=ut[U]=ut[j]=ut[V]=ut[_]=ut[T]=ut[S]=ut[N]=ut[C]=ut[O]=ut[P]=ut[B]=ut[q]=ut[z]=ut[K]=!0,ut[x]=ut[E]=ut[R]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===pt,yt=mt&&ft.process,gt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),kt=gt&&gt.isArrayBuffer,bt=gt&&gt.isDate,wt=gt&&gt.isMap,xt=gt&&gt.isRegExp,Et=gt&&gt.isSet,It=gt&&gt.isTypedArray;function _t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Ot(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Qt("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Bt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,zt,n)}function qt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function zt(e){return e!==e}function Kt(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:v}function Qt(e){return function(t){return null==t?i:t[e]}}function Wt(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Ht(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,vn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function Xt(e,t){return Rt(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Wt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function un(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return un(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ut(e)}function pn(e){return un(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var mn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?dt:yn.defaults(dt.Object(),t,yn.pick(dt,it))).Array,r=t.Date,ue=t.Error,Ie=t.Function,_e=t.Math,Te=t.Object,Se=t.RegExp,Ae=t.String,Ne=t.TypeError,Ce=n.prototype,Oe=Ie.prototype,Pe=Te.prototype,Re=t["__core-js_shared__"],De=Oe.toString,Le=Pe.hasOwnProperty,Me=0,Fe=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Pe.toString,je=De.call(Te),Ve=dt._,Be=Se("^"+De.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=mt?t.Buffer:i,ze=t.Symbol,Ke=t.Uint8Array,Qe=qe?qe.allocUnsafe:i,We=cn(Te.getPrototypeOf,Te),Ge=Te.create,He=Pe.propertyIsEnumerable,Ye=Ce.splice,Ze=ze?ze.isConcatSpreadable:i,Je=ze?ze.iterator:i,et=ze?ze.toStringTag:i,nt=function(){try{var e=ha(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=r&&r.now!==dt.Date.now&&r.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=_e.ceil,vt=_e.floor,yt=Te.getOwnPropertySymbols,gt=qe?qe.isBuffer:i,Ut=t.isFinite,Wt=Ce.join,gn=cn(Te.keys,Te),kn=_e.max,bn=_e.min,wn=r.now,xn=t.parseInt,En=_e.random,In=Ce.reverse,_n=ha(t,"DataView"),Tn=ha(t,"Map"),Sn=ha(t,"Promise"),An=ha(t,"Set"),Nn=ha(t,"WeakMap"),Cn=ha(Te,"create"),On=Nn&&new Nn,Pn={},Rn=ja(_n),Dn=ja(Tn),Ln=ja(Sn),Mn=ja(An),Fn=ja(Nn),Un=ze?ze.prototype:i,jn=Un?Un.valueOf:i,Vn=Un?Un.toString:i;function Bn(e){if(ru(e)&&!Wo(e)&&!(e instanceof Qn)){if(e instanceof Kn)return e;if(Le.call(e,"__wrapped__"))return Va(e)}return new Kn(e)}var qn=function(){function e(){}return function(t){if(!nu(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Jn(e,t){var n=Wo(e),r=!n&&Qo(e),i=!n&&!r&&Zo(e),a=!n&&!r&&!i&&fu(e),o=n||r||i||a,u=o?Yt(e.length,Ae):[],s=u.length;for(var c in e)!t&&!Le.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ka(c,s))||u.push(c);return u}function Xn(e){var t=e.length;return t?e[Yr(0,t-1)]:i}function $n(e,t){return Ma(Ci(e),sr(t,0,e.length))}function er(e){return Ma(Ci(e))}function tr(e,t,n){(n!==i&&!qo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&qo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(qo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Oi(t,Ru(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Au(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=Wo(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ci(e,u)}else{var h=va(e),d=h==E||h==I;if(Zo(e))return Ii(e,s);if(h==S||h==g||d&&!a){if(u=c||d?{}:ya(e),!s)return c?function(e,t){return Oi(e,pa(e),t)}(e,function(e,t){return e&&Oi(t,Du(t),e)}(u,e)):function(e,t){return Oi(e,da(e),t)}(e,ar(u,e))}else{if(!ut[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case D:return _i(e);case b:case w:return new r(+e);case L:return function(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case F:case U:case j:case V:case B:case q:case z:case K:return Ti(e,n);case _:return new r;case T:case O:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new r;case P:return i=e,jn?Te(jn.call(i)):{}}var i}(e,h,s)}}o||(o=new Zn);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,o))})):iu(e)&&e.forEach((function(r,i){u.set(i,cr(r,t,n,i,e,o))}));var v=f?i:(l?c?aa:ia:c?Du:Ru)(e);return St(v||e,(function(r,i){v&&(r=e[i=r]),nr(u,i,cr(r,t,n,i,e,o))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ne(a);return Pa((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Ot,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Rt(t,Jt(n))),r?(a=Pt,o=!1):t.length>=200&&(a=$t,o=!1,t=new Yn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s}Bn.templateSettings={escape:X,evaluate:$,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,Kn.prototype=qn(zn.prototype),Kn.prototype.constructor=Kn,Qn.prototype=qn(zn.prototype),Qn.prototype.constructor=Qn,Wn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Wn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==i:Le.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===i?o:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Tn||Gn),string:new Wn}},Hn.prototype.delete=function(e){var t=la(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return la(this,e).get(e)},Hn.prototype.has=function(e){return la(this,e).has(e)},Hn.prototype.set=function(e,t){var n=la(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,o),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var dr=Di(wr),pr=Di(xr,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!lu(u):n(u,s)))var s=u,c=o}return c}function yr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ga),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?gr(u,t-1,n,r,i):Dt(i,u):r||(i[i.length]=u)}return i}var kr=Li(),br=Li(!0);function wr(e,t){return e&&kr(e,t,Ru)}function xr(e,t){return e&&br(e,t,Ru)}function Er(e,t){return Ct(t,(function(t){return $o(e[t])}))}function Ir(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Ua(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return Wo(e)?r:Dt(r,n(e))}function Tr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Te(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(o){}var a=Ue.call(e);r&&(t?e[et]=n:delete e[et]);return a}(e):function(e){return Ue.call(e)}(e)}function Sr(e,t){return e>t}function Ar(e,t){return null!=e&&Le.call(e,t)}function Nr(e,t){return null!=e&&t in Te(e)}function Cr(e,t,r){for(var a=r?Pt:Ot,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Rt(h,Jt(t))),l=bn(h.length,l),c[s]=!r&&(t||o>=120&&h.length>=120)?new Yn(s&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&f.length<l;){var v=h[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?$t(p,m):a(f,m,r))){for(s=u;--s;){var y=c[s];if(!(y?$t(y,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Or(e,t,n){var r=null==(e=Aa(e,t=bi(t,e)))?e:e[Ua(Ja(t))];return null==r?i:_t(r,e,n)}function Pr(e){return ru(e)&&Tr(e)==g}function Rr(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Wo(e),s=Wo(t),c=u?k:va(e),l=s?k:va(t),f=(c=c==g?S:c)==S,h=(l=l==g?S:l)==S,d=c==l;if(d&&Zo(e)){if(!Zo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Zn),u||fu(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!a(new Ke(e),new Ke(t)));case b:case w:case T:return qo(+e,+t);case x:return e.name==t.name&&e.message==t.message;case N:case O:return e==t+"";case _:var u=sn;case C:var s=1&r;if(u||(u=fn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=na(u(e),u(t),r,i,a,o);return o.delete(e),l;case P:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Le.call(e,"__wrapped__"),v=h&&Le.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,y=v?t.value():t;return o||(o=new Zn),a(m,y,n,r,o)}}if(!d)return!1;return o||(o=new Zn),function(e,t,n,r,a,o){var u=1&n,s=ia(e),c=s.length,l=ia(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var h=s[f];if(!(u?h in t:Le.call(t,h)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var m=u;for(;++f<c;){var y=e[h=s[f]],g=t[h];if(r)var k=u?r(g,y,h,t,e,o):r(y,g,h,e,t,o);if(!(k===i?y===g||a(y,g,n,r,o):k)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Rr,a))}function Dr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Te(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var h=new Zn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Rr(f,l,3,r,h):d))return!1}}return!0}function Lr(e){return!(!nu(e)||(t=e,Fe&&Fe in t))&&($o(e)?Be:ge).test(ja(e));var t}function Mr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Wo(e)?qr(e[0],e[1]):Br(e):ps(e)}function Fr(e){if(!Ia(e))return gn(e);var t=[];for(var n in Te(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ia(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Vr(e,t){var r=-1,i=Ho(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Br(e){var t=fa(e);return 1==t.length&&t[0][2]?Ta(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function qr(e,t){return wa(e)&&_a(t)?Ta(Ua(e),t):function(n){var r=Au(n,e);return r===i&&r===t?Nu(n,e):Rr(t,r,3)}}function zr(e,t,n,r,a){e!==t&&kr(t,(function(o,u){if(a||(a=new Zn),nu(o))!function(e,t,n,r,a,o,u){var s=Ca(e,n),c=Ca(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,h=f===i;if(h){var d=Wo(c),p=!d&&Zo(c),v=!d&&!p&&fu(c);f=c,d||p||v?Wo(s)?f=s:Yo(s)?f=Ci(s):p?(h=!1,f=Ii(c,!0)):v?(h=!1,f=Ti(c,!0)):f=[]:ou(c)||Qo(c)?(f=s,Qo(s)?f=ku(s):nu(s)&&!$o(s)||(f=ya(c))):h=!1}h&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));tr(e,n,f)}(e,t,u,n,zr,r,a);else{var s=r?r(Ca(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Du)}function Kr(e,t){var n=e.length;if(n)return ka(t+=t<0?n:0,n)?e[t]:i}function Qr(e,t,n){t=t.length?Rt(t,(function(e){return Wo(e)?function(t){return Ir(t,1===e.length?e[0]:e)}:e})):[as];var r=-1;t=Rt(t,Jt(ca()));var i=Vr(e,(function(e,n,i){var a=Rt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Si(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Ir(e,o);n(u,o)&&ei(a,bi(o,e),u)}return a}function Gr(e,t,n,r){var i=r?qt:Bt,a=-1,o=t.length,u=e;for(e===t&&(t=Ci(t)),n&&(u=Rt(e,Jt(n)));++a<o;)for(var s=0,c=t[a],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&Ye.call(u,s,1),Ye.call(e,s,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ka(i)?Ye.call(e,i,1):hi(e,i)}}return e}function Yr(e,t){return e+vt(En()*(t-e+1))}function Zr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Ra(Sa(e,t,as),e+"")}function Xr(e){return Xn(qu(e))}function $r(e,t){var n=qu(e);return Ma(n,sr(t,0,n.length))}function ei(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=bi(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=Ua(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=nu(f)?f:ka(t[a+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var ti=On?function(e,t){return On.set(e,t),e}:as,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:as;function ri(e){return Ma(qu(e))}function ii(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!lu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ui(e,t,as,n)}function ui(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=lu(t),l=t===i;a<o;){var f=vt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,m=lu(h);if(u)var y=r||v;else y=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);y?a=f+1:o=f}return bn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!qo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:lu(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Wo(e))return Rt(e,li)+"";if(lu(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Ot,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Pt;else if(a>=200){var c=t?null:Zi(e);if(c)return fn(c);o=!1,i=$t,s=new Yn}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function hi(e,t){return null==(e=Aa(e,t=bi(t,e)))||delete e[Ua(Ja(t))]}function di(e,t,n,r){return ei(e,t,n(Ir(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function vi(e,t){var n=e;return n instanceof Qn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=hr(o[a]||u,e[s],t,r));return fi(gr(o,1),t,r)}function yi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function gi(e){return Yo(e)?e:[]}function ki(e){return"function"==typeof e?e:as}function bi(e,t){return Wo(e)?e:wa(e,t)?[e]:Fa(bu(e))}var wi=Jr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Ei=st||function(e){return dt.clearTimeout(e)};function Ii(e,t){if(t)return e.slice();var n=e.length,r=Qe?Qe(n):new e.constructor(n);return e.copy(r),r}function _i(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Ti(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=lu(e),u=t!==i,s=null===t,c=t===t,l=lu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Ai(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,c=t.length,l=kn(o-u,0),f=n(c+l),h=!i;++s<c;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[s++]=e[a++];return f}function Ni(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=kn(o-s,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Ci(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Oi(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?or(n,s,c):nr(n,s,c)}return n}function Pi(e,t){return function(n,r){var i=Wo(n)?Tt:ir,a=t?t():{};return i(n,e,ca(r,2),a)}}function Ri(e){return Jr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&ba(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Te(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Ho(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Te(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Li(e){return function(t,n,r){for(var i=-1,a=Te(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Mi(e){return function(t){var n=un(t=bu(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?xi(n,1).join(""):t.slice(1);return r[e]()+a}}function Fi(e){return function(t){return Lt($u(Qu(t).replace(Xe,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function ji(e){return function(t,n,r){var a=Te(t);if(!Ho(t)){var o=ca(n,3);t=Ru(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function Vi(e){return ra((function(t){var n=t.length,r=n,o=Kn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ne(a);if(o&&!s&&"wrapper"==ua(u))var s=new Kn([],!0)}for(r=s?r:n;++r<n;){var c=ua(u=t[r]),l="wrapper"==c?oa(u):i;s=l&&xa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[ua(l[0])].apply(s,l[3]):1==u.length&&xa(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Wo(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Bi(e,t,r,a,o,u,s,c,l,h){var d=t&f,p=1&t,v=2&t,m=24&t,y=512&t,g=v?i:Ui(e);return function i(){for(var f=arguments.length,k=n(f),b=f;b--;)k[b]=arguments[b];if(m)var w=sa(i),x=nn(k,w);if(a&&(k=Ai(k,a,o,m)),u&&(k=Ni(k,u,s,m)),f-=x,m&&f<h){var E=ln(k,w);return Hi(e,t,Bi,i.placeholder,r,k,E,c,l,h-f)}var I=p?r:this,_=v?I[e]:e;return f=k.length,c?k=Na(k,c):y&&f>1&&k.reverse(),d&&l<f&&(k.length=l),this&&this!==dt&&this instanceof i&&(_=g||Ui(_)),_.apply(I,k)}}function qi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Ki(e){return ra((function(t){return t=Rt(t,Jt(ca())),Jr((function(n){var r=this;return e(t,(function(e){return _t(e,r,n)}))}))}))}function Qi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,pt(e/dn(t)));return un(t)?xi(pn(r),0,e).join(""):r.slice(0,e)}function Wi(e){return function(t,r,a){return a&&"number"!=typeof a&&ba(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,i){for(var a=-1,o=kn(pt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function Gi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gu(t),n=gu(n)),e(t,n)}}function Hi(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return xa(e)&&Oa(v,p),v.placeholder=r,Da(v,e,t)}function Yi(e){var t=_e[e];return function(e,n){if(e=gu(e),(n=null==n?0:bn(mu(n),292))&&Ut(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Zi=An&&1/fn(new An([,-0]))[1]==d?function(e){return new An(e)}:ls;function Ji(e){return function(t){var n=va(t);return n==_?sn(t):n==C?hn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,r,o,d,p,v,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ne(a);var g=o?o.length:0;if(g||(t&=-97,o=d=i),v=v===i?v:kn(mu(v),0),m=m===i?m:mu(m),g-=d?d.length:0,t&l){var k=o,b=d;o=d=i}var w=y?i:oa(e),x=[e,t,r,o,d,k,b,p,v,m];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ai(c,s,t[4]):s,e[4]=c?ln(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ni(c,s,t[6]):s,e[6]=c?ln(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(x,w),e=x[0],t=x[1],r=x[2],o=x[3],d=x[4],!(m=x[9]=x[9]===i?y?0:e.length:kn(x[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==s?function(e,t,r){var a=Ui(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=sa(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:ln(s,l);return(u-=f.length)<r?Hi(e,t,Bi,o.placeholder,i,s,f,i,i,r-u):_t(this&&this!==dt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=c&&33!=t||d.length?Bi.apply(i,x):function(e,t,r,i){var a=1&t,o=Ui(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),h=this&&this!==dt&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return _t(h,a?r:this,f)}}(e,t,r,o);else var E=function(e,t,n){var r=1&t,i=Ui(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Da((w?ti:Oa)(E,x),e,t)}function $i(e,t,n,r){return e===i||qo(e,Pe[n])&&!Le.call(r,n)?t:e}function ea(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),zr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return ou(e)?i:e}function na(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Yn:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],m=t[h];if(r)var y=u?r(m,v,h,t,e,o):r(v,m,h,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!Ft(t,(function(e,t){if(!$t(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ra(e){return Ra(Sa(e,i,Wa),e+"")}function ia(e){return _r(e,Ru,da)}function aa(e){return _r(e,Du,pa)}var oa=On?function(e){return On.get(e)}:ls;function ua(e){for(var t=e.name+"",n=Pn[t],r=Le.call(Pn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function ca(){var e=Bn.iteratee||os;return e=e===os?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function la(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fa(e){for(var t=Ru(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_a(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var da=yt?function(e){return null==e?[]:(e=Te(e),Ct(yt(e),(function(t){return He.call(e,t)})))}:ys,pa=yt?function(e){for(var t=[];e;)Dt(t,da(e)),e=We(e);return t}:ys,va=Tr;function ma(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=Ua(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&tu(i)&&ka(o,i)&&(Wo(e)||Qo(e))}function ya(e){return"function"!=typeof e.constructor||Ia(e)?{}:qn(We(e))}function ga(e){return Wo(e)||Qo(e)||!!(Ze&&e&&e[Ze])}function ka(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?Ho(n)&&ka(t,n.length):"string"==r&&t in n)&&qo(n[t],e)}function wa(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function xa(e){var t=ua(e),n=Bn[t];if("function"!=typeof n||!(t in Qn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(_n&&va(new _n(new ArrayBuffer(1)))!=L||Tn&&va(new Tn)!=_||Sn&&va(Sn.resolve())!=A||An&&va(new An)!=C||Nn&&va(new Nn)!=R)&&(va=function(e){var t=Tr(e),n=t==S?e.constructor:i,r=n?ja(n):"";if(r)switch(r){case Rn:return L;case Dn:return _;case Ln:return A;case Mn:return C;case Fn:return R}return t});var Ea=Re?$o:gs;function Ia(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function _a(e){return e===e&&!nu(e)}function Ta(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Te(n)))}}function Sa(e,t,r){return t=kn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=kn(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),_t(e,this,s)}}function Aa(e,t){return t.length<2?e:Ir(e,ii(t,0,-1))}function Na(e,t){for(var n=e.length,r=bn(t.length,n),a=Ci(e);r--;){var o=t[r];e[r]=ka(o,n)?a[o]:i}return e}function Ca(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Oa=La(ti),Pa=ht||function(e,t){return dt.setTimeout(e,t)},Ra=La(ni);function Da(e,t,n){var r=t+"";return Ra(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(y,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function La(e){var t=0,n=0;return function(){var r=wn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ma(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Yr(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var Fa=function(e){var t=Mo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Ua(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ja(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Va(e){if(e instanceof Qn)return e.clone();var t=new Kn(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ba=Jr((function(e,t){return Yo(e)?hr(e,gr(t,1,Yo,!0)):[]})),qa=Jr((function(e,t){var n=Ja(t);return Yo(n)&&(n=i),Yo(e)?hr(e,gr(t,1,Yo,!0),ca(n,2)):[]})),za=Jr((function(e,t){var n=Ja(t);return Yo(n)&&(n=i),Yo(e)?hr(e,gr(t,1,Yo,!0),i,n):[]}));function Ka(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=kn(r+i,0)),Vt(e,ca(t,3),i)}function Qa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=mu(n),a=n<0?kn(r+a,0):bn(a,r-1)),Vt(e,ca(t,3),a,!0)}function Wa(e){return(null==e?0:e.length)?gr(e,1):[]}function Ga(e){return e&&e.length?e[0]:i}var Ha=Jr((function(e){var t=Rt(e,gi);return t.length&&t[0]===e[0]?Cr(t):[]})),Ya=Jr((function(e){var t=Ja(e),n=Rt(e,gi);return t===Ja(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Cr(n,ca(t,2)):[]})),Za=Jr((function(e){var t=Ja(e),n=Rt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,i,t):[]}));function Ja(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xa=Jr($a);function $a(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Hr(e,Rt(t,(function(e){return ka(e,n)?+e:e})).sort(Si)),r}));function to(e){return null==e?e:In.call(e)}var no=Jr((function(e){return fi(gr(e,1,Yo,!0))})),ro=Jr((function(e){var t=Ja(e);return Yo(t)&&(t=i),fi(gr(e,1,Yo,!0),ca(t,2))})),io=Jr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,fi(gr(e,1,Yo,!0),i,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,(function(e){if(Yo(e))return t=kn(e.length,t),!0})),Yt(t,(function(t){return Rt(e,Qt(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=ao(e);return null==t?n:Rt(n,(function(e){return _t(t,i,e)}))}var uo=Jr((function(e,t){return Yo(e)?hr(e,t):[]})),so=Jr((function(e){return mi(Ct(e,Yo))})),co=Jr((function(e){var t=Ja(e);return Yo(t)&&(t=i),mi(Ct(e,Yo),ca(t,2))})),lo=Jr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,mi(Ct(e,Yo),i,t)})),fo=Jr(ao);var ho=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=Bn(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var mo=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Qn&&ka(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new Kn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var yo=Pi((function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)}));var go=ji(Ka),ko=ji(Qa);function bo(e,t){return(Wo(e)?St:dr)(e,ca(t,3))}function wo(e,t){return(Wo(e)?At:pr)(e,ca(t,3))}var xo=Pi((function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])}));var Eo=Jr((function(e,t,r){var i=-1,a="function"==typeof t,o=Ho(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?_t(t,e,r):Or(e,t,r)})),o})),Io=Pi((function(e,t,n){or(e,n,t)}));function _o(e,t){return(Wo(e)?Rt:Vr)(e,ca(t,3))}var To=Pi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var So=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Qr(e,gr(t,1),[])})),Ao=ft||function(){return dt.Date.now()};function No(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,f,i,i,i,i,t)}function Co(e,t){var n;if("function"!=typeof t)throw new Ne(a);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Oo=Jr((function(e,t,n){var r=1;if(n.length){var i=ln(n,sa(Oo));r|=c}return Xi(e,r,t,n,i)})),Po=Jr((function(e,t,n){var r=3;if(n.length){var i=ln(n,sa(Po));r|=c}return Xi(t,r,e,n,i)}));function Ro(e,t,n){var r,o,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ne(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function m(e){return f=e,c=Pa(g,t),h?v(e):s}function y(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=u}function g(){var e=Ao();if(y(e))return k(e);c=Pa(g,function(e){var n=t-(e-l);return d?bn(n,u-(e-f)):n}(e))}function k(e){return c=i,p&&r?v(e):(r=o=i,s)}function b(){var e=Ao(),n=y(e);if(r=arguments,o=this,l=e,n){if(c===i)return m(l);if(d)return Ei(c),c=Pa(g,t),v(l)}return c===i&&(c=Pa(g,t)),s}return t=gu(t)||0,nu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?kn(gu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&Ei(c),f=0,r=l=o=c=i},b.flush=function(){return c===i?s:k(Ao())},b}var Do=Jr((function(e,t){return fr(e,1,t)})),Lo=Jr((function(e,t,n){return fr(e,gu(t)||0,n)}));function Mo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Mo.Cache||Hn),n}function Fo(e){if("function"!=typeof e)throw new Ne(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Mo.Cache=Hn;var Uo=wi((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Rt(t[0],Jt(ca())):Rt(gr(t,1),Jt(ca()))).length;return Jr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return _t(e,this,r)}))})),jo=Jr((function(e,t){var n=ln(t,sa(jo));return Xi(e,c,i,t,n)})),Vo=Jr((function(e,t){var n=ln(t,sa(Vo));return Xi(e,l,i,t,n)})),Bo=ra((function(e,t){return Xi(e,h,i,i,i,t)}));function qo(e,t){return e===t||e!==e&&t!==t}var zo=Gi(Sr),Ko=Gi((function(e,t){return e>=t})),Qo=Pr(function(){return arguments}())?Pr:function(e){return ru(e)&&Le.call(e,"callee")&&!He.call(e,"callee")},Wo=n.isArray,Go=kt?Jt(kt):function(e){return ru(e)&&Tr(e)==D};function Ho(e){return null!=e&&tu(e.length)&&!$o(e)}function Yo(e){return ru(e)&&Ho(e)}var Zo=gt||gs,Jo=bt?Jt(bt):function(e){return ru(e)&&Tr(e)==w};function Xo(e){if(!ru(e))return!1;var t=Tr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function $o(e){if(!nu(e))return!1;var t=Tr(e);return t==E||t==I||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==mu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var iu=wt?Jt(wt):function(e){return ru(e)&&va(e)==_};function au(e){return"number"==typeof e||ru(e)&&Tr(e)==T}function ou(e){if(!ru(e)||Tr(e)!=S)return!1;var t=We(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==je}var uu=xt?Jt(xt):function(e){return ru(e)&&Tr(e)==N};var su=Et?Jt(Et):function(e){return ru(e)&&va(e)==C};function cu(e){return"string"==typeof e||!Wo(e)&&ru(e)&&Tr(e)==O}function lu(e){return"symbol"==typeof e||ru(e)&&Tr(e)==P}var fu=It?Jt(It):function(e){return ru(e)&&tu(e.length)&&!!ot[Tr(e)]};var hu=Gi(jr),du=Gi((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Ho(e))return cu(e)?pn(e):Ci(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=va(e);return(t==_?sn:t==C?fn:qu)(e)}function vu(e){return e?(e=gu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function mu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function yu(e){return e?sr(mu(e),0,m):0}function gu(e){if("number"==typeof e)return e;if(lu(e))return v;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ye.test(e);return n||ke.test(e)?lt(e.slice(2),n?2:8):me.test(e)?v:+e}function ku(e){return Oi(e,Du(e))}function bu(e){return null==e?"":li(e)}var wu=Ri((function(e,t){if(Ia(t)||Ho(t))Oi(t,Ru(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),xu=Ri((function(e,t){Oi(t,Du(t),e)})),Eu=Ri((function(e,t,n,r){Oi(t,Du(t),e,r)})),Iu=Ri((function(e,t,n,r){Oi(t,Ru(t),e,r)})),_u=ra(ur);var Tu=Jr((function(e,t){e=Te(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Du(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||qo(f,Pe[l])&&!Le.call(e,l))&&(e[l]=o[l])}return e})),Su=Jr((function(e){return e.push(i,ea),_t(Mu,i,e)}));function Au(e,t,n){var r=null==e?i:Ir(e,t);return r===i?n:r}function Nu(e,t){return null!=e&&ma(e,t,Nr)}var Cu=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),ns(as)),Ou=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Pu=Jr(Or);function Ru(e){return Ho(e)?Jn(e):Fr(e)}function Du(e){return Ho(e)?Jn(e,!0):Ur(e)}var Lu=Ri((function(e,t,n){zr(e,t,n)})),Mu=Ri((function(e,t,n,r){zr(e,t,n,r)})),Fu=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Oi(e,aa(e),n),r&&(n=cr(n,7,ta));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Uu=ra((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return Nu(e,n)}))}(e,t)}));function ju(e,t){if(null==e)return{};var n=Rt(aa(e),(function(e){return[e]}));return t=ca(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var Vu=Ji(Ru),Bu=Ji(Du);function qu(e){return null==e?[]:Xt(e,Ru(e))}var zu=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ku(t):t)}));function Ku(e){return Xu(bu(e).toLowerCase())}function Qu(e){return(e=bu(e))&&e.replace(we,rn).replace($e,"")}var Wu=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gu=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Hu=Mi("toLowerCase");var Yu=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Zu=Fi((function(e,t,n){return e+(n?" ":"")+Xu(t)}));var Ju=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=Mi("toUpperCase");function $u(e,t,n){return e=bu(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var es=Jr((function(e,t){try{return _t(e,i,t)}catch(n){return Xo(n)?n:new ue(n)}})),ts=ra((function(e,t){return St(t,(function(t){t=Ua(t),or(e,t,Oo(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=Vi(),is=Vi(!0);function as(e){return e}function os(e){return Mr("function"==typeof e?e:cr(e,1))}var us=Jr((function(e,t){return function(n){return Or(n,e,t)}})),ss=Jr((function(e,t){return function(n){return Or(e,n,t)}}));function cs(e,t,n){var r=Ru(t),i=Er(t,r);null!=n||nu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Ru(t)));var a=!(nu(n)&&"chain"in n)||!!n.chain,o=$o(e);return St(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Ci(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function ls(){}var fs=Ki(Rt),hs=Ki(Nt),ds=Ki(Ft);function ps(e){return wa(e)?Qt(Ua(e)):function(e){return function(t){return Ir(t,e)}}(e)}var vs=Wi(),ms=Wi(!0);function ys(){return[]}function gs(){return!1}var ks=zi((function(e,t){return e+t}),0),bs=Yi("ceil"),ws=zi((function(e,t){return e/t}),1),xs=Yi("floor");var Es=zi((function(e,t){return e*t}),1),Is=Yi("round"),_s=zi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ne(a);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=No,Bn.assign=wu,Bn.assignIn=xu,Bn.assignInWith=Eu,Bn.assignWith=Iu,Bn.at=_u,Bn.before=Co,Bn.bind=Oo,Bn.bindAll=ts,Bn.bindKey=Po,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Bn.chain=po,Bn.chunk=function(e,t,r){t=(r?ba(e,t,r):t===i)?1:kn(mu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(pt(a/t));o<a;)s[u++]=ii(e,o,o+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Wo(r)?Ci(r):[r],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ne(a);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(_t(i[0],this,n))return _t(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ru(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Bn.constant=ns,Bn.countBy=yo,Bn.create=function(e,t){var n=qn(e);return null==t?n:ar(n,t)},Bn.curry=function e(t,n,r){var a=Xi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.curryRight=function e(t,n,r){var a=Xi(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.debounce=Ro,Bn.defaults=Tu,Bn.defaultsDeep=Su,Bn.defer=Do,Bn.delay=Lo,Bn.difference=Ba,Bn.differenceBy=qa,Bn.differenceWith=za,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:mu(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:mu(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0):[]},Bn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=mu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:mu(r))<0&&(r+=a),r=n>r?0:yu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Wo(e)?Ct:yr)(e,ca(t,3))},Bn.flatMap=function(e,t){return gr(_o(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(_o(e,t),d)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:mu(n),gr(_o(e,t),n)},Bn.flatten=Wa,Bn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:mu(t)):[]},Bn.flip=function(e){return Xi(e,512)},Bn.flow=rs,Bn.flowRight=is,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:Er(e,Ru(e))},Bn.functionsIn=function(e){return null==e?[]:Er(e,Du(e))},Bn.groupBy=xo,Bn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Bn.intersection=Ha,Bn.intersectionBy=Ya,Bn.intersectionWith=Za,Bn.invert=Cu,Bn.invertBy=Ou,Bn.invokeMap=Eo,Bn.iteratee=os,Bn.keyBy=Io,Bn.keys=Ru,Bn.keysIn=Du,Bn.map=_o,Bn.mapKeys=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(cr(e,1))},Bn.matchesProperty=function(e,t){return qr(e,cr(t,1))},Bn.memoize=Mo,Bn.merge=Lu,Bn.mergeWith=Mu,Bn.method=us,Bn.methodOf=ss,Bn.mixin=cs,Bn.negate=Fo,Bn.nthArg=function(e){return e=mu(e),Jr((function(t){return Kr(t,e)}))},Bn.omit=Fu,Bn.omitBy=function(e,t){return ju(e,Fo(ca(t)))},Bn.once=function(e){return Co(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(n=r?i:n)||(n=null==n?[]:[n]),Qr(e,t,n))},Bn.over=fs,Bn.overArgs=Uo,Bn.overEvery=hs,Bn.overSome=ds,Bn.partial=jo,Bn.partialRight=Vo,Bn.partition=To,Bn.pick=Uu,Bn.pickBy=ju,Bn.property=ps,Bn.propertyOf=function(e){return function(t){return null==e?i:Ir(e,t)}},Bn.pull=Xa,Bn.pullAll=$a,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,ca(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,i,n):e},Bn.pullAt=eo,Bn.range=vs,Bn.rangeRight=ms,Bn.rearg=Bo,Bn.reject=function(e,t){return(Wo(e)?Ct:yr)(e,Fo(ca(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Hr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ne(a);return Jr(e,t=t===i?t:mu(t))},Bn.reverse=to,Bn.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:mu(t),(Wo(e)?$n:$r)(e,t)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Bn.shuffle=function(e){return(Wo(e)?er:ri)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:mu(t),n=n===i?r:mu(n)),ii(e,t,n)):[]},Bn.sortBy=So,Bn.sortedUniq=function(e){return e&&e.length?si(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?si(e,ca(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=li(t))&&un(e)?xi(pn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ne(a);return t=null==t?0:kn(mu(t),0),Jr((function(n){var r=n[t],i=xi(n,0,t);return r&&Dt(i,r),_t(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:mu(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:mu(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?pi(e,ca(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ne(a);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ro(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=vo,Bn.toArray=pu,Bn.toPairs=Vu,Bn.toPairsIn=Bu,Bn.toPath=function(e){return Wo(e)?Rt(e,Ua):lu(e)?[e]:Ci(Fa(bu(e)))},Bn.toPlainObject=ku,Bn.transform=function(e,t,n){var r=Wo(e),i=r||Zo(e)||fu(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:nu(e)&&$o(a)?qn(We(e)):{}}return(i?St:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return No(e,1)},Bn.union=no,Bn.unionBy=ro,Bn.unionWith=io,Bn.uniq=function(e){return e&&e.length?fi(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?fi(e,ca(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Bn.unset=function(e,t){return null==e||hi(e,t)},Bn.unzip=ao,Bn.unzipWith=oo,Bn.update=function(e,t,n){return null==e?e:di(e,t,ki(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,ki(n),r)},Bn.values=qu,Bn.valuesIn=function(e){return null==e?[]:Xt(e,Du(e))},Bn.without=uo,Bn.words=$u,Bn.wrap=function(e,t){return jo(ki(t),e)},Bn.xor=so,Bn.xorBy=co,Bn.xorWith=lo,Bn.zip=fo,Bn.zipObject=function(e,t){return yi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ei)},Bn.zipWith=ho,Bn.entries=Vu,Bn.entriesIn=Bu,Bn.extend=xu,Bn.extendWith=Eu,cs(Bn,Bn),Bn.add=ks,Bn.attempt=es,Bn.camelCase=zu,Bn.capitalize=Ku,Bn.ceil=bs,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gu(n))===n?n:0),t!==i&&(t=(t=gu(t))===t?t:0),sr(gu(e),t,n)},Bn.clone=function(e){return cr(e,4)},Bn.cloneDeep=function(e){return cr(e,5)},Bn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Ru(t))},Bn.deburr=Qu,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=ws,Bn.endsWith=function(e,t,n){e=bu(e),t=li(t);var r=e.length,a=n=n===i?r:sr(mu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Bn.eq=qo,Bn.escape=function(e){return(e=bu(e))&&J.test(e)?e.replace(Y,an):e},Bn.escapeRegExp=function(e){return(e=bu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Wo(e)?Nt:vr;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},Bn.find=go,Bn.findIndex=Ka,Bn.findKey=function(e,t){return jt(e,ca(t,3),wr)},Bn.findLast=ko,Bn.findLastIndex=Qa,Bn.findLastKey=function(e,t){return jt(e,ca(t,3),xr)},Bn.floor=xs,Bn.forEach=bo,Bn.forEachRight=wo,Bn.forIn=function(e,t){return null==e?e:kr(e,ca(t,3),Du)},Bn.forInRight=function(e,t){return null==e?e:br(e,ca(t,3),Du)},Bn.forOwn=function(e,t){return e&&wr(e,ca(t,3))},Bn.forOwnRight=function(e,t){return e&&xr(e,ca(t,3))},Bn.get=Au,Bn.gt=zo,Bn.gte=Ko,Bn.has=function(e,t){return null!=e&&ma(e,t,Ar)},Bn.hasIn=Nu,Bn.head=Ga,Bn.identity=as,Bn.includes=function(e,t,n,r){e=Ho(e)?e:qu(e),n=n&&!r?mu(n):0;var i=e.length;return n<0&&(n=kn(i+n,0)),cu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=kn(r+i,0)),Bt(e,t,i)},Bn.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=bn(t,n)&&e<kn(t,n)}(e=gu(e),t,n)},Bn.invoke=Pu,Bn.isArguments=Qo,Bn.isArray=Wo,Bn.isArrayBuffer=Go,Bn.isArrayLike=Ho,Bn.isArrayLikeObject=Yo,Bn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Tr(e)==b},Bn.isBuffer=Zo,Bn.isDate=Jo,Bn.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ho(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Zo(e)||fu(e)||Qo(e)))return!e.length;var t=va(e);if(t==_||t==C)return!e.size;if(Ia(e))return!Fr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Rr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Bn.isError=Xo,Bn.isFinite=function(e){return"number"==typeof e&&Ut(e)},Bn.isFunction=$o,Bn.isInteger=eu,Bn.isLength=tu,Bn.isMap=iu,Bn.isMatch=function(e,t){return e===t||Dr(e,t,fa(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,fa(t),n)},Bn.isNaN=function(e){return au(e)&&e!=+e},Bn.isNative=function(e){if(Ea(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=au,Bn.isObject=nu,Bn.isObjectLike=ru,Bn.isPlainObject=ou,Bn.isRegExp=uu,Bn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=su,Bn.isString=cu,Bn.isSymbol=lu,Bn.isTypedArray=fu,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return ru(e)&&va(e)==R},Bn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Tr(e)},Bn.join=function(e,t){return null==e?"":Wt.call(e,t)},Bn.kebabCase=Wu,Bn.last=Ja,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=mu(n))<0?kn(r+a,0):bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,zt,a,!0)},Bn.lowerCase=Gu,Bn.lowerFirst=Hu,Bn.lt=hu,Bn.lte=du,Bn.max=function(e){return e&&e.length?mr(e,as,Sr):i},Bn.maxBy=function(e,t){return e&&e.length?mr(e,ca(t,2),Sr):i},Bn.mean=function(e){return Kt(e,as)},Bn.meanBy=function(e,t){return Kt(e,ca(t,2))},Bn.min=function(e){return e&&e.length?mr(e,as,jr):i},Bn.minBy=function(e,t){return e&&e.length?mr(e,ca(t,2),jr):i},Bn.stubArray=ys,Bn.stubFalse=gs,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Es,Bn.nth=function(e,t){return e&&e.length?Kr(e,mu(t)):i},Bn.noConflict=function(){return dt._===this&&(dt._=Ve),this},Bn.noop=ls,Bn.now=Ao,Bn.pad=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Qi(vt(i),n)+e+Qi(pt(i),n)},Bn.padEnd=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?e+Qi(t-r,n):e},Bn.padStart=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?Qi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(bu(e).replace(oe,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=En();return bn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return Yr(e,t)},Bn.reduce=function(e,t,n){var r=Wo(e)?Lt:Gt,i=arguments.length<3;return r(e,ca(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Wo(e)?Mt:Gt,i=arguments.length<3;return r(e,ca(t,4),n,i,pr)},Bn.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:mu(t),Zr(bu(e),t)},Bn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Ua(t[r])];o===i&&(r=a,o=n),e=$o(o)?o.call(e):o}return e},Bn.round=Is,Bn.runInContext=e,Bn.sample=function(e){return(Wo(e)?Xn:Xr)(e)},Bn.size=function(e){if(null==e)return 0;if(Ho(e))return cu(e)?dn(e):e.length;var t=va(e);return t==_||t==C?e.size:Fr(e).length},Bn.snakeCase=Yu,Bn.some=function(e,t,n){var r=Wo(e)?Ft:ai;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},Bn.sortedIndex=function(e,t){return oi(e,t)},Bn.sortedIndexBy=function(e,t,n){return ui(e,t,ca(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&qo(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ui(e,t,ca(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(qo(e[n],t))return n}return-1},Bn.startCase=Zu,Bn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:sr(mu(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Bn.subtract=_s,Bn.sum=function(e){return e&&e.length?Ht(e,as):0},Bn.sumBy=function(e,t){return e&&e.length?Ht(e,ca(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&ba(e,t,n)&&(t=i),e=bu(e),t=Eu({},t,r,$i);var a,o,u=Eu({},t.imports,r.imports,$i),s=Ru(u),c=Xt(u,s),l=0,f=t.interpolate||xe,h="__p += '",d=Se((t.escape||xe).source+"|"+f.source+"|"+(f===ee?pe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(l,s).replace(Ee,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(Q,""):h).replace(W,"$1").replace(G,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=es((function(){return Ie(s,p+"return "+h).apply(i,c)}));if(m.source=h,Xo(m))throw m;return m},Bn.times=function(e,t){if((e=mu(e))<1||e>p)return[];var n=m,r=bn(e,m);t=ca(t),e-=m;for(var i=Yt(r,t);++n<e;)t(n);return i},Bn.toFinite=vu,Bn.toInteger=mu,Bn.toLength=yu,Bn.toLower=function(e){return bu(e).toLowerCase()},Bn.toNumber=gu,Bn.toSafeInteger=function(e){return e?sr(mu(e),-9007199254740991,p):0===e?e:0},Bn.toString=bu,Bn.toUpper=function(e){return bu(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bu(e))&&(n||t===i))return Zt(e);if(!e||!(t=li(t)))return e;var r=pn(e),a=pn(t);return xi(r,en(r,a),tn(r,a)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=pn(e);return xi(r,0,tn(r,pn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=li(t)))return e;var r=pn(e);return xi(r,en(r,pn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?mu(t.length):n,r="omission"in t?li(t.omission):r}var o=(e=bu(e)).length;if(un(e)){var u=pn(e);o=u.length}if(n>=o)return e;var s=n-dn(r);if(s<1)return r;var c=u?xi(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),uu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Se(a.source,bu(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(li(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r},Bn.unescape=function(e){return(e=bu(e))&&Z.test(e)?e.replace(H,mn):e},Bn.uniqueId=function(e){var t=++Me;return bu(e)+t},Bn.upperCase=Ju,Bn.upperFirst=Xu,Bn.each=bo,Bn.eachRight=wo,Bn.first=Ga,cs(Bn,function(){var e={};return wr(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),St(["drop","take"],(function(e,t){Qn.prototype[e]=function(n){n=n===i?1:kn(mu(n),0);var r=this.__filtered__&&!t?new Qn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Qn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Qn.prototype[e]=function(){return this.__filtered__?new Qn(this):this[n](1)}})),Qn.prototype.compact=function(){return this.filter(as)},Qn.prototype.find=function(e){return this.filter(e).head()},Qn.prototype.findLast=function(e){return this.reverse().find(e)},Qn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Qn(this):this.map((function(n){return Or(n,e,t)}))})),Qn.prototype.reject=function(e){return this.filter(Fo(ca(e)))},Qn.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Qn.prototype.toArray=function(){return this.take(m)},wr(Qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Bn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Bn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Qn,c=u[0],l=s||Wo(t),f=function(e){var t=a.apply(Bn,Dt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&l){t=v?t:new Qn(this);var m=e.apply(t,u);return m.__actions__.push({func:vo,args:[f],thisArg:i}),new Kn(m,h)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),wr(Qn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[Bi(i,2).name]=[{name:"wrapper",func:i}],Qn.prototype.clone=function(){var e=new Qn(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e},Qn.prototype.reverse=function(){if(this.__filtered__){var e=new Qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=kn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,h=0,d=bn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return vi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,m=e[c+=t];++v<f;){var y=l[v],g=y.iteratee,k=y.type,b=g(m);if(2==k)m=b;else if(!b){if(1==k)continue e;break e}}p[h++]=m}return p},Bn.prototype.at=mo,Bn.prototype.chain=function(){return po(this)},Bn.prototype.commit=function(){return new Kn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Va(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Qn){var t=e;return this.__actions__.length&&(t=new Qn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new Kn(t,this.__chain__)}return this.thru(to)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Je&&(Bn.prototype[Je]=function(){return this}),Bn}();dt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},3545:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},4004:function(e){"use strict";var t=function(e){return e!==e};e.exports=function(e,n){return 0===e&&0===n?1/e===1/n:e===n||!(!t(e)||!t(n))}},890:function(e,t,n){"use strict";var r=n(5202),i=n(9778),a=n(4004),o=n(8310),u=n(9420),s=i(o(),Object);r(s,{getPolyfill:o,implementation:a,shim:u}),e.exports=s},8310:function(e,t,n){"use strict";var r=n(4004);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},9420:function(e,t,n){"use strict";var r=n(8310),i=n(5202);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},5238:function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n(3156),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),c=u.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===a.call(e),r=o(e),u=t&&"[object String]"===a.call(e),h=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=c&&n;if(u&&e.length>0&&!i.call(e,0))for(var v=0;v<e.length;++v)h.push(String(v));if(r&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var y in e)p&&"prototype"===y||!i.call(e,y)||h.push(String(y));if(s)for(var g=function(e){if("undefined"===typeof window||!d)return f(e);try{return f(e)}catch(t){return!1}}(e),k=0;k<l.length;++k)g&&"constructor"===l[k]||!i.call(e,l[k])||h.push(l[k]);return h}}e.exports=r},3166:function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(3156),a=Object.keys,o=a?function(e){return a(e)}:n(5238),u=Object.keys;o.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?u(r.call(e)):u(e)})}else Object.keys=o;return Object.keys||o},e.exports=o},3156:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},2102:function(e,t,n){"use strict";var r=n(1369);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},4974:function(e,t,n){e.exports=n(2102)()},1369:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2610:function(e,t,n){"use strict";var r=n(969),i=n(3545),a=n(8019);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,I=60107,_=60108,T=60114,S=60109,A=60110,N=60112,C=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),E=j("react.portal"),I=j("react.fragment"),_=j("react.strict_mode"),T=j("react.profiler"),S=j("react.provider"),A=j("react.context"),N=j("react.forward_ref"),C=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),R=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function Q(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=Q(e.type,!1);case 11:return e=Q(e.type.render,!1);case 22:return e=Q(e.type._render,!1);case 1:return e=Q(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case E:return"Portal";case T:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function H(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ce(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ae=null,Ne=null;function Ce(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Oe(e){Ae?Ne?Ne.push(e):Ne=[e]:Ae=e}function Pe(){if(Ae){var e=Ae,t=Ne;if(Ne=Ae=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,Fe=!1,Ue=!1;function je(){null===Ae&&null===Ne||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,Qe=null,We=!1,Ge=null,He={onError:function(e){Ke=!0,Qe=e}};function Ye(e,t,n,r,i,a,o,u,s){Ke=!1,Qe=null,ze.apply(He,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ze(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},_t={},Tt={};function St(e){if(_t[e])return _t[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return _t[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var At=St("animationend"),Nt=St("animationiteration"),Ct=St("animationstart"),Ot=St("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",At,"animationEnd",Nt,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Qt(e)/Wt|0)|0},Qt=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Ht=a.unstable_runWithPriority,Yt=!0;function Zt(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Ht(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Ze(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function An(){return Sn}var Nn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Nn),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Zn=null;function Jn(e){Nr(e,0)}function Xn(e){if(J(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Zn=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn(Zn)){var t=[];if(Hn(t,Zn,e,Te(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Zn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Zn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Ir.length;_r++)Rt.set(Ir[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=Qe;Ke=!1,Qe=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,u,c),a=s}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Cr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Sr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Zt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case At:case Nt:case Ct:s=bn;break;case Ot:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Qn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Qn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Qn=!0)),0<(y=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,$r="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,Ii=null,_i=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ai=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ci=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ni?Ni:function(){},ji=null,Vi=null,Bi=!1,qi=Ci(),zi=1e4>qi?Ci:function(){return Ci()-qi};function Ki(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Qi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Qi(e),_i(e,t)}function Gi(e,t,n){return e=Qi(e),Ti(e,t,n)}function Hi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Pi,Hi),n}finally{Bi=!1}}}var Zi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Zs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Hs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Zs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Hs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Hs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Zs(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=_a(!0),Sa=_a(!1),Aa={},Na=ci(Aa),Ca=ci(Aa),Oa=ci(Aa);function Pa(e){if(e===Aa)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Ca,e),fi(Na,Aa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Ca),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Ca,e),fi(Na,n))}function Ma(e){Ca.current===e&&(li(Na),li(Ca))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,Ba=!1;function qa(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Hr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);qa(ja,n)}ja=e,Va=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Wa(e){if(e!==ja)return!1;if(!Ba)return Qa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Hr(t.nextSibling);if(Qa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Hr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,Ba=!1}var Ha=[];function Ya(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Za=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Za.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Za.current=Lo,e=n(r,i)}while(ro)}if(Za.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,$a.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ha.push(t))),e)return n(t._source);throw Ha.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Za.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=$a;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,$a,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();$a.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}$a.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,_o.bind(null,t,e),n)}function So(){}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Zr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,yo(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Zr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Ao,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:Io,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Ao,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:Io,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Qs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ws(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ko(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Qo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Ho,Yo,Zo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Hs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(o,u),null!==e?r=Ws(e,r):(r=Hs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Wa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[$r]=u,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Cr(Tr[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,u),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Cr("invalid",r);break;case"textarea":se(r,u),Cr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":Z(r),re(r,u,!0);break;case"textarea":Z(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[$r]=r,Ho(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),a=r;break;case"iframe":case"object":case"embed":Cr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Cr(Tr[a],e);a=r;break;case"source":Cr("error",e),a=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),a=r;break;case"details":Cr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Cr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Cr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Cr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Zo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Na.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ru||0===(134217727&Bu)&&0===(134217727&qu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Wu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ho=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,u=null;switch(n){case"input":a=$(e,a),r=$(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Zo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:_u(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):Iu(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function _u(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Qu=zi(),gu(t.child,!0)),void Su(t);case 19:return void Su(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Au(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Cu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Ru=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,Bu=0,qu=0,zu=0,Ku=null,Qu=0,Wu=1/0;function Gu(){Wu=zi()+500}var Hu,Yu=null,Zu=!1,Ju=null,Xu=null,$u=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Vu),0!==Zi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Ru&&(qu|=t,4===Uu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ms(e,n),0===Pu&&(Gu(),Hi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Ru?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ti(Pi,Yi)):ji.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ts();for(Ru===e&&Lu===r||(Gu(),Is(e,r));;)try{Ns();break}catch(s){_s(e,s)}if(na(),Cu.current=a,Pu=i,null!==Du?r=0:(Ru=null,Lu=0,r=Uu),0!==(Vu&qu))Is(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Ss(e,n))),1===r)throw t=ju,Is(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Qu+500-zi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Qr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ss(e,t);0!==(Vu&qu)&&(n=Ss(e,t=Ut(e,t)))}else n=Ss(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Ss(e,t))),1===n)throw n=ju,Is(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,zi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Hi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Hi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function Es(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Ru=e,Du=Ws(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,zu=qu=Bu=0}function _s(e,t){for(;;){var n=Du;try{if(na(),Za.current=Po,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=$a=null,ro=!1,Ou.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(E){t=E,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ts(){var e=Cu.current;return Cu.current=Po,null===e?Po:e}function Ss(e,t){var n=Pu;Pu|=16;var r=Ts();for(Ru===e&&Lu===t||Is(e,t);;)try{As();break}catch(i){_s(e,i)}if(na(),Pu=n,Cu.current=r,null!==Du)throw Error(o(261));return Ru=null,Lu=0,Uu}function As(){for(;null!==Du;)Cs(Du)}function Ns(){for(;null!==Du&&!Ai();)Cs(Du)}function Cs(e){var t=Hu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Ki();return Wi(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,Br=Yt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Ds()}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,Tu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Tu(Yu.alternate,Yu);break;case 4:Tu(Yu.alternate,Yu);break;case 8:_u(u,s=Yu);var x=s.alternate;bu(s),null!==x&&bu(x)}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);if(w=qr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var E=Yu.flags;if(36&E&&yu(k,Yu.alternate,Yu),128&E){b=void 0;var I=Yu.ref;if(null!==I){var _=Yu.stateNode;Yu.tag,b=_,"function"===typeof I?I(b):I.current=b}}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Ui(),Pu=i}else e.current=n;if($u)$u=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((E=Yu).sibling=null,E.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(T){}if(ms(e,zi()),Zu)throw Zu=!1,e=Ju,Ju=null,e;return 0!==(8&Pu)||Hi(),null}function Ds(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Au(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&mu(e,Yu),0===(512&t)||$u||($u=!0,Gi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Wi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),$u||($u=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),$u||($u=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Hi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>zi()-Qu?Is(e,0):zu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Qs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Qs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Hs(n.children,i,a,t);case M:u=8,i|=16;break;case _:u=8,i|=1;break;case T:return(e=Ks(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case C:return(e=Ks(13,n,t,i)).type=C,e.elementType=C,e.lanes=a,e;case O:return(e=Ks(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Ys(n,i,a,t);case U:return(e=Ks(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case A:u=9;break e;case N:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Zs(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function $s(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $s(e,t,null,n)}Hu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Qs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Qo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Qo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Hr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ha.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),zo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Xo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Hi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Hi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Hi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Pu=n,Hi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},5749:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2610)},5443:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},9479:function(e,t,n){"use strict";e.exports=n(5443)},7175:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,u=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?u="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(u="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==u){var s=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==u?"\n  "+u:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return o}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},4618:function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserRouter:function(){return l},HashRouter:function(){return f},Link:function(){return y},MemoryRouter:function(){return r.VA},NavLink:function(){return b},Prompt:function(){return r.NL},Redirect:function(){return r.l_},Route:function(){return r.AW},Router:function(){return r.F0},StaticRouter:function(){return r.gx},Switch:function(){return r.rs},generatePath:function(){return r.Gn},matchPath:function(){return r.LX},useHistory:function(){return r.k6},useLocation:function(){return r.TH},useParams:function(){return r.UO},useRouteMatch:function(){return r.$B},withRouter:function(){return r.EN}});var r=n(2461),i=n(1665),a=n(969),o=n(7828),u=n(7896),s=n(1461),c=n(5704),l=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,o.lX)(t.props),t}return(0,i.Z)(t,e),t.prototype.render=function(){return a.createElement(r.F0,{history:this.history,children:this.props.children})},t}(a.Component);var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,o.q_)(t.props),t}return(0,i.Z)(t,e),t.prototype.render=function(){return a.createElement(r.F0,{history:this.history,children:this.props.children})},t}(a.Component);var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?(0,o.ob)(e,null,null,t):e},p=function(e){return e},v=a.forwardRef;"undefined"===typeof v&&(v=p);var m=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=(0,s.Z)(e,["innerRef","navigate","onClick"]),c=o.target,l=(0,u.Z)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,a.createElement("a",l)}));var y=v((function(e,t){var n=e.component,i=void 0===n?m:n,l=e.replace,f=e.to,y=e.innerRef,g=(0,s.Z)(e,["component","replace","to","innerRef"]);return a.createElement(r.s6.Consumer,null,(function(e){e||(0,c.Z)(!1);var n=e.history,r=d(h(f,e.location),e.location),s=r?n.createHref(r):"",m=(0,u.Z)({},g,{href:s,navigate:function(){var t=h(f,e.location),r=(0,o.Ep)(e.location)===(0,o.Ep)(d(t));(l||r?n.replace:n.push)(t)}});return p!==v?m.ref=t||y:m.innerRef=y,a.createElement(i,m)}))})),g=function(e){return e},k=a.forwardRef;"undefined"===typeof k&&(k=g);var b=k((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,l=void 0===o?"active":o,f=e.activeStyle,p=e.className,v=e.exact,m=e.isActive,b=e.location,w=e.sensitive,x=e.strict,E=e.style,I=e.to,_=e.innerRef,T=(0,s.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(r.s6.Consumer,null,(function(e){e||(0,c.Z)(!1);var n=b||e.location,o=d(h(I,n),n),s=o.pathname,S=s&&s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=S?(0,r.LX)(n.pathname,{path:S,exact:v,sensitive:w,strict:x}):null,N=!!(m?m(A,n):A),C="function"===typeof p?p(N):p,O="function"===typeof E?E(N):E;N&&(C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(C,l),O=(0,u.Z)({},O,f));var P=(0,u.Z)({"aria-current":N&&i||null,className:C,style:O,to:o},T);return g!==k?P.ref=t||_:P.innerRef=_,a.createElement(y,P)}))}))},2461:function(e,t,n){"use strict";n.d(t,{VA:function(){return I},NL:function(){return T},l_:function(){return C},AW:function(){return D},F0:function(){return E},gx:function(){return V},rs:function(){return B},s6:function(){return x},Gn:function(){return N},LX:function(){return R},k6:function(){return K},TH:function(){return Q},UO:function(){return W},$B:function(){return G},EN:function(){return q}});var r=n(1665),i=n(969),a=n(7828),o=n(4974),u=n.n(o),s=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.createContext||function(e,t){var n,a,o="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}(0,r.Z)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):s,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},i.render=function(){return this.props.children},n}(i.Component);f.childContextTypes=((n={})[o]=u().object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,r.Z)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?s:t},i.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?s:e},i.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},i.getValue=function(){return this.context[o]?this.context[o].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return h.contextTypes=((a={})[o]=u().object,a),{Provider:f,Consumer:h}},h=f,d=n(5704),p=n(7896),v=n(1599),m=n.n(v),y=(n(9479),n(1461)),g=n(7814),k=n.n(g),b=function(e){var t=h();return t.displayName=e,t},w=b("Router-History"),x=b("Router"),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}(0,r.Z)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.createElement(x.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(w.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);var I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,a.PP)(t.props),t}return(0,r.Z)(t,e),t.prototype.render=function(){return i.createElement(E,{history:this.history,children:this.props.children})},t}(i.Component);var _=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.Component);function T(e){var t=e.message,n=e.when,r=void 0===n||n;return i.createElement(x.Consumer,null,(function(e){if(e||(0,d.Z)(!1),!r||e.staticContext)return null;var n=e.history.block;return i.createElement(_,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var S={},A=0;function N(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(S[e])return S[e];var t=m().compile(e);return A<1e4&&(S[e]=t,A++),t}(e)(t,{pretty:!0})}function C(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.createElement(x.Consumer,null,(function(e){e||(0,d.Z)(!1);var r=e.history,u=e.staticContext,s=o?r.push:r.replace,c=(0,a.ob)(t?"string"===typeof n?N(n,t.params):(0,p.Z)({},n,{pathname:N(n.pathname,t.params)}):n);return u?(s(c),null):i.createElement(_,{onMount:function(){s(c)},onUpdate:function(e,t){var n=(0,a.ob)(t.to);(0,a.Hp)(n,(0,p.Z)({},c,{key:n.key}))||s(c)},to:n})}))}var O={},P=0;function R(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=O[n]||(O[n]={});if(r[e])return r[e];var i=[],a={regexp:m()(e,i,t),keys:i};return P<1e4&&(r[e]=a,P++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var D=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return i.createElement(x.Consumer,null,(function(t){t||(0,d.Z)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?R(n.pathname,e.props):t.match,a=(0,p.Z)({},t,{location:n,match:r}),o=e.props,u=o.children,s=o.component,c=o.render;return Array.isArray(u)&&function(e){return 0===i.Children.count(e)}(u)&&(u=null),i.createElement(x.Provider,{value:a},a.match?u?"function"===typeof u?u(a):u:s?i.createElement(s,a):c?c(a):null:"function"===typeof u?u(a):null)}))},t}(i.Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function M(e,t){if(!e)return t;var n=L(e);return 0!==t.pathname.indexOf(n)?t:(0,p.Z)({},t,{pathname:t.pathname.substr(n.length)})}function F(e){return"string"===typeof e?e:(0,a.Ep)(e)}function U(e){return function(){(0,d.Z)(!1)}}function j(){}var V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return j},t.handleBlock=function(){return j},t}(0,r.Z)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,u=void 0===o?{}:o;u.action=t,u.location=function(e,t){return e?(0,p.Z)({},t,{pathname:L(e)+t.pathname}):t}(i,(0,a.ob)(e)),u.url=F(u.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,u=e.location,s=void 0===u?"/":u,c=(0,y.Z)(e,["basename","context","location"]),l={createHref:function(e){return L(n+F(e))},action:"POP",location:M(n,(0,a.ob)(s)),push:this.handlePush,replace:this.handleReplace,go:U(),goBack:U(),goForward:U(),listen:this.handleListen,block:this.handleBlock};return i.createElement(E,(0,p.Z)({},c,{history:l,staticContext:o}))},t}(i.Component);var B=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return i.createElement(x.Consumer,null,(function(t){t||(0,d.Z)(!1);var n,r,a=e.props.location||t.location;return i.Children.forEach(e.props.children,(function(e){if(null==r&&i.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?R(a.pathname,(0,p.Z)({},e.props,{path:o})):t.match}})),r?i.cloneElement(n,{location:a,computedMatch:r}):null}))},t}(i.Component);function q(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=(0,y.Z)(t,["wrappedComponentRef"]);return i.createElement(x.Consumer,null,(function(t){return t||(0,d.Z)(!1),i.createElement(e,(0,p.Z)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,k()(n,e)}var z=i.useContext;function K(){return z(w)}function Q(){return z(x).location}function W(){var e=z(x).match;return e?e.params:{}}function G(e){var t=Q(),n=z(x).match;return e?R(t.pathname,e):n}},9690:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1599:function(e,t,n){var r=n(9690);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,E="?"===k||"*"===k,I=n[2]||l,_=y||g;r.push({name:m||a++,prefix:v||"",delimiter:I,optional:E,repeat:x,partial:w,asterisk:!!b,pattern:_?c(_):b?".*":"[^"+s(I)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},3804:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(4974));var r=u(n(9283)),i=u(n(8217)),a=u(n(969)),o=u(n(26));n(9212);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,a=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),c(e,a),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,a=n.doneClassName;r&&l(e,r),i&&l(e,i),a&&l(e,a)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},i.render=function(){var e=s({},this.props);return delete e.classNames,a.default.createElement(o.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(a.default.Component);f.defaultProps={classNames:""},f.propTypes={};var h=f;t.default=h,e.exports=t.default},6849:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n(4974));var r=o(n(969)),i=n(5749),a=o(n(8199));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=o.prototype;return u.handleLifecycle=function(e,t,n){var a,o=this.props.children,u=r.default.Children.toArray(o)[t];u.props[e]&&(a=u.props)[e].apply(a,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},u.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),o=r.default.Children.toArray(t),u=o[0],s=o[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(a.default,i,n?r.default.cloneElement(u,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(r.default.Component);u.propTypes={};var s=u;t.default=s,e.exports=t.default},26:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(4974));var r=u(n(969)),i=u(n(5749)),a=n(7175),o=(n(9212),u(n(5438)));function u(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var c="exited";t.EXITED=c;var l="entering";t.ENTERING=l;var f="entered";t.ENTERED=f;var h="exiting";t.EXITING=h;var d=function(e){var t,n;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=c,r.appearStatus=l):i=f:i=t.unmountOnExit||t.mountOnEnter?s:c,r.state={status:i},r.nextCallback=null,r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:c}:null};var u=a.prototype;return u.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},u.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==f&&(t=l):n!==l&&n!==f||(t=h)}this.updateStatus(!1,t)},u.componentWillUnmount=function(){this.cancelNextCallback()},u.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},u.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:s})},u.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,a=this.getTimeouts(),o=i?a.appear:a.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:f},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:f},(function(){n.props.onEntered(e)}))},u.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},u.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},u.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},u.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},u.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},u.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"===typeof n)return r.default.createElement(o.default.Provider,{value:null},n(e,i));var a=r.default.Children.only(n);return r.default.createElement(o.default.Provider,{value:null},r.default.cloneElement(a,i))},a}(r.default.Component);function p(){}d.contextType=o.default,d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var v=(0,a.polyfill)(d);t.default=v},8199:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;u(n(4974));var r=u(n(969)),i=n(7175),a=u(n(5438)),o=n(2208);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,n;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=i.prototype;return u.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},u.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,r):(0,o.getNextChildMapping)(e,n,r),firstRender:!1}},u.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},u.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=this.state.contextValue,u=l(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.default.createElement(a.default.Provider,{value:o},u):r.default.createElement(a.default.Provider,{value:o},r.default.createElement(t,i,u))},i}(r.default.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var h=(0,i.polyfill)(f);t.default=h,e.exports=t.default},5438:function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(969))&&r.__esModule?r:{default:r}).default.createContext(null);t.default=i,e.exports=t.default},7538:function(e,t,n){"use strict";var r=u(n(3804)),i=u(n(6849)),a=u(n(8199)),o=u(n(26));function u(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:a.default,ReplaceTransition:i.default,CSSTransition:r.default}},2208:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var u=i(e.children),s=a(t,u);return Object.keys(s).forEach((function(i){var a=s[i];if((0,r.isValidElement)(a)){var c=i in t,l=i in u,f=t[i],h=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,r.isValidElement)(f)&&(s[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:f.props.in,exit:o(a,"exit",e),enter:o(a,"enter",e)})):s[i]=(0,r.cloneElement)(a,{in:!1}):s[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:o(a,"exit",e),enter:o(a,"enter",e)})}})),s};var r=n(969);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function a(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},9212:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(4974))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},4999:function(e,t,n){"use strict";n(3545);var r=n(969),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},3949:function(e,t,n){"use strict";var r=n(3545),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=S(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function O(){var e=C.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},969:function(e,t,n){"use strict";e.exports=n(3949)},7574:function(e,t,n){"use strict";e.exports=n(4999)},1733:function(e,t,n){"use strict";var r=n(188).functionsHaveConfigurableNames(),i=Object,a=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new a("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},1831:function(e,t,n){"use strict";var r=n(5202),i=n(9778),a=n(1733),o=n(1525),u=n(6277),s=i(o());r(s,{getPolyfill:o,implementation:a,shim:u}),e.exports=s},1525:function(e,t,n){"use strict";var r=n(1733),i=n(5202).supportsDescriptors,a=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=a(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},6277:function(e,t,n){"use strict";var r=n(5202).supportsDescriptors,i=n(1525),a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,u=TypeError,s=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!r||!s)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=s(c),n=a(t,"flags");return n&&n.get===e||o(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},384:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>_(o,n))void 0!==s&&0>_(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>_(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],A=1,N=null,C=3,O=!1,P=!1,R=!1;function D(e){for(var t=E(S);null!==t;){if(null===t.callback)I(S);else{if(!(t.startTime<=e))break;I(S),t.sortIndex=t.expirationTime,x(T,t)}t=E(S)}}function L(e){if(R=!1,D(e),!P)if(null!==E(T))P=!0,n(M);else{var t=E(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=C;try{for(D(n),N=E(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,C=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===E(T)&&I(T),D(n)}else I(T);N=E(T)}if(null!==N)var s=!0;else{var c=E(S);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,C=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(S,e),null===E(T)&&e===E(S)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,x(T,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}},8019:function(e,t,n){"use strict";e.exports=n(384)},5704:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r="Invariant failed";function i(e,t){if(!e)throw new Error(r)}},7256:function(e){"use strict";var t=function(){};e.exports=t},7896:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1665:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(8960);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},1461:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},8960:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return W},SDK_VERSION:function(){return ot},_DEFAULT_ENTRY_NAME:function(){return Ge},_addComponent:function(){return Je},_addOrOverwriteComponent:function(){return Xe},_apps:function(){return Ye},_clearComponents:function(){return nt},_components:function(){return Ze},_getProvider:function(){return et},_registerComponent:function(){return $e},_removeServiceInstance:function(){return tt},deleteApp:function(){return lt},getApp:function(){return st},getApps:function(){return ct},initializeApp:function(){return ut},onLog:function(){return dt},registerVersion:function(){return ht},setLogLevel:function(){return pt}});var t=n(969),r=n(5749),i=n(4618),a=n(2461),o=n(19);function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||c(e,t)||l()}var h=n(7574),d="leftColumn",p=t.createContext({}),v=function(e){var n=(0,t.useContext)(o.AuthContext),r=n.isAuthenticated,i=(n.getUserData,n.saveUserData),a=n.setUserPrefs,u=f((0,t.useState)(!1),2),s=u[0],c=u[1],l=f((0,t.useState)(d),2),v=l[0],m=l[1];return(0,t.useEffect)((function(){var e={patientStatusDisplay:v};a({data:e}),r&&i("preferences",e)}),[v]),(0,h.jsx)(p.Provider,{value:{setPref:function(e,t){if("patientStatusDisplay"===e)m(t);else console.log("not setting unknown pref ".concat(e," to ").concat(t))},showPrefsForm:s,displayPrefsForm:function(){c(!0)},hidePrefsForm:function(){c(!1)},patientStatusDisplay:v},children:e.children})},m=function(){return(0,t.useContext)(p)};function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=n(8960);function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,E.Z)(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function A(e,t){if(t&&("object"===S(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function N(e){var t=T();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function C(e,t,n){return C=T()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,E.Z)(i,n.prototype),i},C.apply(null,arguments)}function O(e){var t="function"===typeof Map?new Map:void 0;return O=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return C(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,E.Z)(n,e)},O(e)}var P=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(P(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},D=function(e){return function(e){var t=P(e);return R.encodeByteArray(t,!0)}(e).replace(/\./g,"")},L=function(e){try{return R.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function M(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=M(e[n],t[n]));return e}var F=function(){function e(){var t=this;g(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return b(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function U(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[D(JSON.stringify({alg:"none",type:"JWT"})),D(JSON.stringify(a)),""].join(".")}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function V(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function B(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function q(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function K(){var e=j();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Q(){return"object"===typeof indexedDB}var W=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),G.prototype.create),a}return b(n)}(O(Error)),G=function(){function e(t,n,r){g(this,e),this.service=t,this.serviceName=n,this.errors=r}return b(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?H(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new W(n,a,t);return o}}]),e}();function H(e,t){return e.replace(Y,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Y=/\{\$([^}]+)}/g;function Z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function J(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(X(u)&&X(s)){if(!J(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function X(e){return null!==e&&"object"===typeof e}function $(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ee(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function te(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ne(e,t){var n=new re(e,t);return n.subscribe.bind(n)}var re=function(){function e(t,n){var r=this;g(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return b(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=w(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ie),void 0===r.error&&(r.error=ie),void 0===r.complete&&(r.complete=ie);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ie(){}function ae(e){return e&&e._delegate?e._delegate:e}function oe(){oe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==S(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ue(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function se(e){return function(e){if(Array.isArray(e))return s(e)}(e)||ue(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ce(a,r,i,o,u,"next",e)}function u(e){ce(a,r,i,o,u,"throw",e)}o(void 0)}))}}var fe=function(){function e(t,n,r){g(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return b(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),he="[DEFAULT]",de=function(){function e(t,n){g(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return b(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new F;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:he})}catch(s){}var t,n=w(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(se(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),se(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=w(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(vx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===he?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(vx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;return this.component?this.component.multipleInstances?e:he:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var pe,ve,me=function(){function e(t){g(this,e),this.name=t,this.providers=new Map}return b(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new de(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ye=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ve||(ve={}));var ge={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},ke=ve.INFO,be=(y(pe={},ve.DEBUG,"log"),y(pe,ve.VERBOSE,"log"),y(pe,ve.INFO,"info"),y(pe,ve.WARN,"warn"),y(pe,ve.ERROR,"error"),pe),we=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=be[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},xe=function(){function e(t){g(this,e),this.name=t,this._logLevel=ke,this._logHandler=we,this._userLogHandler=null,ye.push(this)}return b(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ve))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ge[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.DEBUG].concat(t)),this._logHandler.apply(this,[this,ve.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ve.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.INFO].concat(t)),this._logHandler.apply(this,[this,ve.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.WARN].concat(t)),this._logHandler.apply(this,[this,ve.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ve.ERROR].concat(t)),this._logHandler.apply(this,[this,ve.ERROR].concat(t))}}]),e}();function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e,Te;var Se=new WeakMap,Ae=new WeakMap,Ne=new WeakMap,Ce=new WeakMap,Oe=new WeakMap;var Pe={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ae.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ne.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Le(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Re(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Me(this),n),Le(Se.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Le(e.apply(Me(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Me(this),t].concat(r));return Ne.set(a,t.sort?t.sort():[t]),Le(a)}}function De(e){return"function"===typeof e?Re(e):(e instanceof IDBTransaction&&function(e){if(!Ae.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ae.set(e,t)}}(e),t=e,(_e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Pe):e);var t}function Le(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Le(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Se.set(t,e)})).catch((function(){})),Oe.set(t,e),t}(e);if(Ce.has(e))return Ce.get(e);var t=De(e);return t!==e&&(Ce.set(e,t),Oe.set(t,e)),t}var Me=function(e){return Oe.get(e)};var Fe,Ue,je=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],Be=new Map;function qe(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Be.get(t))return Be.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ve.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||je.includes(n))){var a=function(){var e=le(oe().mark((function e(t){var a,o,u,s,c,l,f=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Be.set(t,a),a}}}Pe=function(e){return Ie(Ie({},e),{},{get:function(t,n,r){return qe(t,n)||e.get(t,n,r)},has:function(t,n){return!!qe(t,n)||e.has(t,n)}})}(Pe);var ze=function(){function e(t){g(this,e),this.container=t}return b(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ke="@firebase/app",Qe="0.7.25",We=new xe("@firebase/app"),Ge="[DEFAULT]",He=(y(Fe={},Ke,"fire-core"),y(Fe,"@firebase/app-compat","fire-core-compat"),y(Fe,"@firebase/analytics","fire-analytics"),y(Fe,"@firebase/analytics-compat","fire-analytics-compat"),y(Fe,"@firebase/app-check","fire-app-check"),y(Fe,"@firebase/app-check-compat","fire-app-check-compat"),y(Fe,"@firebase/auth","fire-auth"),y(Fe,"@firebase/auth-compat","fire-auth-compat"),y(Fe,"@firebase/database","fire-rtdb"),y(Fe,"@firebase/database-compat","fire-rtdb-compat"),y(Fe,"@firebase/functions","fire-fn"),y(Fe,"@firebase/functions-compat","fire-fn-compat"),y(Fe,"@firebase/installations","fire-iid"),y(Fe,"@firebase/installations-compat","fire-iid-compat"),y(Fe,"@firebase/messaging","fire-fcm"),y(Fe,"@firebase/messaging-compat","fire-fcm-compat"),y(Fe,"@firebase/performance","fire-perf"),y(Fe,"@firebase/performance-compat","fire-perf-compat"),y(Fe,"@firebase/remote-config","fire-rc"),y(Fe,"@firebase/remote-config-compat","fire-rc-compat"),y(Fe,"@firebase/storage","fire-gcs"),y(Fe,"@firebase/storage-compat","fire-gcs-compat"),y(Fe,"@firebase/firestore","fire-fst"),y(Fe,"@firebase/firestore-compat","fire-fst-compat"),y(Fe,"fire-js","fire-js"),y(Fe,"firebase","fire-js-all"),Fe),Ye=new Map,Ze=new Map;function Je(e,t){try{e.container.addComponent(t)}catch(n){We.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Xe(e,t){e.container.addOrOverwriteComponent(t)}function $e(e){var t=e.name;if(Ze.has(t))return We.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ze.set(t,e);var n,r=w(Ye.values());try{for(r.s();!(n=r.n()).done;){Je(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function et(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ge;et(e,t).clearInstance(n)}function nt(){Ze.clear()}var rt=(y(Ue={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),y(Ue,"bad-app-name","Illegal App name: '{$appName}"),y(Ue,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),y(Ue,"app-deleted","Firebase App named '{$appName}' already deleted"),y(Ue,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),y(Ue,"invalid-log-argument","First argument to `onLog` must be null or a function."),y(Ue,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),y(Ue,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),y(Ue,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),y(Ue,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ue),it=new G("app","Firebase",rt),at=function(){function e(t,n,r){var i=this;g(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fe("app",(function(){return i}),"PUBLIC"))}return b(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw it.create("app-deleted",{appName:this._name})}}]),e}(),ot="9.8.2";function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ge,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw it.create("bad-app-name",{appName:String(i)});var a=Ye.get(i);if(a){if(J(e,a.options)&&J(r,a.config))return a;throw it.create("duplicate-app",{appName:i})}var o,u=new me(i),s=w(Ze.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new at(e,r,u);return Ye.set(i,l),l}function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=Ye.get(e);if(!t)throw it.create("no-app",{appName:e});return t}function ct(){return Array.from(Ye.values())}function lt(e){return ft.apply(this,arguments)}function ft(){return(ft=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ye.has(n)){e.next=6;break}return Ye.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t,n){var r,i=null!==(r=He[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void We.warn(u.join(" "))}$e(new fe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function dt(e,t){if(null!==e&&"function"!==typeof e)throw it.create("invalid-log-argument");!function(e,t){var n,r=w(ye);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ge[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ve[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function pt(e){var t;t=e,ye.forEach((function(e){e.setLogLevel(t)}))}var vt="firebase-heartbeat-store",mt=null;function yt(){return mt||(mt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Le(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Le(u.result),e.oldVersion,e.newVersion,Le(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(vt)}}).catch((function(e){throw it.create("storage-open",{originalErrorMessage:e.message})}))),mt}function gt(e){return kt.apply(this,arguments)}function kt(){return kt=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt();case 3:return n=e.sent,e.abrupt("return",n.transaction(vt).objectStore(vt).get(xt(t)));case 7:throw e.prev=7,e.t0=e.catch(0),it.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),kt.apply(this,arguments)}function bt(e,t){return wt.apply(this,arguments)}function wt(){return wt=le(oe().mark((function e(t,n){var r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt();case 3:return r=e.sent,i=r.transaction(vt,"readwrite"),a=i.objectStore(vt),e.next=8,a.put(n,xt(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),it.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),wt.apply(this,arguments)}function xt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Et=function(){function e(t){var n=this;g(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new At(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return b(e,[{key:"triggerHeartbeat",value:function(){var e=le(oe().mark((function e(){var t,n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=It(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=le(oe().mark((function e(){var t,n,r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=It(),n=_t(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=D(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function It(){return(new Date).toISOString().substring(0,10)}function _t(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=w(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Nt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Nt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Tt,St,At=function(){function e(t){g(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return b(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,gt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",bt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",bt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(se(r.heartbeats),se(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Nt(e){return D(JSON.stringify({version:2,heartbeats:e})).length}Tt="",$e(new fe("platform-logger",(function(e){return new ze(e)}),"PRIVATE")),$e(new fe("heartbeat",(function(e){return new Et(e)}),"PRIVATE")),ht(Ke,Qe,Tt),ht(Ke,Qe,"esm2017"),ht("fire-js","");var Ct=function(){function e(t,n){var r=this;g(this,e),this._delegate=t,this.firebase=n,Je(t,new fe("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return b(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),lt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Je(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Xe(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ot=(y(St={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),y(St,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),St),Pt=new G("app-compat","Firebase",Ot);var Rt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ut(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Z(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ht,setLogLevel:pt,onLog:dt,apps:null,SDK_VERSION:ot,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if($e(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Pt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&M(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Z(n,e=e||Ge))throw Pt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ct);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){M(n,e)},createSubscribe:ne,ErrorFactory:G,deepExtend:M}),n}(),Dt=new xe("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Dt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Lt=self.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&Dt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Mt=Rt;!function(e){ht("@firebase/app-compat","0.1.26",e)}();function Ft(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function Ut(){return Ut="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ft(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ut.apply(this,arguments)}Mt.registerVersion("firebase","9.8.2","app-compat");function jt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Vt;Object.create;var Bt="facebook.com",qt="github.com",zt="google.com",Kt="password",Qt="twitter.com",Wt="EMAIL_SIGNIN",Gt="PASSWORD_RESET",Ht="RECOVER_EMAIL",Yt="REVERT_SECOND_FACTOR_ADDITION",Zt="VERIFY_AND_CHANGE_EMAIL",Jt="VERIFY_EMAIL";function Xt(){return y({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var $t=function(){var e;return y(e={},"admin-restricted-operation","This operation is restricted to administrators only."),y(e,"argument-error",""),y(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),y(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),y(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),y(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),y(e,"cordova-not-ready","Cordova framework is not ready."),y(e,"cors-unsupported","This browser is not supported."),y(e,"credential-already-in-use","This credential is already associated with a different user account."),y(e,"custom-token-mismatch","The custom token corresponds to a different audience."),y(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),y(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),y(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),y(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),y(e,"email-already-in-use","The email address is already in use by another account."),y(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),y(e,"expired-action-code","The action code has expired."),y(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),y(e,"internal-error","An internal AuthError has occurred."),y(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),y(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),y(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),y(e,"invalid-auth-event","An internal AuthError has occurred."),y(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),y(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),y(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),y(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),y(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),y(e,"invalid-email","The email address is badly formatted."),y(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),y(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),y(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),y(e,"invalid-credential","The supplied auth credential is malformed or has expired."),y(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),y(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),y(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),y(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),y(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),y(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),y(e,"wrong-password","The password is invalid or the user does not have a password."),y(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),y(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),y(e,"invalid-provider-id","The specified provider ID is invalid."),y(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),y(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),y(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),y(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),y(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),y(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),y(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),y(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),y(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),y(e,"missing-continue-uri","A continue URL must be provided in the request."),y(e,"missing-iframe-start","An internal AuthError has occurred."),y(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),y(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),y(e,"missing-multi-factor-info","No second factor identifier is provided."),y(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),y(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),y(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),y(e,"app-deleted","This instance of FirebaseApp has been deleted."),y(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),y(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),y(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),y(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),y(e,"no-auth-event","An internal AuthError has occurred."),y(e,"no-such-provider","User was not linked to an account with the given provider."),y(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),y(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),y(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),y(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),y(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),y(e,"provider-already-linked","User can only be linked to one identity for the given provider."),y(e,"quota-exceeded","The project's quota for this operation has been exceeded."),y(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),y(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),y(e,"rejected-credential","The request contains malformed or mismatching credentials."),y(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),y(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),y(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),y(e,"timeout","The operation has timed out."),y(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),y(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),y(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),y(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),y(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),y(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),y(e,"unverified-email","The operation requires a verified email."),y(e,"user-cancelled","The user did not grant your application the permissions it requested."),y(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),y(e,"user-disabled","The user account has been disabled by an administrator."),y(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),y(e,"user-signed-out",""),y(e,"weak-password","The password must be 6 characters long or more."),y(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),y(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},en=Xt,tn=new G("auth","Firebase",Xt()),nn=new xe("@firebase/auth");function rn(e){if(nn.logLevel<=ve.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nn.error.apply(nn,["Auth (".concat(ot,"): ").concat(e)].concat(n))}}function an(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cn.apply(void 0,[e].concat(n))}function on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cn.apply(void 0,[e].concat(n))}function un(e,t,n){var r=Object.assign(Object.assign({},en()),y({},t,n));return new G("auth","Firebase",r).create(t,{appName:e.name})}function sn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&an(e,"argument-error"),un(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=se(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(se(o)))}return tn.create.apply(tn,[e].concat(n))}function ln(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw cn.apply(void 0,[t].concat(r))}}function fn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw rn(t),new Error(t)}function hn(e,t){e||fn(t)}var dn=new Map;function pn(e){hn(e instanceof Function,"Expected a class definition");var t=dn.get(e);return t?(hn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dn.set(e,t),t)}function vn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mn(){return"http:"===yn()||"https:"===yn()}function yn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var gn=function(){function e(t,n){g(this,e),this.shortDelay=t,this.longDelay=n,hn(n>t,"Short delay should be less than long delay!"),this.isMobile=V()||z()}return b(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mn()||q()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function kn(e,t){hn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var bn=function(){function e(){g(this,e)}return b(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),wn=(y(Vt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),y(Vt,"MISSING_CUSTOM_TOKEN","internal-error"),y(Vt,"INVALID_IDENTIFIER","invalid-email"),y(Vt,"MISSING_CONTINUE_URI","internal-error"),y(Vt,"INVALID_PASSWORD","wrong-password"),y(Vt,"MISSING_PASSWORD","internal-error"),y(Vt,"EMAIL_EXISTS","email-already-in-use"),y(Vt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),y(Vt,"INVALID_IDP_RESPONSE","invalid-credential"),y(Vt,"INVALID_PENDING_TOKEN","invalid-credential"),y(Vt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),y(Vt,"MISSING_REQ_TYPE","internal-error"),y(Vt,"EMAIL_NOT_FOUND","user-not-found"),y(Vt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),y(Vt,"EXPIRED_OOB_CODE","expired-action-code"),y(Vt,"INVALID_OOB_CODE","invalid-action-code"),y(Vt,"MISSING_OOB_CODE","internal-error"),y(Vt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),y(Vt,"INVALID_ID_TOKEN","invalid-user-token"),y(Vt,"TOKEN_EXPIRED","user-token-expired"),y(Vt,"USER_NOT_FOUND","user-token-expired"),y(Vt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),y(Vt,"INVALID_CODE","invalid-verification-code"),y(Vt,"INVALID_SESSION_INFO","invalid-verification-id"),y(Vt,"INVALID_TEMPORARY_PROOF","invalid-credential"),y(Vt,"MISSING_SESSION_INFO","missing-verification-id"),y(Vt,"SESSION_EXPIRED","code-expired"),y(Vt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),y(Vt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),y(Vt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),y(Vt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),y(Vt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),y(Vt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),y(Vt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),y(Vt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),y(Vt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),y(Vt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),y(Vt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Vt),xn=new gn(3e4,6e4);function En(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function In(e,t,n,r){return _n.apply(this,arguments)}function _n(){return _n=le(oe().mark((function e(t,n,r,i){var a,o=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Tn(t,a,le(oe().mark((function e(){var a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=$(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",bn.fetch()(Cn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function Tn(e,t,n){return Sn.apply(this,arguments)}function Sn(){return Sn=le(oe().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,p;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},wn),n),e.prev=2,a=new On(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Pn(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Pn(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Pn(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Pn(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw un(t,p,d);case 34:an(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof W)){e.next=41;break}throw e.t0;case 41:an(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Sn.apply(this,arguments)}function An(e,t,n,r){return Nn.apply(this,arguments)}function Nn(){return Nn=le(oe().mark((function e(t,n,r,i){var a,o,u=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,In(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&an(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}function Cn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?kn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var On=function(){function e(t){var n=this;g(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(on(n.auth,"network-request-failed"))}),xn.get())}))}return b(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Pn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=on(e,t,r);return i.customData._tokenResponse=n,i}function Rn(e,t){return Dn.apply(this,arguments)}function Dn(){return Dn=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}function Ln(e,t){return Mn.apply(this,arguments)}function Mn(){return Mn=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Mn.apply(this,arguments)}function Fn(e,t){return Un.apply(this,arguments)}function Un(){return Un=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Un.apply(this,arguments)}function jn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Vn(){return Vn=le(oe().mark((function e(t){var n,r,i,a,o,u,s=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ae(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ln((a=qn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:jn(Bn(a.auth_time)),issuedAtTime:jn(Bn(a.iat)),expirationTime:jn(Bn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function Bn(e){return 1e3*Number(e)}function qn(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return rn("JWT malformed, contained fewer than 3 sections"),null;try{var a=L(r);return a?JSON.parse(a):(rn("Failed to decode base64 JWT payload"),null)}catch(o){return rn("Caught error parsing JWT payload as JSON",o),null}}function zn(e,t){return Kn.apply(this,arguments)}function Kn(){return Kn=le(oe().mark((function e(t,n){var r=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof W&&Qn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Kn.apply(this,arguments)}function Qn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Wn=function(){function e(t){g(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return b(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(le(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Gn=function(){function e(t,n){g(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return b(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Hn(e){return Yn.apply(this,arguments)}function Yn(){return Yn=le(oe().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,zn(t,Fn(r,{idToken:i}));case 6:ln(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Xn(o.providerUserInfo):[],s=Jn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Gn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Yn.apply(this,arguments)}function Zn(){return(Zn=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ae(t),e.next=3,Hn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(se(n),se(t))}function Xn(e){return e.map((function(e){var t=e.providerId,n=jt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function $n(e,t){return er.apply(this,arguments)}function er(){return er=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tn(t,{},le(oe().mark((function e(){var r,i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Cn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",bn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}var tr=function(){function e(){g(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return b(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ln(e.idToken,"internal-error"),ln("undefined"!==typeof e.idToken,"internal-error"),ln("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=qn(e);return ln(t,"internal-error"),ln("undefined"!==typeof t.exp,"internal-error"),ln("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=le(oe().mark((function e(t){var n,r=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ln(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=le(oe().mark((function e(t,n){var r,i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return fn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ln("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ln("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ln("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function nr(e,t){ln("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var rr=function(){function e(t){g(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=jt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?se(a.providerData):[],this.metadata=new Gn(a.createdAt||void 0,a.lastLoginAt||void 0)}return b(e,[{key:"getIdToken",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ln(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Vn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Zn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ln(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ln(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=le(oe().mark((function e(t){var n,r,i=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Hn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,zn(this,Rn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;ln(k&&E,t,"internal-error");var I=tr.fromJSON(this.name,E);ln("string"===typeof k,t,"internal-error"),nr(f,t.name),nr(h,t.name),ln("boolean"===typeof b,t,"internal-error"),ln("boolean"===typeof w,t,"internal-error"),nr(d,t.name),nr(p,t.name),nr(v,t.name),nr(m,t.name),nr(y,t.name),nr(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=le(oe().mark((function t(n,r){var i,a,o,u=arguments;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new tr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Hn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ir=function(){function e(){g(this,e),this.type="NONE",this.storage={}}return b(e,[{key:"_isAvailable",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ir.type="NONE";var ar=ir;function or(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ur=function(){function e(t,n,r){g(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=or(this.userKey,a.apiKey,o),this.fullPersistenceKey=or("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return b(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?rr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=le(oe().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(pn(ar),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||pn(ar),u=or(i,n.config.apiKey,n.name),s=null,c=w(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=rr._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function sr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pr(t))return"Blackberry";if(vr(t))return"Webos";if(lr(t))return"Safari";if((t.includes("chrome/")||fr(t))&&!t.includes("edge/"))return"Chrome";if(dr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/firefox\//i.test(e)}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/crios\//i.test(e)}function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/iemobile/i.test(e)}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/android/i.test(e)}function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/blackberry/i.test(e)}function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/webos/i.test(e)}function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/iphone|ipad|ipod/i.test(e)}function yr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return mr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function gr(){return K()&&10===document.documentMode}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return mr(e)||dr(e)||vr(e)||pr(e)||/windows phone/i.test(e)||hr(e)}function br(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sr(j());break;case"Worker":t="".concat(sr(j()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ot,"/").concat(r)}var wr=function(){function e(t){g(this,e),this.auth=t,this.queue=[]}return b(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=le(oe().mark((function e(t){var n,r,i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=w(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=w(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),xr=function(){function e(t,n,r){g(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ir(this),this.idTokenSubscription=new Ir(this),this.beforeStateQueue=new wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return b(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=pn(t)),this._initializationPromise=this.queue(le(oe().mark((function r(){var i,a;return oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ur.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=le(oe().mark((function e(t){var n,r,i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ln(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ae(t):null)&&ln(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=le(oe().mark((function e(t){var n,r=this,i=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ln(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(le(oe().mark((function n(){return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(pn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new G("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ln(n=t&&pn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ur.create(this,[pn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=le(oe().mark((function e(t){var n=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ln(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ln(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=br(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=le(oe().mark((function e(){var t,n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Er(e){return ae(e)}var Ir=function(){function e(t){var n=this;g(this,e),this.auth=t,this.observer=null,this.addObserver=ne((function(e){return n.observer=e}))}return b(e,[{key:"next",get:function(){return ln(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function _r(e,t,n){var r=Er(e);ln(r._canInitEmulator,r,"emulator-config-failed"),ln(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Tr(t),o=function(e){var t=Tr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Sr(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:Sr(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Tr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ar=function(){function e(t,n){g(this,e),this.providerId=t,this.signInMethod=n}return b(e,[{key:"toJSON",value:function(){return fn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return fn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return fn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return fn("not implemented")}}]),e}();function Nr(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:resetPassword",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Or(e,t){return Pr.apply(this,arguments)}function Pr(){return Pr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Rr(e,t){return Dr.apply(this,arguments)}function Dr(){return Dr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithPassword",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(e,t){return Ur.apply(this,arguments)}function Ur(){return Ur=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:sendOobCode",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function jr(e,t){return Vr.apply(this,arguments)}function Vr(){return Vr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}function Br(e,t){return qr.apply(this,arguments)}function qr(){return qr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function zr(e,t){return Kr.apply(this,arguments)}function Kr(){return Kr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Qr(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fr(t,n));case 1:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Gr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithEmailLink",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Yr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithEmailLink",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}var Jr=function(e){I(n,e);var t=N(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return g(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return b(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Lr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gr(t,{email:this._email,oobCode:this._password}));case 5:an(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Or(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Yr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:an(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ar);function Xr(e,t){return $r.apply(this,arguments)}function $r(){return $r=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithIdp",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}var ei=function(e){I(n,e);var t=N(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return b(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Xr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Xr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Xr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):an("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=jt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ar);function ti(e,t){return ni.apply(this,arguments)}function ni(){return ni=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:sendVerificationCode",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(){return ri=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(){return ii=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Pn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}var ai=y({},"USER_NOT_FOUND","user-not-found");function oi(){return oi=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",An(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,r),ai));case 2:case"end":return e.stop()}}),e)}))),oi.apply(this,arguments)}var ui=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this,"phone","phone")).params=e,r}return b(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ri.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ii.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return oi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ar);var si=function(){function e(t){var n,r,i,a,o,u;g(this,e);var s=ee(te(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ln(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return b(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ee(te(e)).link,n=t?ee(te(t)).deep_link_id:null,r=ee(te(e)).deep_link_id;return(r?ee(te(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(vx){return null}}}]),e}();var ci=function(){function e(){g(this,e),this.providerId=e.PROVIDER_ID}return b(e,null,[{key:"credential",value:function(e,t){return Jr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=si.parseLink(t);return ln(n,"argument-error"),Jr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ci.PROVIDER_ID="password",ci.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ci.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var li=function(){function e(t){g(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return b(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),fi=function(e){I(n,e);var t=N(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).scopes=[],e}return b(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return se(this.scopes)}}]),n}(li),hi=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ln(e.idToken||e.accessToken,"argument-error"),ei._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ln("providerId"in t&&"signInMethod"in t,"argument-error"),ei._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(fi),di=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.call(this,"facebook.com")}return b(n,null,[{key:"credential",value:function(e){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(vx){return null}}}]),n}(fi);di.FACEBOOK_SIGN_IN_METHOD="facebook.com",di.PROVIDER_ID="facebook.com";var pi=function(e){I(n,e);var t=N(n);function n(){var e;return g(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return b(n,null,[{key:"credential",value:function(e,t){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(vx){return null}}}]),n}(fi);pi.GOOGLE_SIGN_IN_METHOD="google.com",pi.PROVIDER_ID="google.com";var vi=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.call(this,"github.com")}return b(n,null,[{key:"credential",value:function(e){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(vx){return null}}}]),n}(fi);vi.GITHUB_SIGN_IN_METHOD="github.com",vi.PROVIDER_ID="github.com";var mi=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return b(n,[{key:"_getIdTokenResponse",value:function(e){return Xr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Xr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Xr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ar),yi=function(e){I(n,e);var t=N(n);function n(e){return g(this,n),ln(e.startsWith("saml."),"argument-error"),t.call(this,e)}return b(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=mi.fromJSON(e);return ln(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return mi._create(r,n)}catch(i){return null}}}]),n}(li),gi=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.call(this,"twitter.com")}return b(n,null,[{key:"credential",value:function(e,t){return ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(vx){return null}}}]),n}(fi);function ki(e,t){return bi.apply(this,arguments)}function bi(){return bi=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signUp",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}gi.TWITTER_SIGN_IN_METHOD="twitter.com",gi.PROVIDER_ID="twitter.com";var wi=function(){function e(t){g(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return b(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=le(oe().mark((function t(n,r,i){var a,o,u,s,c=arguments;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,rr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=xi(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=le(oe().mark((function t(n,r,i){var a;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=xi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function xi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ei(){return Ei=le(oe().mark((function e(t){var n,r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new wi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ki(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,wi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}var Ii=function(e){I(n,e);var t=N(n);function n(e,r,i,a){var o,u;return g(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return b(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(W);function _i(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ii._fromErrorAndOperation(e,n,t,r);throw n}))}function Ti(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Si(e,t){return Ai.apply(this,arguments)}function Ai(){return Ai=le(oe().mark((function e(t,n){var r,i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ae(t),e.next=3,Oi(!0,r,n);case 3:return e.t0=Ln,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ti(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Ni(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=le(oe().mark((function e(t,n){var r,i,a=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=zn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",wi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function Oi(e,t,n){return Pi.apply(this,arguments)}function Pi(){return(Pi=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(n);case 2:i=Ti(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ln(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(e,t){return Di.apply(this,arguments)}function Di(){return Di=le(oe().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,zn(t,_i(i,a,n,t),r);case 6:return ln((o=e.sent).idToken,i,"internal-error"),ln(u=qn(o.idToken),i,"internal-error"),s=u.sub,ln(t.uid===s,i,"user-mismatch"),e.abrupt("return",wi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&an(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Di.apply(this,arguments)}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=le(oe().mark((function e(t,n){var r,i,a,o,u=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,_i(t,i,n);case 4:return a=e.sent,e.next=7,wi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Li(Er(t),n));case 1:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function ji(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ae(t),e.next=3,Oi(!1,r,n.providerId);case 3:return e.abrupt("return",Ni(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(ae(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An(t,"POST","/v1/accounts:signInWithCustomToken",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Qi(){return Qi=le(oe().mark((function e(t,n){var r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t),e.next=3,zi(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,wi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}var Wi=function(){function e(t,n){g(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return b(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Gi._fromServerResponse(e,t):an(e,"internal-error")}}]),e}(),Gi=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return b(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Wi);function Hi(e,t,n){var r;ln((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ln("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ln(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ln(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Yi(){return Yi=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),a={requestType:"PASSWORD_RESET",email:n},r&&Hi(i,a,r),e.next=5,Br(i,a);case 5:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function Zi(){return Zi=le(oe().mark((function e(t,n,r){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(ae(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}function Ji(){return Ji=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr(ae(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Xi(e,t){return $i.apply(this,arguments)}function $i(){return $i=le(oe().mark((function e(t,n){var r,i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ae(t),e.next=3,Nr(r,{oobCode:n});case 3:i=e.sent,ln(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ln(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ln(i.mfaInfo,r,"internal-error");case 13:ln(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Wi._fromServerResponse(Er(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function ea(){return ea=le(oe().mark((function e(t,n){var r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(ae(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t,n){return na.apply(this,arguments)}function na(){return na=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),e.next=3,ki(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,wi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(){return ra=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),a={requestType:"EMAIL_SIGNIN",email:n},ln(r.handleCodeInApp,i,"argument-error"),r&&Hi(i,a,r),e.next=6,zr(i,a);case 6:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(){return ia=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),ln((a=ci.credentialWithLink(n,r||vn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Fi(i,a));case 4:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:createAuthUri",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function ua(){return ua=le(oe().mark((function e(t,n){var r,i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn()?vn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,aa(ae(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function sa(){return(sa=le(oe().mark((function e(t,n){var r,i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ae(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Hi(r.auth,a,n),e.next=8,jr(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(){return(ca=le(oe().mark((function e(t,n,r){var i,a,o,u;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Hi(i.auth,o,r),e.next=8,Qr(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e,t){return fa.apply(this,arguments)}function fa(){return fa=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",In(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function ha(){return(ha=le(oe().mark((function e(t,n){var r,i,a,o,u,s,c;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ae(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,zn(a,la(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t,n){return pa.apply(this,arguments)}function pa(){return pa=le(oe().mark((function e(t,n,r){var i,a,o,u;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,zn(t,Or(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}var va=b((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ma=function(e){I(n,e);var t=N(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this,e,r,i)).username=a,o}return b(n)}(va),ya=function(e){I(n,e);var t=N(n);function n(e,r){return g(this,n),t.call(this,e,"facebook.com",r)}return b(n)}(va),ga=function(e){I(n,e);var t=N(n);function n(e,r){return g(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return b(n)}(ma),ka=function(e){I(n,e);var t=N(n);function n(e,r){return g(this,n),t.call(this,e,"google.com",r)}return b(n)}(va),ba=function(e){I(n,e);var t=N(n);function n(e,r,i){return g(this,n),t.call(this,e,"twitter.com",r,i)}return b(n)}(ma);function wa(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=qn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new va(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ya(a,i);case"github.com":return new ga(a,i);case"google.com":return new ka(a,i);case"twitter.com":return new ba(a,i,e.screenName||null);case"custom":case"anonymous":return new va(a,null);default:return new va(a,r,i)}}(n)}var xa=function(){function e(t,n){g(this,e),this.type=t,this.credential=n}return b(e,[{key:"toJSON",value:function(){return{multiFactorSession:y({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ea=function(){function e(t,n,r){g(this,e),this.session=t,this.hints=n,this.signInResolver=r}return b(e,[{key:"resolveSignIn",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Er(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Wi._fromServerResponse(r,e)}));ln(i.mfaPendingCredential,r,"internal-error");var o=xa._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=le(oe().mark((function e(t){var a,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,wi._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ln(n.user,r,"internal-error"),e.abrupt("return",wi._forOperation(n.user,n.operationType,u));case 17:an(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ia(e,t){return In(e,"POST","/v2/accounts/mfaEnrollment:start",En(e,t))}function _a(e,t){return In(e,"POST","/v2/accounts/mfaEnrollment:withdraw",En(e,t))}var Ta=function(){function e(t){var n=this;g(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Wi._fromServerResponse(t.auth,e)})))}))}return b(e,[{key:"getSession",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xa,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=le(oe().mark((function e(t,n){var r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,zn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=le(oe().mark((function e(t){var n,r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,zn(this.user,_a(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Sa=new WeakMap;var Aa="__sak",Na=function(){function e(t,n){g(this,e),this.storageRetriever=t,this.type=n}return b(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Aa,"1"),this.storage.removeItem(Aa),Promise.resolve(!0)):Promise.resolve(!1)}catch(vx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ca=function(e){I(n,e);var t=N(n);function n(){var e;return g(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=j();return lr(e)||mr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=kr(),e._shouldAllowMigration=!0,e}return b(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);gr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=le(oe().mark((function e(t,r){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(_(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=le(oe().mark((function e(t){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(_(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(_(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Na);Ca.type="LOCAL";var Oa=Ca,Pa=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return b(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Na);Pa.type="SESSION";var Ra=Pa;function Da(e){return Promise.all(e.map(function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var La=function(){function e(t){g(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return b(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=le(oe().mark((function e(t){var n,r,i,a,o,u,s,c;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Da(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ma(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}La.receivers=[];var Fa=function(){function e(t){g(this,e),this.target=t,this.handlers=new Set}return b(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=le(oe().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ma("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ua(){return window}function ja(){return"undefined"!==typeof Ua().WorkerGlobalScope&&"function"===typeof Ua().importScripts}function Va(){return Ba.apply(this,arguments)}function Ba(){return(Ba=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function qa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var za="firebaseLocalStorageDb",Ka="firebaseLocalStorage",Qa="fbase_key",Wa=function(){function e(t){g(this,e),this.request=t}return b(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ga(e,t){return e.transaction([Ka],t?"readwrite":"readonly").objectStore(Ka)}function Ha(){var e=indexedDB.deleteDatabase(za);return new Wa(e).toPromise()}function Ya(){var e=indexedDB.open(za,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ka,{keyPath:Qa})}catch(r){n(r)}})),e.addEventListener("success",le(oe().mark((function n(){var r;return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ka)){n.next=12;break}return r.close(),n.next=5,Ha();case 5:return n.t0=t,n.next=8,Ya();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Za(e,t,n){return Ja.apply(this,arguments)}function Ja(){return Ja=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ga(t,!0).put((y(i={},Qa,n),y(i,"value",r),i)),e.abrupt("return",new Wa(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Xa(e,t){return $a.apply(this,arguments)}function $a(){return $a=le(oe().mark((function e(t,n){var r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ga(t,!1).get(n),e.next=3,new Wa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function eo(e,t){var n=Ga(e,!0).delete(t);return new Wa(n).toPromise()}var to=function(){function e(){g(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return b(e,[{key:"_openDb",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ya();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=le(oe().mark((function e(){var t=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=La._getInstance(ja()?self:null),this.receiver._subscribe("keyChanged",function(){var e=le(oe().mark((function e(n,r){var i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=le(oe().mark((function e(){var t,n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Fa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&qa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ya();case 5:return t=e.sent,e.next=8,Za(t,Aa,"1");case 8:return e.next=10,eo(t,Aa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=le(oe().mark((function e(t,n){var r=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Za(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Xa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=le(oe().mark((function e(t){var n=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return eo(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=le(oe().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ga(e,!1).getAll();return new Wa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=w(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(le(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();to.type="LOCAL";var no=to;function ro(e,t){return In(e,"POST","/v2/accounts/mfaSignIn:start",En(e,t))}function io(e){return ao.apply(this,arguments)}function ao(){return ao=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=on("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function uo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var so=1e12,co=function(){function e(t){g(this,e),this.auth=t,this.counter=so,this._widgets=new Map}return b(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new lo(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||so;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||so;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||so,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),lo=function(){function e(t,n,r){var i=this;g(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ln(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return b(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var fo=uo("rcb"),ho=new gn(3e4,6e4),po="https://www.google.com/recaptcha/api.js?",vo=function(){function e(){g(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ua().grecaptcha}return b(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ln(mo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ua().grecaptcha):new Promise((function(r,i){var a=Ua().setTimeout((function(){i(on(e,"network-request-failed"))}),ho.get());Ua()[fo]=function(){Ua().clearTimeout(a),delete Ua()[fo];var o=Ua().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(on(e,"internal-error"))},oo("".concat(po,"?").concat($({onload:fo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(on(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ua().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function mo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var yo=function(){function e(){g(this,e)}return b(e,[{key:"load",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new co(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),go="recaptcha",ko={theme:"light",type:"image"},bo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ko),r=arguments.length>2?arguments[2]:void 0;g(this,e),this.parameters=n,this.type=go,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Er(r),this.isInvisible="invisible"===this.parameters.size,ln("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ln(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yo:new vo,this.validateStartingState()}return b(e,[{key:"verify",value:function(){var e=le(oe().mark((function e(){var t,n,r,i=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ln(!this.parameters.sitekey,this.auth,"argument-error"),ln(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ln("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ua()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ln(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=le(oe().mark((function e(){var t,n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ln(mn()&&!ja(),this.auth,"internal-error"),e.next=3,wo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,io(this.auth);case 8:ln(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ln(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function wo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var xo=function(){function e(t,n){g(this,e),this.verificationId=t,this.onConfirmation=n}return b(e,[{key:"confirm",value:function(e){var t=ui._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Eo(){return Eo=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),e.next=3,So(i,n,ae(r));case 3:return a=e.sent,e.abrupt("return",new xo(a,(function(e){return Fi(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function Io(e,t,n){return _o.apply(this,arguments)}function _o(){return(_o=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),e.next=3,Oi(!1,i,"phone");case 3:return e.next=5,So(i.auth,n,ae(r));case 5:return a=e.sent,e.abrupt("return",new xo(a,(function(e){return ji(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(){return(To=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t),e.next=3,So(i.auth,n,ae(r));case 3:return a=e.sent,e.abrupt("return",new xo(a,(function(e){return Bi(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,t,n){return Ao.apply(this,arguments)}function Ao(){return Ao=le(oe().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ln("string"===typeof a,t,"argument-error"),ln(r.type===go,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ln("enroll"===u.type,t,"internal-error"),e.next=13,Ia(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ln("signin"===u.type,t,"internal-error"),ln(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ro(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ti(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ao.apply(this,arguments)}function No(){return(No=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ni(ae(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Co=function(){function e(t){g(this,e),this.providerId=e.PROVIDER_ID,this.auth=Er(t)}return b(e,[{key:"verifyPhoneNumber",value:function(e,t){return So(this.auth,e,ae(t))}}],[{key:"credential",value:function(e,t){return ui._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ui._fromTokenResponse(n,r):null}}]),e}();function Oo(e,t){return t?pn(t):(ln(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Co.PROVIDER_ID="phone",Co.PHONE_SIGN_IN_METHOD="phone";var Po=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this,"custom","custom")).params=e,r}return b(n,[{key:"_getIdTokenResponse",value:function(e){return Xr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Xr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Xr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ar);function Ro(e){return Li(e.auth,new Po(e),e.bypassAuthState)}function Do(e){var t=e.auth,n=e.user;return ln(n,t,"internal-error"),Ri(n,new Po(e),e.bypassAuthState)}function Lo(e){return Mo.apply(this,arguments)}function Mo(){return Mo=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ln(r=t.user,n,"internal-error"),e.abrupt("return",Ni(r,new Po(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}var Fo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];g(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return b(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=le(oe().mark((function t(n,r){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=le(oe().mark((function e(t){var n,r,i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ro;case"linkViaPopup":case"linkViaRedirect":return Lo;case"reauthViaPopup":case"reauthViaRedirect":return Do;default:an(this.auth,"internal-error")}}},{key:"resolve",value:function(e){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Uo=new gn(2e3,1e4);function jo(e,t,n){return Vo.apply(this,arguments)}function Vo(){return Vo=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),sn(t,n,li),a=Oo(i,r),o=new Ko(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Bo(){return(Bo=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn((i=ae(t)).auth,n,li),a=Oo(i.auth,r),o=new Ko(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t,n){return zo.apply(this,arguments)}function zo(){return(zo=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn((i=ae(t)).auth,n,li),a=Oo(i.auth,r),o=new Ko(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ko=function(e){I(n,e);var t=N(n);function n(e,r,i,a,o){var u;return g(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(u),u}return b(n,[{key:"executeNotNull",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ln(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=le(oe().mark((function e(){var t,n=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn(1===this.filter.length,"Popup operations only handle one event"),t=Ma(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(on(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(on(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(on(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Uo.get())}()}}]),n}(Fo);Ko.currentPopupAction=null;var Qo=new Map,Wo=function(e){I(n,e);var t=N(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return g(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return b(n,[{key:"execute",value:function(){var e=le(oe().mark((function e(){var t,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Qo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Go(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ut(_(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Qo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Qo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=le(oe().mark((function e(t){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ut(_(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ut(_(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Fo);function Go(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=le(oe().mark((function e(t,n){var r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(n),i=Xo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Yo(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(t)._set($o(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function Jo(e,t){Qo.set(e._key(),t)}function Xo(e){return pn(e._redirectPersistence)}function $o(e){return or("pendingRedirect",e.config.apiKey,e.name)}function eu(e,t,n){return function(e,t,n){return tu.apply(this,arguments)}(e,t,n)}function tu(){return tu=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),sn(t,n,li),a=Oo(i,r),e.next=5,Yo(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e,t,n){return function(e,t,n){return ru.apply(this,arguments)}(e,t,n)}function ru(){return(ru=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn((i=ae(t)).auth,n,li),a=Oo(i.auth,r),e.next=5,Yo(a,i.auth);case 5:return e.next=7,lu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t,n){return function(e,t,n){return au.apply(this,arguments)}(e,t,n)}function au(){return(au=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn((i=ae(t)).auth,n,li),a=Oo(i.auth,r),e.next=5,Oi(!1,i,n.providerId);case 5:return e.next=7,Yo(a,i.auth);case 7:return e.next=9,lu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(e,t){return uu.apply(this,arguments)}function uu(){return uu=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(t)._initializationPromise;case 2:return e.abrupt("return",su(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=le(oe().mark((function e(t,n){var r,i,a,o,u,s=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Er(t),a=Oo(i,n),o=new Wo(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e){return fu.apply(this,arguments)}function fu(){return(fu=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ma("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hu=function(){function e(t){g(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return b(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!pu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(on(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(du(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(du(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function du(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function pu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function vu(e){return mu.apply(this,arguments)}function mu(){return mu=le(oe().mark((function e(t){var n,r=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",In(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}var yu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gu=/^https?/;function ku(){return ku=le(oe().mark((function e(t){var n,r,i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,vu(t);case 4:n=e.sent,r=n.authorizedDomains,i=w(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!bu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:an(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ku.apply(this,arguments)}function bu(e){var t=vn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!gu.test(r))return!1;if(yu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var wu=new gn(3e4,6e4);function xu(){var e=Ua().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=se(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Eu=null;function Iu(e){return Eu=Eu||function(e){return new Promise((function(t,n){var r,i,a;function o(){xu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){xu(),n(on(e,"network-request-failed"))},timeout:wu.get()})}if(null===(i=null===(r=Ua().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ua().gapi)||void 0===a?void 0:a.load)){var u=uo("iframefcb");return Ua()[u]=function(){gapi.load?o():n(on(e,"network-request-failed"))},oo("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Eu=null,e}))}(e),Eu}var _u=new gn(5e3,15e3),Tu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Su=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Au(e){var t=e.config;ln(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?kn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ot},i=Su.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat($(r).slice(1))}function Nu(e){return Cu.apply(this,arguments)}function Cu(){return Cu=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iu(t);case 2:return n=e.sent,ln(r=Ua().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Au(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tu,dontclear:!0},(function(e){return new Promise(function(){var n=le(oe().mark((function n(r,i){var a,o,u;return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ua().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=on(t,"network-request-failed"),o=Ua().setTimeout((function(){i(a)}),_u.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}var Ou={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pu="_blank",Ru="http://localhost",Du=function(){function e(t){g(this,e),this.window=t,this.associatedEvent=null}return b(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Lu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ou),{width:r.toString(),height:i.toString(),top:a,left:o}),c=j().toLowerCase();n&&(u=fr(c)?Pu:n),cr(c)&&(t=t||Ru,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(yr(c)&&"_self"!==u)return Mu(t||"",u),new Du(null);var h=window.open(t||"",u,l);ln(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Du(h)}function Mu(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Fu="__/auth/handler",Uu="emulator/auth/handler";function ju(e,t,n,r,i,a){ln(e.config.authDomain,e,"auth-domain-config-required"),ln(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ot,eventId:i};if(t instanceof li){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=f(s[u],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof fi){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Fu);return kn(t,Uu)}(e),"?").concat($(p).slice(1))}var Vu="webStorageSupport",Bu=function(){function e(){g(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ra,this._completeRedirectFn=su,this._overrideRedirectResult=Jo}return b(e,[{key:"_openPopup",value:function(){var e=le(oe().mark((function e(t,n,r,i){var a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ju(t,n,r,vn(),i),e.abrupt("return",Lu(t,o,Ma()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=le(oe().mark((function e(t,n,r,i){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ju(t,n,r,vn(),i),Ua().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(hn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(t);case 2:return n=e.sent,r=new hu(t),n.register("authEvent",(function(e){return ln(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Vu,{type:Vu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),an(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ku.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return kr()||lr()||mr()}}]),e}(),qu=Bu,zu=function(){function e(t){g(this,e),this.factorId=t}return b(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return fn("unexpected MultiFactorSessionType")}}}]),e}(),Ku=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this,"phone")).credential=e,r}return b(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return In(e,"POST","/v2/accounts/mfaEnrollment:finalize",En(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return In(e,"POST","/v2/accounts/mfaSignIn:finalize",En(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(zu),Qu=function(){function e(){g(this,e)}return b(e,null,[{key:"assertion",value:function(e){return Ku._fromCredential(e)}}]),e}();Qu.FACTOR_ID="phone";var Wu,Gu="@firebase/auth",Hu="0.20.2",Yu=function(){function e(t){g(this,e),this.auth=t,this.internalListeners=new Map}return b(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ln(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Zu(){return window}Wu="Browser",$e(new fe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ln(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ln(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Wu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:br(Wu)},i=new xr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),$e(new fe("auth-internal",(function(e){return function(e){return new Yu(e)}(Er(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ht(Gu,Hu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Wu)),ht(Gu,Hu,"esm2017");function Ju(e,t,n){return Xu.apply(this,arguments)}function Xu(){return Xu=le(oe().mark((function e(t,n,r){var i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zu(),o=a.BuildInfo,hn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,is(n.sessionId);case 4:return u=e.sent,s={},mr()?s.ibi=o.packageName:dr()?s.apn=o.packageName:an(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ju(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}function $u(){return $u=le(oe().mark((function e(t){var n,r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zu(),r=n.BuildInfo,i={},mr()?i.iosBundleId=r.packageName:dr()?i.androidPackageName=r.packageName:an(t,"operation-not-supported-in-this-environment"),e.next=5,vu(t,i);case 5:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function es(e){var t=Zu().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ts(e,t,n){return ns.apply(this,arguments)}function ns(){return ns=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zu(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(on(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),dr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ns.apply(this,arguments)}function rs(e){var t,n,r,i,a,o,u,s,c,l,f=Zu();ln("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ln("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ln("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ln("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ln("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function is(e){return as.apply(this,arguments)}function as(){return(as=le(oe().mark((function e(t){var n,r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=os(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e){if(hn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var us=function(e){I(n,e);var t=N(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return b(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ut(_(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(hu);function ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ds(),postBody:null,tenantId:e.tenantId,error:on(e,"no-auth-event")}}function cs(e,t){return ps()._set(vs(e),t)}function ls(e){return fs.apply(this,arguments)}function fs(){return fs=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ps()._get(vs(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ps()._remove(vs(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){var n,r,i=function(e){var t=ms(e),n=t.link?decodeURIComponent(t.link):void 0,r=ms(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ms(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ms(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?on(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ds(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ps(){return pn(Oa)}function vs(e){return or("authEvent",e.config.apiKey,e.name)}function ms(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=u(t=n)||ue(t)||c(t)||l();r[0];return ee(r.slice(1).join("?"))}var ys=function(){function e(){g(this,e),this._redirectPersistence=Ra,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=su,this._overrideRedirectResult=Jo}return b(e,[{key:"_initialize",value:function(){var e=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new us(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){an(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=le(oe().mark((function e(t,n,r,i){var a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rs(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Qo.clear(),e.next=10,this._originValidation(t);case 10:return o=ss(t,r,i),e.next=13,cs(t,o);case 13:return e.next=15,Ju(t,o,n);case 15:return u=e.sent,e.next=18,es(u);case 18:return s=e.sent,e.abrupt("return",ts(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $u.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Zu(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(le(oe().mark((function n(){return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ls(e);case 2:t.onEvent(ks());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=le(oe().mark((function n(r){var i,a;return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ls(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=hs(i,r.url)),t.onEvent(a||ks());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Zu().handleOpenURL=function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),gs=ys;function ks(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}function bs(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return!("file:"!==bs()&&"ionic:"!==bs()&&"capacitor:"!==bs()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xs(){return K()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return/Edge\/\d+/.test(e)}function Is(){try{var e=self.localStorage,t=Ma();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return xs()||Es(e)}()||Q()}catch(n){return _s()&&Q()}return!1}function _s(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ts(){return("http:"===bs()||"https:"===bs()||q()||ws())&&!(z()||B())&&Is()&&!_s()}function Ss(){return ws()&&"undefined"!==typeof document}function As(){return Ns.apply(this,arguments)}function Ns(){return(Ns=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ss()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cs={LOCAL:"local",NONE:"none",SESSION:"session"},Os=ln,Ps="persistence";function Rs(e,t){Os(Object.values(Cs).includes(t),e,"invalid-persistence-type"),z()?Os(t!==Cs.SESSION,e,"unsupported-persistence-type"):B()?Os(t===Cs.NONE,e,"unsupported-persistence-type"):_s()?Os(t===Cs.NONE||t===Cs.LOCAL&&Q(),e,"unsupported-persistence-type"):Os(t===Cs.NONE||Is(),e,"unsupported-persistence-type")}function Ds(e){return Ls.apply(this,arguments)}function Ls(){return Ls=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Ms(),r=or(Ps,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ms(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Fs=ln,Us=function(){function e(){g(this,e),this.browserResolver=pn(qu),this.cordovaResolver=pn(gs),this.underlyingResolver=null,this._redirectPersistence=Ra,this._completeRedirectFn=su,this._overrideRedirectResult=Jo}return b(e,[{key:"_initialize",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=le(oe().mark((function e(t,n,r,i){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=le(oe().mark((function e(t,n,r,i){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ss()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Fs(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,As();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function js(e){return e.unwrap()}function Vs(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Qs(e,function(e,t){var n,r=ae(e),i=t;return ln(t.customData.operationType,r,"argument-error"),ln(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ea._fromError(r,i)}(e,t));else if(r){var i=Bs(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Bs(e){var t=(e instanceof W?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof W)&&"temporaryProof"in t&&"phoneNumber"in t)return Co.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Kt)return null;switch(r){case zt:n=pi;break;case Bt:n=di;break;case qt:n=vi;break;case Qt:n=gi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?mi._create(r,u):ei._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new hi(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof W?n.credentialFromError(e):n.credentialFromResult(e)}function qs(e,t){return t.catch((function(t){throw t instanceof W&&Vs(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Bs(t)),additionalUserInfo:wa(e),user:Ws.getOrCreate(r)}}))}function zs(e,t){return Ks.apply(this,arguments)}function Ks(){return Ks=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return qs(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Qs=function(){function e(t,n){g(this,e),this.resolver=n,this.auth=t.wrapped()}return b(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return qs(js(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Ws=function(){function e(t){g(this,e),this._delegate=t,this.multiFactor=function(e){var t=ae(e);return Sa.has(t)||Sa.set(t,Ta._fromUser(t)),Sa.get(t)}(t)}return b(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qs(this.auth,ji(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(this.auth,Io(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qs(this.auth,qo(this._delegate,t,Us)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(Er(this.auth));case 2:return e.abrupt("return",iu(this._delegate,t,Us));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qs(this.auth,Bi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return zs(this.auth,function(e,t,n){return To.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return qs(this.auth,function(e,t,n){return Bo.apply(this,arguments)}(this._delegate,e,Us))}},{key:"reauthenticateWithRedirect",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(Er(this.auth));case 2:return e.abrupt("return",nu(this._delegate,t,Us));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return sa.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return da(ae(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return da(ae(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return No.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ha.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ca.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Ws.USER_MAP=new WeakMap;var Gs=ln,Hs=function(){function e(t,n){if(g(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Gs(r,"invalid-api-key",{appName:t.name}),Gs(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Us:void 0;this._delegate=n.initialize({options:{persistence:Zs(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap($t),this.linkUnderlyingAuth()}return b(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Ws.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){_r(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ji.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Xi(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Zi.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qs(this._delegate,ta(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ua.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=si.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gs(Ts(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ou(this._delegate,Us);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",qs(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Er(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Ys(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Ys(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ra.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Yi.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rs(this._delegate,t),e.t0=t,e.next=e.t0===Cs.SESSION?4:e.t0===Cs.LOCAL?6:e.t0===Cs.NONE?11:13;break;case 4:return n=Ra,e.abrupt("break",14);case 6:return e.next=8,pn(no)._isAvailable();case 8:return r=e.sent,n=r?no:Oa,e.abrupt("break",14);case 11:return n=ar,e.abrupt("break",14);case 13:return e.abrupt("return",an("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return qs(this._delegate,function(e){return Ei.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return qs(this._delegate,Fi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return qs(this._delegate,function(e,t){return Qi.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return qs(this._delegate,function(e,t,n){return Fi(ae(e),ci.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return qs(this._delegate,function(e,t,n){return ia.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return zs(this._delegate,function(e,t,n){return Eo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gs(Ts(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",qs(this._delegate,jo(this._delegate,t,Us)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gs(Ts(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ds(this._delegate);case 3:return e.abrupt("return",eu(this._delegate,t,Us));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ea.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Ys(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Ws.getOrCreate(e))},error:t,complete:n}}function Zs(e,t){var n=function(e,t){var n=Ms();if(!n)return[];var r=or(Ps,e,t);switch(n.getItem(r)){case Cs.NONE:return[ar];case Cs.LOCAL:return[no,Ra];case Cs.SESSION:return[Ra];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(no)||n.push(no),"undefined"!==typeof window)for(var r=0,i=[Oa,Ra];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ar)||n.push(ar),n}Hs.Persistence=Cs;var Js=function(){function e(){g(this,e),this.providerId="phone",this._delegate=new Co(js(Mt.auth()))}return b(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Co.credential(e,t)}}]),e}();Js.PHONE_SIGN_IN_METHOD=Co.PHONE_SIGN_IN_METHOD,Js.PROVIDER_ID=Co.PROVIDER_ID;var Xs,$s=ln,ec=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mt.app();g(this,e),$s(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new bo(t,n,i.auth()),this.type=this._delegate.type}return b(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Xs=Mt).INTERNAL.registerComponent(new fe("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Hs(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Wt,PASSWORD_RESET:Gt,RECOVER_EMAIL:Ht,REVERT_SECOND_FACTOR_ADDITION:Yt,VERIFY_AND_CHANGE_EMAIL:Zt,VERIFY_EMAIL:Jt}},EmailAuthProvider:ci,FacebookAuthProvider:di,GithubAuthProvider:vi,GoogleAuthProvider:pi,OAuthProvider:hi,SAMLAuthProvider:yi,PhoneAuthProvider:Js,PhoneMultiFactorGenerator:Qu,RecaptchaVerifier:ec,TwitterAuthProvider:gi,Auth:Hs,AuthCredential:Ar,Error:W}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Xs.registerVersion("@firebase/auth-compat","0.2.15");var tc,nc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},rc={},ic=ic||{},ac=nc||self;function oc(){}function uc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function sc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var cc="closure_uid_"+(1e9*Math.random()>>>0),lc=0;function fc(e,t,n){return e.call.apply(e.bind,arguments)}function hc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function dc(e,t,n){return(dc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fc:hc).apply(null,arguments)}function pc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function vc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function mc(){this.s=this.s,this.o=this.o}var yc={};mc.prototype.s=!1,mc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,cc)&&e[cc]||(e[cc]=++lc)}(this);delete yc[e]}},mc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},kc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function bc(e){return Array.prototype.concat.apply([],arguments)}function wc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xc(e){return/^[\s\xa0]*$/.test(e)}var Ec,Ic=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function _c(e,t){return-1!=e.indexOf(t)}function Tc(e,t){return e<t?-1:e>t?1:0}e:{var Sc=ac.navigator;if(Sc){var Ac=Sc.userAgent;if(Ac){Ec=Ac;break e}}Ec=""}function Nc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Cc(e){var t={};for(var n in e)t[n]=e[n];return t}var Oc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Oc.length;a++)n=Oc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rc(e){return Rc[" "](e),e}Rc[" "]=oc;var Dc,Lc=_c(Ec,"Opera"),Mc=_c(Ec,"Trident")||_c(Ec,"MSIE"),Fc=_c(Ec,"Edge"),Uc=Fc||Mc,jc=_c(Ec,"Gecko")&&!(_c(Ec.toLowerCase(),"webkit")&&!_c(Ec,"Edge"))&&!(_c(Ec,"Trident")||_c(Ec,"MSIE"))&&!_c(Ec,"Edge"),Vc=_c(Ec.toLowerCase(),"webkit")&&!_c(Ec,"Edge");function Bc(){var e=ac.document;return e?e.documentMode:void 0}e:{var qc="",zc=function(){var e=Ec;return jc?/rv:([^\);]+)(\)|;)/.exec(e):Fc?/Edge\/([\d\.]+)/.exec(e):Mc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vc?/WebKit\/(\S+)/.exec(e):Lc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(zc&&(qc=zc?zc[1]:""),Mc){var Kc=Bc();if(null!=Kc&&Kc>parseFloat(qc)){Dc=String(Kc);break e}}Dc=qc}var Qc,Wc={};function Gc(){return function(e){var t=Wc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ic(String(Dc)).split("."),n=Ic("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Tc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Tc(0==a[2].length,0==o[2].length)||Tc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ac.document&&Mc){var Hc=Bc();Qc=Hc||(parseInt(Dc,10)||void 0)}else Qc=void 0;var Yc=Qc,Zc=function(){if(!ac.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ac.addEventListener("test",oc,t),ac.removeEventListener("test",oc,t)}catch(n){}return e}();function Jc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Xc(e,t){if(Jc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jc){e:{try{Rc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$c[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xc.Z.h.call(this)}}Jc.prototype.h=function(){this.defaultPrevented=!0},vc(Xc,Jc);var $c={2:"touch",3:"pen",4:"mouse"};Xc.prototype.h=function(){Xc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var el="closure_listenable_"+(1e6*Math.random()|0),tl=0;function nl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++tl,this.ca=this.fa=!1}function rl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function il(e){this.src=e,this.g={},this.h=0}function al(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=gc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(rl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ol(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}il.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ol(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new nl(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ul="closure_lm_"+(1e6*Math.random()|0),sl={};function cl(e,t,n,r,i){if(r&&r.once)return fl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)cl(e,t[a],n,r,i);return null}return n=gl(n),e&&e[el]?e.N(t,n,sc(r)?!!r.capture:!!r,i):ll(e,t,n,!1,r,i)}function ll(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=sc(i)?!!i.capture:!!i,u=ml(e);if(u||(e[ul]=u=new il(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=vl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fl(e,t[a],n,r,i);return null}return n=gl(n),e&&e[el]?e.O(t,n,sc(r)?!!r.capture:!!r,i):ll(e,t,n,!0,r,i)}function hl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)hl(e,t[a],n,r,i);else r=sc(r)?!!r.capture:!!r,n=gl(n),e&&e[el]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ol(a=e.g[t],n,r,i))&&(rl(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ml(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ol(t,n,r,i)),(n=-1<e?t[e]:null)&&dl(n))}function dl(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[el])al(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ml(t))?(al(n,e),0==n.h&&(n.src=null,t[ul]=null)):rl(e)}}}function pl(e){return e in sl?sl[e]:sl[e]="on"+e}function vl(e,t){if(e.ca)e=!0;else{t=new Xc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&dl(e),e=n.call(r,t)}return e}function ml(e){return(e=e[ul])instanceof il?e:null}var yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function gl(e){return"function"===typeof e?e:(e[yl]||(e[yl]=function(t){return e.handleEvent(t)}),e[yl])}function kl(){mc.call(this),this.i=new il(this),this.P=this,this.I=null}function bl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Jc(t,e);else if(t instanceof Jc)t.target=t.target||e;else{var i=t;Pc(t=new Jc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=wl(o,r,!0,t)&&i}if(i=wl(o=t.g=e,r,!0,t)&&i,i=wl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=wl(o=t.g=n[a],r,!1,t)&&i}function wl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&al(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}vc(kl,mc),kl.prototype[el]=!0,kl.prototype.removeEventListener=function(e,t,n,r){hl(this,e,t,n,r)},kl.prototype.M=function(){if(kl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rl(n[r]);delete t.g[e],t.h--}}this.I=null},kl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},kl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xl=ac.JSON.stringify;function El(){var e=Ol,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Il,_l=function(){function e(){g(this,e),this.h=this.g=null}return b(e,[{key:"add",value:function(e,t){var n=Tl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Tl=new(function(){function e(t,n){g(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return b(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Sl}),(function(e){return e.reset()})),Sl=function(){function e(){g(this,e),this.next=this.g=this.h=null}return b(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Al(e){ac.setTimeout((function(){throw e}),0)}function Nl(e,t){Il||function(){var e=ac.Promise.resolve(void 0);Il=function(){e.then(Pl)}}(),Cl||(Il(),Cl=!0),Ol.add(e,t)}var Cl=!1,Ol=new _l;function Pl(){for(var e;e=El();){try{e.h.call(e.g)}catch(n){Al(n)}var t=Tl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cl=!1}function Rl(e,t){kl.call(this),this.h=e||1,this.g=t||ac,this.j=dc(this.kb,this),this.l=Date.now()}function Dl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ll(e,t,n){if("function"===typeof e)n&&(e=dc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=dc(e.handleEvent,e)}return 2147483647<Number(t)?-1:ac.setTimeout(e,t||0)}function Ml(e){e.g=Ll((function(){e.g=null,e.i&&(e.i=!1,Ml(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}vc(Rl,kl),(tc=Rl.prototype).da=!1,tc.S=null,tc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bl(this,"tick"),this.da&&(Dl(this),this.start()))}},tc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tc.M=function(){Rl.Z.M.call(this),Dl(this),delete this.g};var Fl=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return b(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ml(this)}},{key:"M",value:function(){Ut(_(n.prototype),"M",this).call(this),this.g&&(ac.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(mc);function Ul(e){mc.call(this),this.h=e,this.g={}}vc(Ul,mc);var jl=[];function Vl(e,t,n,r){Array.isArray(n)||(n&&(jl[0]=n.toString()),n=jl);for(var i=0;i<n.length;i++){var a=cl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Bl(e){Nc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&dl(e)}),e),e.g={}}function ql(){this.g=!0}function zl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xl(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ul.prototype.M=function(){Ul.Z.M.call(this),Bl(this)},Ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ql.prototype.Aa=function(){this.g=!1},ql.prototype.info=function(){};var Kl={},Ql=null;function Wl(){return Ql=Ql||new kl}function Gl(e){Jc.call(this,Kl.Ma,e)}function Hl(e){var t=Wl();bl(t,new Gl(t,e))}function Yl(e,t){Jc.call(this,Kl.STAT_EVENT,e),this.stat=t}function Zl(e){var t=Wl();bl(t,new Yl(t,e))}function Jl(e,t){Jc.call(this,Kl.Na,e),this.size=t}function Xl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ac.setTimeout((function(){e()}),t)}Kl.Ma="serverreachability",vc(Gl,Jc),Kl.STAT_EVENT="statevent",vc(Yl,Jc),Kl.Na="timingevent",vc(Jl,Jc);var $l={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ef={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tf(){}function nf(e){return e.h||(e.h=e.i())}function rf(){}tf.prototype.h=null;var af,of={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function uf(){Jc.call(this,"d")}function sf(){Jc.call(this,"c")}function cf(){}function lf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ul(this),this.P=hf,e=Uc?125:void 0,this.W=new Rl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ff}function ff(){this.i=null,this.g="",this.h=!1}vc(uf,Jc),vc(sf,Jc),vc(cf,tf),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},af=new cf;var hf=45e3,df={},pf={};function vf(e,t,n){e.K=1,e.v=Uf(Pf(t)),e.s=n,e.U=!0,mf(e,null)}function mf(e,t){e.F=Date.now(),bf(e),e.A=Pf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Jf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ff,e.g=$h(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Fl(dc(e.Ia,e,e.g),e.O)),Vl(e.V,e.g,"readystatechange",e.gb),t=e.H?Cc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Hl(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function yf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function gf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=kf(e,n))==pf){4==t&&(e.o=4,Zl(14),i=!1),zl(e.j,e.m,null,"[Incomplete Response]");break}if(r==df){e.o=4,Zl(15),zl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zl(e.j,e.m,r,null),_f(e,r)}yf(e)&&r!=pf&&r!=df&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Zl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qh(t),t.L=!0,Zl(11))):(zl(e.j,e.m,n,"[Invalid Chunked Response]"),If(e),Ef(e))}function kf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?pf:(n=Number(t.substring(n,r)),isNaN(n)?df:(r+=1)+n>t.length?pf:(t=t.substr(r,n),e.C=r+n,t))}function bf(e){e.Y=Date.now()+e.P,wf(e,e.P)}function wf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Xl(dc(e.eb,e),t)}function xf(e){e.B&&(ac.clearTimeout(e.B),e.B=null)}function Ef(e){0==e.l.G||e.I||Hh(e.l,e)}function If(e){xf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Dl(e.W),Bl(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _f(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ah(n.i,e)))if(n.I=e.N,!e.J&&ah(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Gh(n),Mh(n)}Kh(n),Zl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Xl(dc(n.ab,n),6e3));if(1>=ih(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Zh(n,11)}else if((e.J||n.g==e)&&Gh(n),!xc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(_c(l,"spdy")||_c(l,"quic")||_c(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(oh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ff(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Xh(r,r.H?r.la:null,r.W),d.J){uh(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(xf(p),bf(p)),r.g=d}else zh(r);0<n.l.length&&jh(n)}else"stop"!=a[0]&&"close"!=a[0]||Zh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Zh(n,7):Lh(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Hl(4)}catch(a){}}function Tf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(uc(e)||"string"===typeof e)kc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(uc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(uc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Sf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Sf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Af(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Nf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Nf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Nf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(tc=lf.prototype).setTimeout=function(e){this.P=e},tc.gb=function(e){e=e.target;var t=this.L;t&&3==Ch(e)?t.l():this.Ia(e)},tc.Ia=function(e){try{if(e==this.g)e:{var t=Ch(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Uc||this.g&&(this.h.h||this.g.ga()||Oh(this.g)))){this.I||4!=t||7==n||Hl(8==n||0>=r?3:2),xf(this);var i=this.g.ba();this.N=i;t:if(yf(this)){var a=Oh(this.g);e="";var o=a.length,u=4==Ch(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){If(this),Ef(this);var s="";break t}this.h.i=new ac.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xc(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Zl(12),If(this),Ef(this);break e}zl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_f(this,i)}this.U?(gf(this,t,s),Uc&&this.i&&3==t&&(Vl(this.V,this.W,"tick",this.fb),this.W.start())):(zl(this.j,this.m,s,null),_f(this,s)),4==t&&If(this),this.i&&!this.I&&(4==t?Hh(this.l,this):(this.i=!1,bf(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Zl(12)):(this.o=0,Zl(13)),If(this),Ef(this)}}}catch(t){}},tc.fb=function(){if(this.g){var e=Ch(this.g),t=this.g.ga();this.C<t.length&&(xf(this),gf(this,e,t),this.i&&4!=e&&bf(this))}},tc.cancel=function(){this.I=!0,If(this)},tc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Hl(3),Zl(17)),If(this),this.o=2,Ef(this)):wf(this,this.Y-e)},(tc=Sf.prototype).R=function(){Af(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},tc.T=function(){return Af(this),this.g.concat()},tc.get=function(e,t){return Nf(this.h,e)?this.h[e]:t},tc.set=function(e,t){Nf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},tc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Cf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Of(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Of){this.g=void 0!==t?t:e.g,Rf(this,e.j),this.s=e.s,Df(this,e.i),Lf(this,e.m),this.l=e.l,t=e.h;var n=new Gf;n.i=t.i,t.g&&(n.g=new Sf(t.g),n.h=t.h),Mf(this,n),this.o=e.o}else e&&(n=String(e).match(Cf))?(this.g=!!t,Rf(this,n[1]||"",!0),this.s=jf(n[2]||""),Df(this,n[3]||"",!0),Lf(this,n[4]),this.l=jf(n[5]||"",!0),Mf(this,n[6]||"",!0),this.o=jf(n[7]||"")):(this.g=!!t,this.h=new Gf(null,this.g))}function Pf(e){return new Of(e)}function Rf(e,t,n){e.j=n?jf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Df(e,t,n){e.i=n?jf(t,!0):t}function Lf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Mf(e,t,n){t instanceof Gf?(e.h=t,function(e,t){t&&!e.j&&(Hf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yf(this,t),Jf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Vf(t,Qf)),e.h=new Gf(t,e.g))}function Ff(e,t,n){e.h.set(t,n)}function Uf(e){return Ff(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Bf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Of.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vf(t,qf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vf(t,qf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vf(n,"/"==n.charAt(0)?Kf:zf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vf(n,Wf)),e.join("")};var qf=/[#\/\?@]/g,zf=/[#\?:]/g,Kf=/[#\?]/g,Qf=/[#\?@]/g,Wf=/#/g;function Gf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hf(e){e.g||(e.g=new Sf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yf(e,t){Hf(e),t=Xf(e,t),Nf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Nf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Af(e)))}function Zf(e,t){return Hf(e),t=Xf(e,t),Nf(e.g.h,t)}function Jf(e,t,n){Yf(e,t),0<n.length&&(e.i=null,e.g.set(Xf(e,t),wc(n)),e.h+=n.length)}function Xf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(tc=Gf.prototype).add=function(e,t){Hf(this),this.i=null,e=Xf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},tc.forEach=function(e,t){Hf(this),this.g.forEach((function(n,r){kc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},tc.T=function(){Hf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},tc.R=function(e){Hf(this);var t=[];if("string"===typeof e)Zf(this,e)&&(t=bc(t,this.g.get(Xf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=bc(t,e[n])}return t},tc.set=function(e,t){return Hf(this),this.i=null,Zf(this,e=Xf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},tc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},tc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var $f=b((function e(t,n){g(this,e),this.h=t,this.g=n}));function eh(e){this.l=e||nh,ac.PerformanceNavigationTiming?e=0<(e=ac.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ac.g&&ac.g.Ea&&ac.g.Ea()&&ac.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var th,nh=10;function rh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ih(e){return e.h?1:e.g?e.g.size:0}function ah(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function oh(e,t){e.g?e.g.add(t):e.h=t}function uh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=w(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return wc(e.i)}function ch(){}function lh(){this.g=new ch}function fh(e,t,n){var r=n||"";try{Tf(e,(function(e,n){var i=e;sc(e)&&(i=xl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function hh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function dh(e){this.l=e.$b||null,this.j=e.ib||!1}function ph(e,t){kl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=vh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eh.prototype.cancel=function(){if(this.i=sh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=w(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ch.prototype.stringify=function(e){return ac.JSON.stringify(e,void 0)},ch.prototype.parse=function(e){return ac.JSON.parse(e,void 0)},vc(dh,tf),dh.prototype.g=function(){return new ph(this.l,this.j)},dh.prototype.i=(th={},function(){return th}),vc(ph,kl);var vh=0;function mh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function yh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gh(e)}function gh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(tc=ph.prototype).open=function(e,t){if(this.readyState!=vh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gh(this)},tc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ac).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},tc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yh(this)),this.readyState=vh},tc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ac.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},tc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yh(this):gh(this),3==this.readyState&&mh(this)}},tc.Ua=function(e){this.g&&(this.response=this.responseText=e,yh(this))},tc.Ta=function(e){this.g&&(this.response=e,yh(this))},tc.ha=function(){this.g&&yh(this)},tc.setRequestHeader=function(e,t){this.v.append(e,t)},tc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},tc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ph.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var kh=ac.JSON.parse;function bh(e){kl.call(this),this.headers=new Sf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wh,this.K=this.L=!1}vc(bh,kl);var wh="",xh=/^https?$/i,Eh=["POST","PUT"];function Ih(e){return"content-type"==e.toLowerCase()}function _h(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Th(e),Ah(e)}function Th(e){e.D||(e.D=!0,bl(e,"complete"),bl(e,"error"))}function Sh(e){if(e.h&&"undefined"!=typeof ic&&(!e.C[1]||4!=Ch(e)||2!=e.ba()))if(e.v&&4==Ch(e))Ll(e.Fa,0,e);else if(bl(e,"readystatechange"),4==Ch(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Cf)[1]||null;if(!a&&ac.self&&ac.self.location){var o=ac.self.location.protocol;a=o.substr(0,o.length-1)}i=!xh.test(a?a.toLowerCase():"")}t=i}if(t)bl(e,"complete"),bl(e,"success");else{e.m=6;try{var u=2<Ch(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Th(e)}}finally{Ah(e)}}}function Ah(e,t){if(e.g){Nh(e);var n=e.g,r=e.C[0]?oc:null;e.g=null,e.C=null,t||bl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Nh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ac.clearTimeout(e.A),e.A=null)}function Ch(e){return e.g?e.g.readyState:0}function Oh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case wh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ph(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Nc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ff(e,t,n))}function Rh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Dh(e){this.za=0,this.l=[],this.h=new ql,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rh("baseRetryDelayMs",5e3,e),this.$a=Rh("retryDelaySeedMs",1e4,e),this.Ya=Rh("forwardChannelMaxRetries",2,e),this.ra=Rh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new eh(e&&e.concurrentRequestLimit),this.Ca=new lh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Lh(e){if(Fh(e),3==e.G){var t=e.V++,n=Pf(e.F);Ff(n,"SID",e.J),Ff(n,"RID",t),Ff(n,"TYPE","terminate"),Bh(e,n),(t=new lf(e,e.h,t,void 0)).K=2,t.v=Uf(Pf(n)),n=!1,ac.navigator&&ac.navigator.sendBeacon&&(n=ac.navigator.sendBeacon(t.v.toString(),"")),!n&&ac.Image&&((new Image).src=t.v,n=!0),n||(t.g=$h(t.l,null),t.g.ea(t.v)),t.F=Date.now(),bf(t)}Jh(e)}function Mh(e){e.g&&(Qh(e),e.g.cancel(),e.g=null)}function Fh(e){Mh(e),e.u&&(ac.clearTimeout(e.u),e.u=null),Gh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ac.clearTimeout(e.m),e.m=null)}function Uh(e,t){e.l.push(new $f(e.Za++,t)),3==e.G&&jh(e)}function jh(e){rh(e.i)||e.m||(e.m=!0,Nl(e.Ha,e),e.C=0)}function Vh(e,t){var n;n=t?t.m:e.V++;var r=Pf(e.F);Ff(r,"SID",e.J),Ff(r,"RID",n),Ff(r,"AID",e.U),Bh(e,r),e.o&&e.s&&Ph(r,e.o,e.s),n=new lf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=qh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),oh(e.i,n),vf(n,r,t)}function Bh(e,t){e.j&&Tf({},(function(e,n){Ff(t,n,e)}))}function qh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?dc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{fh(l,o,"req"+c+"_")}catch(Sd){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function zh(e){e.g||e.u||(e.Y=1,Nl(e.Ga,e),e.A=0)}function Kh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Xl(dc(e.Ga,e),Yh(e,e.A)),e.A++,!0)}function Qh(e){null!=e.B&&(ac.clearTimeout(e.B),e.B=null)}function Wh(e){e.g=new lf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Pf(e.oa);Ff(t,"RID","rpc"),Ff(t,"SID",e.J),Ff(t,"CI",e.N?"0":"1"),Ff(t,"AID",e.U),Bh(e,t),Ff(t,"TYPE","xmlhttp"),e.o&&e.s&&Ph(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Uf(Pf(t)),n.s=null,n.U=!0,mf(n,e)}function Gh(e){null!=e.v&&(ac.clearTimeout(e.v),e.v=null)}function Hh(e,t){var n=null;if(e.g==t){Gh(e),Qh(e),e.g=null;var r=2}else{if(!ah(e.i,t))return;n=t.D,uh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;bl(r=Wl(),new Jl(r,n,t,i)),jh(e)}else zh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ih(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Xl(dc(e.Ha,e,t),Yh(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zh(e,5);break;case 4:Zh(e,10);break;case 3:Zh(e,6);break;default:Zh(e,2)}}function Yh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=dc(e.jb,e);n||(n=new Of("//www.google.com/images/cleardot.gif"),ac.location&&"http"==ac.location.protocol||Rf(n,"https"),Uf(n)),function(e,t){var n=new ql;if(ac.Image){var r=new Image;r.onload=pc(hh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pc(hh,n,r,"TestLoadImage: error",!1,t),r.onabort=pc(hh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pc(hh,n,r,"TestLoadImage: timeout",!1,t),ac.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zl(2);e.G=0,e.j&&e.j.va(t),Jh(e),Fh(e)}function Jh(e){e.G=0,e.I=-1,e.j&&(0==sh(e.i).length&&0==e.l.length||(e.i.i.length=0,wc(e.l),e.l.length=0),e.j.ua())}function Xh(e,t,n){var r=function(e){return e instanceof Of?Pf(e):new Of(e,void 0)}(n);if(""!=r.i)t&&Df(r,t+"."+r.i),Lf(r,r.m);else{var i=ac.location;r=function(e,t,n,r){var i=new Of(null,void 0);return e&&Rf(i,e),t&&Df(i,t),n&&Lf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Nc(e.aa,(function(e,t){Ff(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ff(r,t,n),Ff(r,"VER",e.ma),Bh(e,r),r}function $h(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new bh(new dh({ib:!0})):new bh(e.qa)).L=e.H,t}function ed(){}function td(){if(Mc&&!(10<=Number(Yc)))throw Error("Environmental error: no available transport.")}function nd(e,t){kl.call(this),this.g=new Dh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!xc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ad(this)}function rd(e){uf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function id(){sf.call(this),this.status=1}function ad(e){this.g=e}(tc=bh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():af.g(),this.C=this.u?nf(this.u):nf(af),this.g.onreadystatechange=dc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void _h(this,a)}e=n||"";var i=new Sf(this.headers);r&&Tf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ih,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ac.FormData&&e instanceof ac.FormData,!(0<=gc(Eh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nh(this),0<this.B&&((this.K=function(e){return Mc&&Gc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dc(this.pa,this)):this.A=Ll(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){_h(this,a)}},tc.pa=function(){"undefined"!=typeof ic&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bl(this,"timeout"),this.abort(8))},tc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bl(this,"complete"),bl(this,"abort"),Ah(this))},tc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ah(this,!0)),bh.Z.M.call(this)},tc.Fa=function(){this.s||(this.F||this.v||this.l?Sh(this):this.cb())},tc.cb=function(){Sh(this)},tc.ba=function(){try{return 2<Ch(this)?this.g.status:-1}catch(th){return-1}},tc.ga=function(){try{return this.g?this.g.responseText:""}catch(th){return""}},tc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),kh(t)}},tc.Da=function(){return this.m},tc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(tc=Dh.prototype).ma=8,tc.G=1,tc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},tc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new lf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Pc(n=Cc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=qh(this,t,r),Ff(i=Pf(this.F),"RID",e),Ff(i,"CVER",22),this.D&&Ff(i,"X-HTTP-Session-Id",this.D),Bh(this,i),this.o&&n&&Ph(i,this.o,n),oh(this.i,t),this.Ra&&Ff(i,"TYPE","init"),this.ja?(Ff(i,"$req",r),Ff(i,"SID","null"),t.$=!0,vf(t,i,null)):vf(t,i,r),this.G=2}}else 3==this.G&&(e?Vh(this,e):0==this.l.length||rh(this.i)||Vh(this))},tc.Ga=function(){if(this.u=null,Wh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Xl(dc(this.bb,this),e)}},tc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zl(10),Mh(this),Wh(this))},tc.ab=function(){null!=this.v&&(this.v=null,Mh(this),Kh(this),Zl(19))},tc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Zl(2)):(this.h.info("Failed to ping google.com"),Zl(1))},(tc=ed.prototype).xa=function(){},tc.wa=function(){},tc.va=function(){},tc.ua=function(){},tc.Oa=function(){},td.prototype.g=function(e,t){return new nd(e,t)},vc(nd,kl),nd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Nl(dc(e.hb,e,t))),Zl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Xh(e,null,e.W),jh(e)},nd.prototype.close=function(){Lh(this.g)},nd.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Uh(this.g,t)}else this.v?((t={}).__data__=xl(e),Uh(this.g,t)):Uh(this.g,e)},nd.prototype.M=function(){this.g.j=null,delete this.j,Lh(this.g),delete this.g,nd.Z.M.call(this)},vc(rd,uf),vc(id,sf),vc(ad,ed),ad.prototype.xa=function(){bl(this.g,"a")},ad.prototype.wa=function(e){bl(this.g,new rd(e))},ad.prototype.va=function(e){bl(this.g,new id(e))},ad.prototype.ua=function(){bl(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,nd.prototype.send=nd.prototype.u,nd.prototype.open=nd.prototype.m,nd.prototype.close=nd.prototype.close,$l.NO_ERROR=0,$l.TIMEOUT=8,$l.HTTP_ERROR=6,ef.COMPLETE="complete",rf.EventType=of,of.OPEN="a",of.CLOSE="b",of.ERROR="c",of.MESSAGE="d",kl.prototype.listen=kl.prototype.N,bh.prototype.listenOnce=bh.prototype.O,bh.prototype.getLastError=bh.prototype.La,bh.prototype.getLastErrorCode=bh.prototype.Da,bh.prototype.getStatus=bh.prototype.ba,bh.prototype.getResponseJson=bh.prototype.Qa,bh.prototype.getResponseText=bh.prototype.ga,bh.prototype.send=bh.prototype.ea;var od=rc.createWebChannelTransport=function(){return new td},ud=rc.getStatEventTarget=function(){return Wl()},sd=rc.ErrorCode=$l,cd=rc.EventType=ef,ld=rc.Event=Kl,fd=rc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hd=rc.FetchXmlHttpFactory=dh,dd=rc.WebChannel=rf,pd=rc.XhrIo=bh,vd="@firebase/firestore",md=function(){function e(t){g(this,e),this.uid=t}return b(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();md.UNAUTHENTICATED=new md(null),md.GOOGLE_CREDENTIALS=new md("google-credentials-uid"),md.FIRST_PARTY=new md("first-party-uid"),md.MOCK_USER=new md("mock-user");var yd="9.8.0",gd=new xe("@firebase/firestore");function kd(){return gd.logLevel}function bd(e){if(gd.logLevel<=ve.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ed);gd.debug.apply(gd,["Firestore (".concat(yd,"): ").concat(e)].concat(se(i)))}}function wd(e){if(gd.logLevel<=ve.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ed);gd.error.apply(gd,["Firestore (".concat(yd,"): ").concat(e)].concat(se(i)))}}function xd(e){if(gd.logLevel<=ve.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ed);gd.warn.apply(gd,["Firestore (".concat(yd,"): ").concat(e)].concat(se(i)))}}function Ed(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(yd,") INTERNAL ASSERTION FAILED: ")+e;throw wd(t),new Error(t)}function _d(e,t){e||Id()}function Td(e,t){return e}var Sd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ad=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return b(n)}(W),Nd=b((function e(){var t=this;g(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Cd=b((function e(t,n){g(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Od=function(){function e(){g(this,e)}return b(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(md.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Pd=function(){function e(t){g(this,e),this.token=t,this.changeListener=null}return b(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Rd=function(){function e(t){g(this,e),this.t=t,this.currentUser=md.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return b(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Nd;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Nd,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){bd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(bd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Nd)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(bd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_d("string"==typeof n.accessToken),new Cd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return _d(null===e||"string"==typeof e),new md(e)}}]),e}(),Dd=b((function e(t,n,r){g(this,e),this.type="FirstParty",this.user=md.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ld=function(){function e(t,n,r){g(this,e),this.h=t,this.l=n,this.m=r}return b(e,[{key:"getToken",value:function(){return Promise.resolve(new Dd(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(md.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Md=b((function e(t){g(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Fd=function(){function e(t){g(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return b(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&bd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,bd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){bd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):bd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(_d("string"==typeof t.token),e.p=t.token,new Md(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Ud=function(){function e(t,n){var r=this;g(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return b(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function jd(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Ud.A=-1;var Vd=function(){function e(){g(this,e)}return b(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=jd(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Bd(e,t){return e<t?-1:e>t?1:0}function qd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function zd(e){return e+"\0"}var Kd=function(){function e(t,n){if(g(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ad(Sd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ad(Sd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ad(Sd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ad(Sd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return b(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Bd(this.nanoseconds,e.nanoseconds):Bd(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Qd=function(){function e(t){g(this,e),this.timestamp=t}return b(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Kd(0,0))}},{key:"max",value:function(){return new e(new Kd(253402300799,999999999))}}]),e}();function Wd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yd=function(){function e(t,n,r){g(this,e),void 0===n?n=0:n>t.length&&Id(),void 0===r?r=t.length-n:r>t.length-n&&Id(),this.segments=t,this.offset=n,this.len=r}return b(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Zd=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,se(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yd),Jd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xd=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Jd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ad(Sd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ad(Sd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ad(Sd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yd),$d=function(){function e(t){g(this,e),this.fields=t,t.sort(Xd.comparator)}return b(e,[{key:"covers",value:function(e){var t,n=w(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return qd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ep=function(e){function t(e){g(this,t),this.binaryString=e}return b(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Bd(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ep.EMPTY_BYTE_STRING=new ep("");var tp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function np(e){if(_d(!!e),"string"==typeof e){var t=0,n=tp.exec(e);if(_d(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:rp(e.seconds),nanos:rp(e.nanos)}}function rp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ip(e){return"string"==typeof e?ep.fromBase64String(e):ep.fromUint8Array(e)}function ap(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function op(e){var t=e.mapValue.fields.__previous_value__;return ap(t)?op(t):t}function up(e){var t=np(e.mapValue.fields.__local_write_time__.timestampValue);return new Kd(t.seconds,t.nanos)}var sp=b((function e(t,n,r,i,a,o,u,s){g(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),cp=function(){function e(t,n){g(this,e),this.projectId=t,this.database=n||"(default)"}return b(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function lp(e){return null==e}function fp(e){return 0===e&&1/e==-1/0}function hp(e){return"number"==typeof e&&Number.isInteger(e)&&!fp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var dp=function(){function e(t){g(this,e),this.path=t}return b(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Zd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Zd.fromString(t))}},{key:"fromName",value:function(t){return new e(Zd.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Zd.emptyPath())}},{key:"comparator",value:function(e,t){return Zd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Zd(t.slice()))}}]),e}(),pp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vp={nullValue:"NULL_VALUE"};function mp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ap(e)?4:Cp(e)?9007199254740991:10:Id()}function yp(e,t){if(e===t)return!0;var n=mp(e);if(n!==mp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return up(e).isEqual(up(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=np(e.timestampValue),r=np(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ip(e.bytesValue).isEqual(ip(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return rp(e.geoPointValue.latitude)===rp(t.geoPointValue.latitude)&&rp(e.geoPointValue.longitude)===rp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rp(e.integerValue)===rp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=rp(e.doubleValue),r=rp(t.doubleValue);return n===r?fp(n)===fp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qd(e.arrayValue.values||[],t.arrayValue.values||[],yp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wd(n)!==Wd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yp(n[i],r[i])))return!1;return!0}(e,t);default:return Id()}}function gp(e,t){return void 0!==(e.values||[]).find((function(e){return yp(e,t)}))}function kp(e,t){if(e===t)return 0;var n=mp(e),r=mp(t);if(n!==r)return Bd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=rp(e.integerValue||e.doubleValue),r=rp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bp(e.timestampValue,t.timestampValue);case 4:return bp(up(e),up(t));case 5:return Bd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ip(e),r=ip(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Bd(n[i],r[i]);if(0!==a)return a}return Bd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Bd(rp(e.latitude),rp(t.latitude));return 0!==n?n:Bd(rp(e.longitude),rp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=kp(n[i],r[i]);if(a)return a}return Bd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===pp.mapValue&&t===pp.mapValue)return 0;if(e===pp.mapValue)return 1;if(t===pp.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Bd(r[o],a[o]);if(0!==u)return u;var s=kp(n[r[o]],i[a[o]]);if(0!==s)return s}return Bd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Id()}}function bp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bd(e,t);var n=np(e),r=np(t),i=Bd(n.seconds,r.seconds);return 0!==i?i:Bd(n.nanos,r.nanos)}function wp(e){return xp(e)}function xp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=np(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ip(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,dp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=w(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=xp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=w(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(xp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Id();var t,n}function Ep(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ip(e){return!!e&&"integerValue"in e}function _p(e){return!!e&&"arrayValue"in e}function Tp(e){return!!e&&"nullValue"in e}function Sp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ap(e){return!!e&&"mapValue"in e}function Np(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Gd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Np(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Np(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Cp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Op(e){return"nullValue"in e?vp:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ep(cp.empty(),dp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Id()}function Pp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ep(cp.empty(),dp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?pp:Id()}function Rp(e,t){var n=kp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Dp(e,t){var n=kp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Lp=function(){function e(t){g(this,e),this.value=t}return b(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ap(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Np(t)}},{key:"setAll",value:function(e){var t=this,n=Xd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Np(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ap(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return yp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ap(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Gd(t,(function(t,n){return e[t]=n}));var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Np(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Mp(e){var t=[];return Gd(e.fields,(function(e,n){var r=new Xd([e]);if(Ap(n)){var i=Mp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=w(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new $d(t)}var Fp=function(){function e(t,n,r,i,a,o){g(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return b(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Lp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Lp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Qd.min(),Qd.min(),Lp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Qd.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Qd.min(),Lp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Qd.min(),Lp.empty(),2)}}]),e}(),Up=b((function e(t,n,r,i){g(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function jp(e){return e.fields.find((function(e){return 2===e.kind}))}function Vp(e){return e.fields.filter((function(e){return 2!==e.kind}))}Up.UNKNOWN_ID=-1;var Bp=b((function e(t,n){g(this,e),this.fieldPath=t,this.kind=n})),qp=function(){function e(t,n){g(this,e),this.sequenceNumber=t,this.offset=n}return b(e,null,[{key:"empty",value:function(){return new e(0,Qp.min())}}]),e}();function zp(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qd.fromTimestamp(1e9===r?new Kd(n+1,0):new Kd(n,r));return new Qp(i,dp.empty(),t)}function Kp(e){return new Qp(e.readTime,e.key,-1)}var Qp=function(){function e(t,n,r){g(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return b(e,null,[{key:"min",value:function(){return new e(Qd.min(),dp.empty(),-1)}},{key:"max",value:function(){return new e(Qd.max(),dp.empty(),-1)}}]),e}();function Wp(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=dp.comparator(e.documentKey,t.documentKey))?n:Bd(e.largestBatchId,t.largestBatchId)}var Gp=function(){function e(t,n){g(this,e),this.comparator=t,this.root=n||Yp.EMPTY}return b(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Hp(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Hp(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Hp(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Hp(this.root,e,this.comparator,!0)}}]),e}(),Hp=function(){function e(t,n,r,i){g(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return b(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Yp=function(){function e(t,n,r,i,a){g(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return b(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Id();if(this.right.isRed())throw Id();var e=this.left.check();if(e!==this.right.check())throw Id();return e+(this.isRed()?0:1)}}]),e}();Yp.EMPTY=null,Yp.RED=!0,Yp.BLACK=!1,Yp.EMPTY=new(function(){function e(){g(this,e),this.size=0}return b(e,[{key:"key",get:function(){throw Id()}},{key:"value",get:function(){throw Id()}},{key:"color",get:function(){throw Id()}},{key:"left",get:function(){throw Id()}},{key:"right",get:function(){throw Id()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Yp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Zp=function(){function e(t){g(this,e),this.comparator=t,this.data=new Gp(this.comparator)}return b(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Jp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Jp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Jp=function(){function e(t){g(this,e),this.iter=t}return b(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Xp(e){return e.hasNext()?e.getNext():void 0}var $p=b((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;g(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function ev(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new $p(e,t,n,r,i,a,o)}function tv(e){var t=Td(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+wp(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),lp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return wp(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return wp(e)})).join(",")),t.P=n}return t.P}function nv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!yp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bv(e.startAt,t.startAt)&&bv(e.endAt,t.endAt)}function rv(e){return dp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function iv(e,t){return e.filters.filter((function(e){return e instanceof uv&&e.field.isEqual(t)}))}function av(e,t,n){var r,i=vp,a=!0,o=w(iv(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=vp,c=!0;switch(u.op){case"<":case"<=":s=Op(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=vp}Rp({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Rp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ov(e,t,n){var r,i=pp,a=!0,o=w(iv(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=pp,c=!0;switch(u.op){case">=":case">":s=Pp(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=pp}Dp({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Dp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var uv=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return b(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(kp(t,this.value)):null!==t&&mp(this.value)===mp(t)&&this.v(kp(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Id()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new sv(e,t,r):"array-contains"===t?new hv(e,r):"in"===t?new dv(e,r):"not-in"===t?new pv(e,r):"array-contains-any"===t?new vv(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new cv(e,n):new lv(e,n)}}]),n}(function(){return b((function e(){g(this,e)}))}()),sv=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,e,r,i)).key=dp.fromName(i.referenceValue),a}return b(n,[{key:"matches",value:function(e){var t=dp.comparator(e.key,this.key);return this.v(t)}}]),n}(uv),cv=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,"in",r)).keys=fv("in",r),i}return b(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uv),lv=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,"not-in",r)).keys=fv("not-in",r),i}return b(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uv);function fv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return dp.fromName(e.referenceValue)}))}var hv=function(e){I(n,e);var t=N(n);function n(e,r){return g(this,n),t.call(this,e,"array-contains",r)}return b(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return _p(t)&&gp(t.arrayValue,this.value)}}]),n}(uv),dv=function(e){I(n,e);var t=N(n);function n(e,r){return g(this,n),t.call(this,e,"in",r)}return b(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&gp(this.value.arrayValue,t)}}]),n}(uv),pv=function(e){I(n,e);var t=N(n);function n(e,r){return g(this,n),t.call(this,e,"not-in",r)}return b(n,[{key:"matches",value:function(e){if(gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gp(this.value.arrayValue,t)}}]),n}(uv),vv=function(e){I(n,e);var t=N(n);function n(e,r){return g(this,n),t.call(this,e,"array-contains-any",r)}return b(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return gp(t.value.arrayValue,e)}))}}]),n}(uv),mv=b((function e(t,n){g(this,e),this.position=t,this.inclusive=n})),yv=b((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";g(this,e),this.field=t,this.dir=n}));function gv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function kv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?dp.comparator(dp.fromName(o.referenceValue),n.key):kp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function bv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yp(e.position[n],t.position[n]))return!1;return!0}var wv=b((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;g(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function xv(e,t,n,r,i,a,o,u){return new wv(e,t,n,r,i,a,o,u)}function Ev(e){return new wv(e)}function Iv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _v(e){var t,n=w(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Tv(e){return null!==e.collectionGroup}function Sv(e){var t=Td(e);if(null===t.D){t.D=[];var n=_v(t),r=Iv(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new yv(n)),t.D.push(new yv(Xd.keyField(),"asc"));else{var i,a=!1,o=w(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new yv(Xd.keyField(),s))}}}return t.D}function Av(e){var t=Td(e);if(!t.C)if("F"===t.limitType)t.C=ev(t.path,t.collectionGroup,Sv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=w(Sv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yv(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new mv(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new mv(t.startAt.position,t.startAt.inclusive):null;t.C=ev(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Nv(e,t,n){return new wv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cv(e,t){return nv(Av(e),Av(t))&&e.limitType===t.limitType}function Ov(e){return"".concat(tv(Av(e)),"|lt:").concat(e.limitType)}function Pv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(wp(t.value));var t})).join(", "),"]")),lp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return wp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return wp(e)})).join(",")),"Target(".concat(t,")")}(Av(e)),"; limitType=").concat(e.limitType,")")}function Rv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=w(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=w(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=kv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sv(e),t))&&!(e.endAt&&!function(e,t,n){var r=kv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sv(e),t))}(e,t)}function Dv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Lv(e){return function(t,n){var r,i=!1,a=w(Sv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Mv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Mv(e,t,n){var r=e.field.isKeyField()?dp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kp(r,i):Id()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Id()}}function Fv(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(t)?"-0":t}}function Uv(e){return{integerValue:""+e}}function jv(e,t){return hp(t)?Uv(t):Fv(e,t)}var Vv=b((function e(){g(this,e),this._=void 0}));function Bv(e,t,n){return e instanceof Kv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qv?Wv(e,t):e instanceof Gv?Hv(e,t):function(e,t){var n=zv(e,t),r=Zv(n)+Zv(e.k);return Ip(n)&&Ip(e.k)?Uv(r):Fv(e.M,r)}(e,t)}function qv(e,t,n){return e instanceof Qv?Wv(e,t):e instanceof Gv?Hv(e,t):n}function zv(e,t){return e instanceof Yv?Ip(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Kv=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(Vv),Qv=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this)).elements=e,r}return b(n)}(Vv);function Wv(e,t){var n,r=Jv(t),i=w(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return yp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gv=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this)).elements=e,r}return b(n)}(Vv);function Hv(e,t){var n,r=Jv(t),i=w(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!yp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yv=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).M=e,i.k=r,i}return b(n)}(Vv);function Zv(e){return rp(e.integerValue||e.doubleValue)}function Jv(e){return _p(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Xv=b((function e(t,n){g(this,e),this.field=t,this.transform=n}));var $v=b((function e(t,n){g(this,e),this.version=t,this.transformResults=n})),em=function(){function e(t,n){g(this,e),this.updateTime=t,this.exists=n}return b(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function tm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var nm=b((function e(){g(this,e)}));function rm(e,t,n){e instanceof sm?function(e,t,n){var r=e.value.clone(),i=fm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cm?function(e,t,n){if(tm(e.precondition,t)){var r=fm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function im(e,t,n){e instanceof sm?function(e,t,n){if(tm(e.precondition,t)){var r=e.value.clone(),i=hm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(um(t),r).setHasLocalMutations()}}(e,t,n):e instanceof cm?function(e,t,n){if(tm(e.precondition,t)){var r=hm(e.fieldTransforms,n,t),i=t.data;i.setAll(lm(e)),i.setAll(r),t.convertToFoundDocument(um(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){tm(e.precondition,t)&&t.convertToNoDocument(Qd.min())}(e,t)}function am(e,t){var n,r=null,i=w(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=zv(a.transform,o||null);null!=u&&(null==r&&(r=Lp.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function om(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qv&&t instanceof Qv||e instanceof Gv&&t instanceof Gv?qd(e.elements,t.elements,yp):e instanceof Yv&&t instanceof Yv?yp(e.k,t.k):e instanceof Kv&&t instanceof Kv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function um(e){return e.isFoundDocument()?e.version:Qd.min()}var sm=function(e){I(n,e);var t=N(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return g(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return b(n)}(nm),cm=function(e){I(n,e);var t=N(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return g(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return b(n)}(nm);function lm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function fm(e,t,n){var r=new Map;_d(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,qv(o,u,n[i]))}return r}function hm(e,t,n){var r,i=new Map,a=w(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Bv(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var dm,pm,vm=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return b(n)}(nm),mm=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return b(n)}(nm),ym=b((function e(t){g(this,e),this.count=t}));function gm(e){switch(e){default:return Id();case Sd.CANCELLED:case Sd.UNKNOWN:case Sd.DEADLINE_EXCEEDED:case Sd.RESOURCE_EXHAUSTED:case Sd.INTERNAL:case Sd.UNAVAILABLE:case Sd.UNAUTHENTICATED:return!1;case Sd.INVALID_ARGUMENT:case Sd.NOT_FOUND:case Sd.ALREADY_EXISTS:case Sd.PERMISSION_DENIED:case Sd.FAILED_PRECONDITION:case Sd.ABORTED:case Sd.OUT_OF_RANGE:case Sd.UNIMPLEMENTED:case Sd.DATA_LOSS:return!0}}function km(e){if(void 0===e)return wd("GRPC error has no .code"),Sd.UNKNOWN;switch(e){case dm.OK:return Sd.OK;case dm.CANCELLED:return Sd.CANCELLED;case dm.UNKNOWN:return Sd.UNKNOWN;case dm.DEADLINE_EXCEEDED:return Sd.DEADLINE_EXCEEDED;case dm.RESOURCE_EXHAUSTED:return Sd.RESOURCE_EXHAUSTED;case dm.INTERNAL:return Sd.INTERNAL;case dm.UNAVAILABLE:return Sd.UNAVAILABLE;case dm.UNAUTHENTICATED:return Sd.UNAUTHENTICATED;case dm.INVALID_ARGUMENT:return Sd.INVALID_ARGUMENT;case dm.NOT_FOUND:return Sd.NOT_FOUND;case dm.ALREADY_EXISTS:return Sd.ALREADY_EXISTS;case dm.PERMISSION_DENIED:return Sd.PERMISSION_DENIED;case dm.FAILED_PRECONDITION:return Sd.FAILED_PRECONDITION;case dm.ABORTED:return Sd.ABORTED;case dm.OUT_OF_RANGE:return Sd.OUT_OF_RANGE;case dm.UNIMPLEMENTED:return Sd.UNIMPLEMENTED;case dm.DATA_LOSS:return Sd.DATA_LOSS;default:return Id()}}(pm=dm||(dm={}))[pm.OK=0]="OK",pm[pm.CANCELLED=1]="CANCELLED",pm[pm.UNKNOWN=2]="UNKNOWN",pm[pm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pm[pm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pm[pm.NOT_FOUND=5]="NOT_FOUND",pm[pm.ALREADY_EXISTS=6]="ALREADY_EXISTS",pm[pm.PERMISSION_DENIED=7]="PERMISSION_DENIED",pm[pm.UNAUTHENTICATED=16]="UNAUTHENTICATED",pm[pm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pm[pm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pm[pm.ABORTED=10]="ABORTED",pm[pm.OUT_OF_RANGE=11]="OUT_OF_RANGE",pm[pm.UNIMPLEMENTED=12]="UNIMPLEMENTED",pm[pm.INTERNAL=13]="INTERNAL",pm[pm.UNAVAILABLE=14]="UNAVAILABLE",pm[pm.DATA_LOSS=15]="DATA_LOSS";var bm=function(){function e(t,n){g(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return b(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Gd(this.inner,(function(t,n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Hd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),wm=new Gp(dp.comparator);function xm(){return wm}var Em=new Gp(dp.comparator);function Im(){for(var e=Em,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function _m(){return new bm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Tm=new Gp(dp.comparator),Sm=new Zp(dp.comparator);function Am(){for(var e=Sm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Nm=new Zp(Bd);function Cm(){return Nm}var Om=function(){function e(t,n,r,i,a){g(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return b(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Pm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Qd.min(),r,Cm(),xm(),Am())}}]),e}(),Pm=function(){function e(t,n,r,i,a){g(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return b(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ep.EMPTY_BYTE_STRING,n,Am(),Am(),Am())}}]),e}(),Rm=b((function e(t,n,r,i){g(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Dm=b((function e(t,n){g(this,e),this.targetId=t,this.$=n})),Lm=b((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ep.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Mm=function(){function e(){g(this,e),this.B=0,this.L=jm(),this.U=ep.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return b(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Am(),t=Am(),n=Am();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Id()}})),new Pm(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=jm()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Fm=function(){function e(t){g(this,e),this.nt=t,this.st=new Map,this.it=xm(),this.rt=Um(),this.ot=new Zp(Bd)}return b(e,[{key:"ut",value:function(e){var t,n=w(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=w(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Id()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(rv(i))if(0===n){var a=new dp(i.path);this.ct(t,a,Fp.newNoDocument(a,Qd.min()))}else _d(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&rv(a.target)){var o=new dp(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Fp.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Am();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Om(e,n,this.ot,this.it,r);return this.it=xm(),this.rt=Um(),this.ot=new Zp(Bd),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Mm,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Zp(Bd),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||bd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Mm),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Um(){return new Gp(dp.comparator)}function jm(){return new Gp(dp.comparator)}var Vm={asc:"ASCENDING",desc:"DESCENDING"},Bm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qm=b((function e(t,n){g(this,e),this.databaseId=t,this.N=n}));function zm(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Km(e,t){return e.N?t.toBase64():t.toUint8Array()}function Qm(e,t){return zm(e,t.toTimestamp())}function Wm(e){return _d(!!e),Qd.fromTimestamp(function(e){var t=np(e);return new Kd(t.seconds,t.nanos)}(e))}function Gm(e,t){return function(e){return new Zd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Hm(e){var t=Zd.fromString(e);return _d(yy(t)),t}function Ym(e,t){return Gm(e.databaseId,t.path)}function Zm(e,t){var n=Hm(t);if(n.get(1)!==e.databaseId.projectId)throw new Ad(Sd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ad(Sd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dp(ey(n))}function Jm(e,t){return Gm(e.databaseId,t)}function Xm(e){var t=Hm(e);return 4===t.length?Zd.emptyPath():ey(t)}function $m(e){return new Zd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ey(e){return _d(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ty(e,t,n){return{name:Ym(e,t),fields:n.value.mapValue.fields}}function ny(e,t,n){var r=Zm(e,t.name),i=Wm(t.updateTime),a=new Lp({mapValue:{fields:t.fields}}),o=Fp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ry(e,t){return"found"in t?function(e,t){_d(!!t.found),t.found.name,t.found.updateTime;var n=Zm(e,t.found.name),r=Wm(t.found.updateTime),i=new Lp({mapValue:{fields:t.found.fields}});return Fp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){_d(!!t.missing),_d(!!t.readTime);var n=Zm(e,t.missing),r=Wm(t.readTime);return Fp.newNoDocument(n,r)}(e,t):Id()}function iy(e,t){var n;if(t instanceof sm)n={update:ty(e,t.key,t.value)};else if(t instanceof vm)n={delete:Ym(e,t.key)};else if(t instanceof cm)n={update:ty(e,t.key,t.data),updateMask:my(t.fieldMask)};else{if(!(t instanceof mm))return Id();n={verify:Ym(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Kv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yv)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Id()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Id()}(e,t.precondition)),n}function ay(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?em.updateTime(Wm(e.updateTime)):void 0!==e.exists?em.exists(e.exists):em.none()}(t.currentDocument):em.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_d("REQUEST_TIME"===t.setToServerValue),n=new Kv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Qv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Gv(i)}else"increment"in t?n=new Yv(e,t.increment):Id();var a=Xd.fromServerFormat(t.fieldPath);return new Xv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Zm(e,t.update.name),a=new Lp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new $d(t.map((function(e){return Xd.fromServerFormat(e)})))}(t.updateMask);return new cm(i,a,o,n,r)}return new sm(i,a,n,r)}if(t.delete){var u=Zm(e,t.delete);return new vm(u,n)}if(t.verify){var s=Zm(e,t.verify);return new mm(s,n)}return Id()}function oy(e,t){return{documents:[Jm(e,t.path)]}}function uy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Jm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Jm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Sp(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NAN"}};if(Tp(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sp(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NOT_NAN"}};if(Tp(e.value))return{unaryFilter:{field:hy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hy(e.field),op:fy(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:hy(e.field),direction:ly(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||lp(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sy(e){var t=Xm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_d(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=cy(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new yv(dy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return lp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new mv(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new mv(n,t)}(n.endAt)),xv(t,i,u,o,s,"F",c,l)}function cy(e){return e?void 0!==e.unaryFilter?[vy(e)]:void 0!==e.fieldFilter?[py(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return cy(e)})).reduce((function(e,t){return e.concat(t)})):Id():[]}function ly(e){return Vm[e]}function fy(e){return Bm[e]}function hy(e){return{fieldPath:e.canonicalString()}}function dy(e){return Xd.fromServerFormat(e.fieldPath)}function py(e){return uv.create(dy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Id()}}(e.fieldFilter.op),e.fieldFilter.value)}function vy(e){switch(e.unaryFilter.op){case"IS_NAN":var t=dy(e.unaryFilter.field);return uv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=dy(e.unaryFilter.field);return uv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=dy(e.unaryFilter.field);return uv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=dy(e.unaryFilter.field);return uv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Id()}}function my(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function yy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function gy(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=by(t)),t=ky(e.get(n),t);return by(t)}function ky(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function by(e){return e+"\x01\x01"}function wy(e){var t=e.length;if(_d(t>=2),2===t)return _d("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Zd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Id(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Id()}a=o+2}return new Zd(r)}var xy=["userId","batchId"];function Ey(e,t){return[e,gy(t)]}function Iy(e,t,n){return[e,gy(t),n]}var _y={},Ty=["prefixPath","collectionGroup","readTime","documentId"],Sy=["prefixPath","collectionGroup","documentId"],Ay=["collectionGroup","readTime","prefixPath","documentId"],Ny=["canonicalId","targetId"],Cy=["targetId","path"],Oy=["path","targetId"],Py=["collectionId","parent"],Ry=["indexId","uid"],Dy=["uid","sequenceNumber"],Ly=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],My=["indexId","uid","orderedDocumentKey"],Fy=["userId","collectionPath","documentId"],Uy=["userId","collectionPath","largestBatchId"],jy=["userId","collectionGroup","largestBatchId"],Vy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),By=[].concat(se(Vy),["documentOverlays"]),qy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zy=[].concat(qy,["indexConfiguration","indexState","indexEntries"]),Ky="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qy=function(){function e(){g(this,e),this.onCommittedListeners=[]}return b(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Wy=function(){function e(t){var n=this;g(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return b(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Id(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=w(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Gy=function(){function e(t,n){var r=this;g(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Nd,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Zy(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=tg(e.target.error);r.At.reject(new Zy(t,n))}}return b(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(bd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Xy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Zy(n,t)}}}]),e}(),Hy=function(){function e(t,n,r){g(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(j())&&wd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return b(e,[{key:"Nt",value:function(){var e=le(oe().mark((function e(t){var n=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return bd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Zy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ad(Sd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ad(Sd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Zy(t,n))},i.onupgradeneeded=function(e){bd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){bd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=le(oe().mark((function e(t,n,r,i){var a,o,u,s,c=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(oe().mark((function e(){var n,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=Gy.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),Wy.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,bd("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return bd("SimpleDb","Removing database:",e),$y(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Q())return!1;if(e.St())return!0;var t=j(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLASS_CODE:"test-content"})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Yy=function(){function e(t){g(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return b(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return $y(this.Ft.delete())}}]),e}(),Zy=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,Sd.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return b(n)}(Ad);function Jy(e){return"IndexedDbTransactionError"===e.name}var Xy=function(){function e(t){g(this,e),this.store=t}return b(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(bd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(bd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),$y(n)}},{key:"add",value:function(e){return bd("SimpleDb","ADD",this.store.name,e,e),$y(this.store.add(e))}},{key:"get",value:function(e){var t=this;return $y(this.store.get(e)).next((function(n){return void 0===n&&(n=null),bd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return bd("SimpleDb","DELETE",this.store.name,e),$y(this.store.delete(e))}},{key:"count",value:function(){return bd("SimpleDb","COUNT",this.store.name),$y(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Wy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Wy((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){bd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Wy((function(n,r){t.onerror=function(e){var t=tg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Wy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Yy(i),o=t(i.primaryKey,i.value,a);if(o instanceof Wy){var u=o.catch((function(e){return a.done(),Wy.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Wy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function $y(e){return new Wy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=tg(e.target.error);n(t)}}))}var eg=!1;function tg(e){var t=Hy.Vt(j());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ad("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return eg||(eg=!0,setTimeout((function(){throw r}),0)),r}}return e}var ng=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return b(n)}(Qy);function rg(e,t){var n=Td(e);return Hy.xt(n.Ht,t)}var ig=function(){function e(t,n,r,i){g(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return b(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&rm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=w(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&im(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=w(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&im(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Qd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Am())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&qd(this.mutations,e.mutations,(function(e,t){return om(e,t)}))&&qd(this.baseMutations,e.baseMutations,(function(e,t){return om(e,t)}))}}]),e}(),ag=function(){function e(t,n,r,i){g(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return b(e,null,[{key:"from",value:function(t,n,r){_d(t.mutations.length===r.length);for(var i=Tm,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),og=function(){function e(t,n){g(this,e),this.largestBatchId=t,this.mutation=n}return b(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ug=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qd.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ep.EMPTY_BYTE_STRING;g(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return b(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),sg=b((function e(t){g(this,e),this.Jt=t}));function cg(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ym(e,t.key),fields:t.data.value.mapValue.fields,updateTime:zm(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fg(t.version)};else{if(!t.isUnknownDocument())return Id();r.unknownDocument={path:n.path.toArray(),version:fg(t.version)}}return r}function lg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fg(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hg(e){var t=new Kd(e.seconds,e.nanoseconds);return Qd.fromTimestamp(t)}function dg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ay(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return ay(e.Jt,t)})),u=Kd.fromMillis(t.localWriteTimeMs);return new ig(t.batchId,u,n,o)}function pg(e){var t,n,r=hg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?hg(e.lastLimboFreeSnapshotVersion):Qd.min();return void 0!==e.query.documents?(_d(1===(n=e.query).documents.length),t=Av(Ev(Xm(n.documents[0])))):t=function(e){return Av(sy(e))}(e.query),new ug(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ep.fromBase64String(e.resumeToken))}function vg(e,t){var n,r=fg(t.snapshotVersion),i=fg(t.lastLimboFreeSnapshotVersion);n=rv(t.target)?oy(e.Jt,t.target):uy(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tv(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function mg(e){var t=sy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nv(t,t.limit,"L"):t}function yg(e,t){return new og(t.largestBatchId,ay(e.Jt,t.overlayMutation))}function gg(e,t){var n=t.path.lastSegment();return[e,gy(t.path.popLast()),n]}var kg=function(){function e(){g(this,e)}return b(e,[{key:"getBundleMetadata",value:function(e,t){return bg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:hg(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return bg(e).put({bundleId:(n=t).id,createTime:fg(Wm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return wg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:mg(t.bundledQuery),readTime:hg(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return wg(e).put(function(e){return{name:e.name,readTime:fg(Wm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function bg(e){return rg(e,"bundles")}function wg(e){return rg(e,"namedQueries")}var xg=function(){function e(t,n){g(this,e),this.M=t,this.userId=n}return b(e,[{key:"getOverlay",value:function(e,t){var n=this;return Eg(e).get(gg(this.userId,t)).next((function(e){return e?yg(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new og(t,a);i.push(r.Xt(e,o))})),Wy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(gy(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Eg(e).Qt("collectionPathOverlayIndex",i))})),Wy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=_m(),a=gy(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Eg(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=yg(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=_m(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eg(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=yg(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Eg(e).put(function(e,t,n){var r=f(gg(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:iy(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Eg(e){return rg(e,"documentOverlays")}var Ig=function(){function e(){g(this,e)}return b(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(rp(e.integerValue));else if("doubleValue"in e){var n=rp(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),fp(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ip(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Cp(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Id()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),dp.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function _g(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Tg(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=_g(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ig.fe=new Ig;var Sg=function(){function e(){g(this,e),this.buffer=new Uint8Array(1024),this.position=0}return b(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Tg(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Tg(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ag=function(){function e(t){g(this,e),this.De=t}return b(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Ng=function(){function e(t){g(this,e),this.De=t}return b(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Cg=function(){function e(){g(this,e),this.De=new Sg,this.Ce=new Ag(this.De),this.xe=new Ng(this.De)}return b(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Og=function(){function e(t,n,r,i){g(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return b(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Pg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Rg(e.arrayValue,t.arrayValue))?n:0!==(n=Rg(e.directionalValue,t.directionalValue))?n:dp.comparator(e.documentKey,t.documentKey)}function Rg(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Dg=function(){function e(t){g(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=w(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return b(e,[{key:"$e",value:function(e){var t=jp(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Vp(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=w(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Lg=function(){function e(){g(this,e),this.qe=new Mg}return b(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Wy.resolve()}},{key:"getCollectionParents",value:function(e,t){return Wy.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Wy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Wy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Wy.resolve(null)}},{key:"getIndexType",value:function(e,t){return Wy.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Wy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Wy.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Wy.resolve(Qp.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Wy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Wy.resolve()}}]),e}(),Mg=function(){function e(){g(this,e),this.index={}}return b(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zp(Zd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Zp(Zd.comparator)).toArray()}}]),e}(),Fg=new Uint8Array(0),Ug=function(){function e(t,n){g(this,e),this.user=t,this.databaseId=n,this.Ke=new Mg,this.Ge=new bm((function(e){return tv(e)}),(function(e,t){return nv(e,t)})),this.uid=t.uid||""}return b(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:gy(i)};return jg(e).put(a)}return Wy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[zd(t),""],!1,!0);return jg(e).qt(r).next((function(e){var r,i=w(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(wy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Bg(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Bg(e),r=qg(e),i=Vg(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Vg(e),i=!0,a=new Map;return Wy.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Am(),o=[];return Wy.forEach(a,(function(i,a){var u;bd("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(tv(t)));var s=function(e,t){var n=jp(t);if(void 0===n)return null;var r,i=w(iv(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=w(Vp(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=w(iv(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=w(Vp(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?av(e,o.fieldPath,e.startAt):ov(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new mv(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=w(Vp(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ov(e,o.fieldPath,e.endAt):av(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new mv(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Wy.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=dp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Wy.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):Fg,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,se(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new Og(e,dp.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Og(e,dp.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new Dg(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=w(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Wy.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Zp(Xd.comparator),r=!1,i=w(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=w(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Cg,i=w(Vp(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Ig.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Cg;return Ig.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Cg;return Ig.fe.Zt(Ep(this.databaseId,t),n.Ne(function(e){var t=Vp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Cg);var i,a=0,o=w(Vp(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=w(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&_p(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Ig.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=se(e),a=[],o=w(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=w(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Cg;f.seed(l.Se()),Ig.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof uv&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Bg(e),i=qg(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Wy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new qp(t.sequenceNumber,new Qp(hg(t.readTime),new dp(wy(t.documentKey)),t.largestBatchId)):qp.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Bp(Xd.fromServerFormat(n),r)}));return new Up(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bd(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Bg(e),a=qg(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Wy.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:fg(r.readTime),documentKey:gy(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Wy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Wy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Wy.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?Wy.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Vg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Vg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Vg(e),i=new Zp(Pg);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Og(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Zp(Pg),r=this.Ze(t,e);if(null==r)return n;var i=jp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(_p(a)){var o,u=w(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Og(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Og(t.indexId,e.key,Fg,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;bd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Xp(a),s=Xp(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Xp(o)):l?(i(u),u=Xp(a)):(u=Xp(a),s=Xp(o))}}(r,i,Pg,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),Wy.waitFor(o)}},{key:"rn",value:function(e){var t=1;return qg(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Pg(e,t)})).filter((function(e,t,n){return!t||0!==Pg(e,n[t-1])}));var r=[];r.push(e);var i,a=w(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Pg(o,e),s=Pg(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Fg,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Fg,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return Wy.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||Wp(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=Qp.min()}))})).next((function(){return n}))}}]),e}();function jg(e){return rg(e,"collectionParents")}function Vg(e){return rg(e,"indexEntries")}function Bg(e){return rg(e,"indexConfiguration")}function qg(e){return rg(e,"indexState")}var zg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kg=function(){function e(t,n,r){g(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return b(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Qg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){_d(1===u)})));var c,l=[],f=w(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Iy(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Wy.waitFor(a).next((function(){return l}))}function Wg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Id();t=e.noDocument}return JSON.stringify(t).length}Kg.DEFAULT_COLLECTION_PERCENTILE=10,Kg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kg.DEFAULT=new Kg(41943040,Kg.DEFAULT_COLLECTION_PERCENTILE,Kg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kg.DISABLED=new Kg(-1,0,0);var Gg=function(){function e(t,n,r,i){g(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return b(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yg(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Zg(e),o=Yg(e);return o.add({}).next((function(u){_d("number"==typeof u);var s,c=new ig(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return iy(e.Jt,t)})),i=n.mutations.map((function(t){return iy(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Zp((function(e,t){return Bd(e.canonicalString(),t.canonicalString())})),d=w(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Iy(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,_y))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),Wy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Yg(e).get(t).next((function(e){return e?(_d(e.userId===n.userId),dg(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?Wy.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Yg(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(_d(t.batchId>=r),a=dg(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yg(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yg(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return dg(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ey(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Zg(e).Wt({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],h=wy(c);if(s===n.userId&&t.path.isEqual(h))return Yg(e).get(l).next((function(e){if(!e)throw Id();_d(e.userId===n.userId),a.push(dg(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zp(Bd),i=[];return t.forEach((function(t){var a=Ey(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Zg(e).Wt({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=wy(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Wy.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ey(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Zp(Bd);return Zg(e).Wt({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],h=wy(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Yg(e).get(t).next((function(e){if(null===e)throw Id();_d(e.userId===n.userId),r.push(dg(n.M,e))})))})),Wy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Qg(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),Wy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Wy.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Zg(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=wy(e[1]);i.push(a)}else r.done()})).next((function(){_d(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Hg(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Jg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return _d(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Hg(e,t,n){var r=Ey(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Zg(e).Wt({range:a,jt:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Yg(e){return rg(e,"mutations")}function Zg(e){return rg(e,"documentMutations")}function Jg(e){return rg(e,"mutationQueues")}var Xg=function(){function e(t){g(this,e),this.mn=t}return b(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),$g=function(){function e(t,n){g(this,e),this.referenceDelegate=t,this.M=n}return b(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Xg(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Qd.fromTimestamp(new Kd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ek(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return _d(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ek(e).Wt((function(o,u){var s=pg(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Wy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ek(e).Wt((function(e,n){var r=pg(n);t(r)}))}},{key:"pn",value:function(e){return tk(e).get("targetGlobalKey").next((function(e){return _d(null!==e),e}))}},{key:"In",value:function(e,t){return tk(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return ek(e).put(vg(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=tv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ek(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=pg(n);nv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=nk(e);return t.forEach((function(t){var o=gy(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Wy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=nk(e);return Wy.forEach(t,(function(t){var a=gy(t.path);return Wy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=nk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=nk(e),i=Am();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=wy(e[1]),a=new dp(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=gy(t.path),r=IDBKeyRange.bound([n],[zd(n)],!1,!0),i=0;return nk(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return ek(e).get(t).next((function(e){return e?pg(e):null}))}}]),e}();function ek(e){return rg(e,"targets")}function tk(e){return rg(e,"targetGlobal")}function nk(e){return rg(e,"targetDocuments")}function rk(e){return ik.apply(this,arguments)}function ik(){return ik=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Sd.FAILED_PRECONDITION&&t.message===Ky){e.next=2;break}throw t;case 2:bd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}function ak(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=Bd(r,o);return 0===s?Bd(i,u):s}var ok=function(){function e(t){g(this,e),this.An=t,this.buffer=new Zp(ak),this.Rn=0}return b(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ak(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),uk=function(){function e(t,n){g(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return b(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;bd("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,le(oe().mark((function n(){return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Jy(n.t0)){n.next=12;break}bd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,rk(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),sk=function(){function e(t,n){g(this,e),this.Dn=t,this.params=n}return b(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Wy.resolve(Ud.A);var r=new ok(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(bd("LruGarbageCollector","Garbage collection skipped; disabled"),Wy.resolve(zg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(bd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),zg):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(bd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),kd()<=ve.DEBUG&&bd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Wy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ck=function(){function e(t,n){g(this,e),this.db=t,this.garbageCollector=function(e,t){return new sk(e,t)}(this,n)}return b(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return lk(e,n)}},{key:"removeReference",value:function(e,t,n){return lk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return lk(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return Jg(e).zt((function(r){return Hg(e,r,t).next((function(e){return e&&(n=!0),Wy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Qd.min()),nk(e).delete([0,gy(o.path)])}))}));i.push(s)}})).next((function(){return Wy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return lk(e,t)}},{key:"Mn",value:function(e,t){var n,r=nk(e),i=Ud.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ud.A&&t(new dp(wy(n)),i),i=s,n=u):i=Ud.A})).next((function(){i!==Ud.A&&t(new dp(wy(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function lk(e,t){return nk(e).put(function(e,t){return{targetId:0,path:gy(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var fk=function(){function e(){g(this,e),this.changes=new bm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return b(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Fp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Wy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),hk=function(){function e(t){g(this,e),this.M=t}return b(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return vk(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return vk(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lg(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Fp.newInvalidDocument(t);return vk(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mk(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Fp.newInvalidDocument(t)};return vk(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mk(t))},(function(e,i){r={document:n.$n(t,i),size:Wg(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=xm();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=xm(),i=new Gp(dp.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,Wg(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return Wy.resolve();var r=new Zp(gk);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(mk(r.first()),mk(r.last())),a=r.getIterator(),o=a.getNext();return vk(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=dp.fromSegments([].concat(se(t.prefixPath),[t.collectionGroup,t.documentId]));o&&gk(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(mk(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),lg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vk(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=xm(),i=w(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(dp.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=xm(),o=yk(t,n),u=yk(t,Qp.max());return vk(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(dp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new dk(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return pk(e).get("remoteDocumentGlobalKey").next((function(e){return _d(!!e),e}))}},{key:"Fn",value:function(e,t){return pk(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ny(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=dp.fromSegments(t.noDocument.path),i=hg(t.noDocument.readTime);n=Fp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Id();var a=dp.fromSegments(t.unknownDocument.path),o=hg(t.unknownDocument.version);n=Fp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Kd(e[0],e[1]);return Qd.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Qd.min()))return n}return Fp.newInvalidDocument(e)}}]),e}(),dk=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new bm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return b(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Zp((function(e,t){return Bd(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=cg(t.Kn.M,o);i=i.add(a.path.popLast());var c=Wg(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=cg(t.Kn.M,o.convertToNoDocument(Qd.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),Wy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(fk);function pk(e){return rg(e,"remoteDocumentGlobal")}function vk(e){return rg(e,"remoteDocumentsV14")}function mk(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function yk(e,t){var n=t.documentKey.path.toArray();return[e,lg(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gk(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Bd(n[a],r[a]))return i;return(i=Bd(n.length,r.length))||((i=Bd(n[n.length-2],r[r.length-2]))||Bd(n[n.length-1],r[r.length-1]))}var kk=function(){function e(t){g(this,e),this.M=t}return b(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Gy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xy,{unique:!0}),e.createObjectStore("documentMutations")}(e),bk(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Wy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),bk(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xy,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Wy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Fy});t.createIndex("collectionPathOverlayIndex",Uy,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",jy,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ty});t.createIndex("documentKeyIndex",Sy),t.createIndex("collectionGroupIndex",Ay)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ry}).createIndex("sequenceNumberIndex",Dy,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ly}).createIndex("documentKeyIndex",My,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Wg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return Wy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return Wy.forEach(r,(function(r){_d(r.userId===n.userId);var i=dg(t.M,r);return Qg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Zd(n),o=function(e){return[0,gy(e)]}(a);r.push(t.get(o).next((function(n){return n?Wy.resolve():function(n){return t.put({targetId:0,path:gy(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Wy.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Py});var n=t.store("collectionParents"),r=new Mg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:gy(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Zd(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],wy(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=pg(r),a=vg(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new dp(Zd.fromString(i.document.name).popFirst(5)):i.noDocument?dp.fromSegments(i.noDocument.path):i.unknownDocument?dp.fromSegments(i.unknownDocument.path):Id()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Wy.waitFor(r)}))}}]),e}();function bk(e){e.createObjectStore("targetDocuments",{keyPath:Cy}).createIndex("documentTargetsIndex",Oy,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ny,{unique:!0}),e.createObjectStore("targetGlobal")}var wk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xk=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(g(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Ad(Sd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ck(this,i),this.hs=n+"main",this.M=new sg(s),this.ls=new Hy(this.hs,this.ts,new kk(this.M)),this.fs=new $g(this.referenceDelegate,this.M),this.ds=function(e){return new hk(e)}(this.M),this._s=new kg,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&wd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return b(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ad(Sd.FAILED_PRECONDITION,wk);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Ud(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=le(oe().mark((function n(r){return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=le(oe().mark((function t(n){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ik(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(Jy(t))return bd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return bd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Ek(e).get("owner").next((function(e){return Wy.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return Ik(e).delete(this.clientId)}},{key:"vs",value:function(){var e=le(oe().mark((function e(){var t,n,r,i,a=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=rg(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Wy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=w(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?Wy.resolve(!0):Ek(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Ad(Sd.FAILED_PRECONDITION,wk);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ik(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&bd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=le(oe().mark((function e(){var t=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ng(e,Ud.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ik(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return Gg.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Ug(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return xg.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;bd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?zy:13===i?qy:12===i?By:11===i?Vy:void Id();return this.ls.runTransaction(e,o,u,(function(i){return a=new ng(i,r.es?r.es.next():Ud.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw wd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Ad(Sd.FAILED_PRECONDITION,Ky);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Ek(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ad(Sd.FAILED_PRECONDITION,wk)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ek(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Ek(e);return n.get("owner").next((function(e){return t.Ps(e)?(bd("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Wy.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(wd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!B()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return bd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return wd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(vc){wd("Failed to set zombie client id.",vc)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(vc){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Hy.vt()}}]),e}();function Ek(e){return rg(e,"owner")}function Ik(e){return rg(e,"clientMetadata")}function _k(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Tk=function(){function e(t,n,r){g(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return b(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=w(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=w(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return dp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Tv(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new dp(t)).next((function(e){var t=Im();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Im();return this.indexManager.getCollectionParents(e,i).next((function(o){return Wy.forEach(o,(function(o){var u=function(e,t){return new wv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=w(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Fp.newInvalidDocument(s),r=r.insert(s,c)),im(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Rv(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Sk=function(){function e(t,n,r,i){g(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return b(e,null,[{key:"Ys",value:function(t,n){var r,i=Am(),a=Am(),o=w(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ak=function(){function e(){g(this,e),this.Xs=!1}return b(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return Wy.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Qd.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(kd()<=ve.DEBUG&&bd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pv(t)),i.ri(e,o,t,zp(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Zp(Lv(e));return t.forEach((function(t,r){Rv(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return kd()<=ve.DEBUG&&bd("QueryEngine","Using full collection scan to execute query:",Pv(t)),this.Zs.Qs(e,t,Qp.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Nk=function(){function e(t,n,r,i){g(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new Gp(Bd),this.ai=new bm((function(e){return tv(e)}),nv),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return b(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Tk(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function Ck(e,t,n,r){return new Nk(e,t,n,r)}function Ok(e,t){return Pk.apply(this,arguments)}function Pk(){return Pk=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Td(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Am(),s=w(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=w(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=w(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=w(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Pk.apply(this,arguments)}function Rk(e,t){var n=Td(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Wy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);_d(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function Dk(e){var t=Td(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Lk(e,t){var n=Td(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ep.EMPTY_BYTE_STRING,Qd.min()).withLastLimboFreeSnapshotVersion(Qd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=xm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Mk(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Qd.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Wy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function Mk(e,t,n){var r=Am();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=xm();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Qd.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):bd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Fk(e,t){var n=Td(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Uk(e,t){var n=Td(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,Wy.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new ug(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function jk(e,t,n){return Vk.apply(this,arguments)}function Vk(){return Vk=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Td(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Jy(e.t1)){e.next=12;break}throw e.t1;case 12:bd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Vk.apply(this,arguments)}function Bk(e,t,n){var r=Td(e),i=Qd.min(),a=Am();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Td(e),i=r.ai.get(n);return void 0!==i?Wy.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Av(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Qd.min(),n?a:Am())})).next((function(e){return Kk(r,Dv(t),e),{documents:e,_i:a}}))}))}function qk(e,t){var n=Td(e),r=Td(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function zk(e,t){var n=Td(e),r=n.ci.get(t)||Qd.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,zp(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Kk(n,t,e),e}))}function Kk(e,t,n){var r=Qd.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function Qk(e,t,n,r){return Wk.apply(this,arguments)}function Wk(){return Wk=le(oe().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Td(t),o=Am(),u=xm(),s=w(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,Uk(a,function(e){return Av(Ev(Zd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Mk(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Wk.apply(this,arguments)}function Gk(e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=le(oe().mark((function e(t,n){var r,i,a,o=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Am(),e.next=3,Uk(t,Av(mg(n.bundledQuery)));case 3:return i=e.sent,a=Td(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Wm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(ep.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Hk.apply(this,arguments)}var Yk=function(){function e(t){g(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return b(e,[{key:"getBundleMetadata",value:function(e,t){return Wy.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:Wm(n.createTime)}),Wy.resolve()}},{key:"getNamedQuery",value:function(e,t){return Wy.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:mg(e.bundledQuery),readTime:Wm(e.readTime)}}(t)),Wy.resolve()}}]),e}(),Zk=function(){function e(){g(this,e),this.overlays=new Gp(dp.comparator),this.Ii=new Map}return b(e,[{key:"getOverlay",value:function(e,t){return Wy.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Wy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),Wy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=_m(),i=t.length+1,a=new dp(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Wy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Gp((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=_m(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=_m(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Wy.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new og(t,n));var a=this.Ii.get(t);void 0===a&&(a=Am(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),Jk=function(){function e(){g(this,e),this.Ti=new Zp(Xk.Ei),this.Ai=new Zp(Xk.Ri)}return b(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Xk(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new Xk(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new dp(new Zd([])),r=new Xk(n,e),i=new Xk(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new dp(new Zd([])),n=new Xk(t,e),r=new Xk(t,e+1),i=Am();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Xk(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Xk=function(){function e(t,n){g(this,e),this.key=t,this.Ci=n}return b(e,null,[{key:"Ei",value:function(e,t){return dp.comparator(e.key,t.key)||Bd(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Bd(e.Ci,t.Ci)||dp.comparator(e.key,t.key)}}]),e}(),$k=function(){function e(t,n){g(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Zp(Xk.Ei)}return b(e,[{key:"checkEmpty",value:function(e){return Wy.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new ig(i,t,n,r);this.Bs.push(a);var o,u=w(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new Xk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Wy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Wy.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return Wy.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Wy.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return Wy.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Xk(t,0),i=new Xk(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),Wy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zp(Bd);return t.forEach((function(e){var t=new Xk(e,0),i=new Xk(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),Wy.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;dp.isDocumentKey(i)||(i=i.child(""));var a=new Xk(new dp(i),0),o=new Zp(Bd);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),Wy.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;_d(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return Wy.forEach(t.mutations,(function(i){var a=new Xk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Xk(t,0),r=this.Ni.firstAfterOrEqual(n);return Wy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Wy.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),eb=function(){function e(t){g(this,e),this.$i=t,this.docs=new Gp(dp.comparator),this.size=0}return b(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Wy.resolve(n?n.document.mutableCopy():Fp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=xm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Fp.newInvalidDocument(e))})),Wy.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=xm(),i=new dp(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Wp(Kp(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Wy.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Id()}},{key:"Bi",value:function(e,t){return Wy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new tb(this)}},{key:"getSize",value:function(e){return Wy.resolve(this.size)}}]),e}(),tb=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this)).Kn=e,r}return b(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),Wy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(fk),nb=function(){function e(t){g(this,e),this.persistence=t,this.Li=new bm((function(e){return tv(e)}),nv),this.lastRemoteSnapshotVersion=Qd.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Jk,this.targetCount=0,this.Ki=Xg.gn()}return b(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),Wy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Wy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Wy.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),Wy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Wy.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new Xg(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Wy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Wy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Wy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Wy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Wy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return Wy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),Wy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Wy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),Wy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return Wy.resolve(n)}},{key:"containsKey",value:function(e,t){return Wy.resolve(this.qi.containsKey(t))}}]),e}(),rb=function(){function e(t,n){var r=this;g(this,e),this.Gi={},this.overlays={},this.es=new Ud(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new nb(this),this.indexManager=new Lg,this.ds=new eb((function(e){return r.referenceDelegate.Qi(e)})),this.M=new sg(n),this._s=new Yk(this.M)}return b(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Zk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new $k(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;bd("MemoryPersistence","Starting transaction:",e);var i=new ib(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return Wy.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ib=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return b(n)}(Qy),ab=function(){function e(t){g(this,e),this.persistence=t,this.Hi=new Jk,this.Ji=null}return b(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Id()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Wy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Wy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),Wy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wy.forEach(this.Xi,(function(r){var i=dp.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Qd.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return Wy.or([function(){return Wy.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function ob(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ub(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function sb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var cb=function(){function e(t,n,r,i){g(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return b(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ad(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(wd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),lb=function(){function e(t,n,r){g(this,e),this.targetId=t,this.state=n,this.error=r}return b(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ad(i.error.code,i.error.message))),a?new e(t,i.state,r):(wd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),fb=function(){function e(t,n){g(this,e),this.clientId=t,this.activeTargetIds=n}return b(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Cm(),o=0;i&&o<r.activeTargetIds.length;++o)i=hp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(wd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),hb=function(){function e(t,n){g(this,e),this.clientId=t,this.onlineState=n}return b(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(wd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),db=function(){function e(){g(this,e),this.activeTargetIds=Cm()}return b(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),pb=function(){function e(t,n,r,i,a){g(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Gp(Bd),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=ob(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new db),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return b(e,[{key:"start",value:function(){var e=le(oe().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=w(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ob(this.persistenceKey,i)))&&(o=fb.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=w(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(sb(this.persistenceKey,e));if(n){var r=lb.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(sb(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return bd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){bd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){bd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(bd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void wd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(le(oe().mark((function e(){var r,i,a,o,u,s,c;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Ud.A;if(null!=e)try{var n=JSON.parse(e);_d("number"==typeof n),t=n}catch(e){wd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ud.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new cb(this.currentUser,e,t,n),i=ub(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=ub(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=sb(this.persistenceKey,e),i=new lb(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return fb.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return cb.tr(new md(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return lb.tr(r,t)}},{key:"pr",value:function(e){return hb.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:bd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Cm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),vb=function(){function e(){g(this,e),this.Ur=new db,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return b(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new db,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),mb=function(){function e(){g(this,e)}return b(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),yb=function(){function e(){var t=this;g(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return b(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){bd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=w(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){bd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=w(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),gb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},kb=function(){function e(t){g(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return b(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),bb=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return b(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new pd;o.listenOnce(cd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case sd.NO_ERROR:var t=o.getResponseJson();bd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case sd.TIMEOUT:bd("Connection",'RPC "'+e+'" timed out'),a(new Ad(Sd.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:var n=o.getStatus();if(bd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Sd).indexOf(t)>=0?t:Sd.UNKNOWN}(r.status);a(new Ad(u,r.message))}else a(new Ad(Sd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ad(Sd.UNAVAILABLE,"Connection failed."));break;default:Id()}}finally{bd("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=od(),a=ud(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new hd({})),this.lo(o.initMessageHeaders,t,n),V()||z()||j().indexOf("Electron/")>=0||K()||j().indexOf("MSAppHost/")>=0||q()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");bd("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new kb({Jr:function(e){l?bd("Connection","Not sending because WebChannel is closed:",e):(c||(bd("Connection","Opening WebChannel transport."),s.open(),c=!0),bd("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,dd.EventType.OPEN,(function(){l||bd("Connection","WebChannel transport opened.")})),h(s,dd.EventType.CLOSE,(function(){l||(l=!0,bd("Connection","WebChannel transport closed"),f.ro())})),h(s,dd.EventType.ERROR,(function(e){l||(l=!0,xd("Connection","WebChannel transport errored:",e),f.ro(new Ad(Sd.UNAVAILABLE,"The operation could not be completed")))})),h(s,dd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];_d(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){bd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=dm[e];if(void 0!==t)return km(t)}(a),u=i.message;void 0===o&&(o=Sd.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Ad(o,u)),s.close()}else bd("Connection","WebChannel received:",n),f.oo(n)}})),h(a,ld.STAT_EVENT,(function(e){e.stat===fd.PROXY?bd("Connection","Detected buffering proxy"):e.stat===fd.NOPROXY&&bd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){g(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return b(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);bd("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return bd("RestConnection","Received: ",e),e}),(function(t){throw xd("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=gb[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function wb(){return"undefined"!=typeof window?window:null}function xb(){return"undefined"!=typeof document?document:null}function Eb(e){return new qm(e,!0)}var Ib=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;g(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return b(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&bd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),_b=function(){function e(t,n,r,i,a,o,u,s){g(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ib(t,n)}return b(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Sd.RESOURCE_EXHAUSTED?(wd(n.toString()),wd("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Sd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Ad(Sd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(le(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return bd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(bd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Tb=function(e){I(n,e);var t=N(n);function n(e,r,i,a,o,u){var s;return g(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return b(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Id()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(_d(void 0===t||"string"==typeof t),ep.fromBase64String(t||"")):(_d(void 0===t||t instanceof Uint8Array),ep.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Sd.UNKNOWN:km(e.code);return new Ad(t,e.message||"")}(o);n=new Lm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Zm(e,s.document.name),l=Wm(s.document.updateTime),f=new Lp({mapValue:{fields:s.document.fields}}),h=Fp.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Rm(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Zm(e,v.document),y=v.readTime?Wm(v.readTime):Qd.min(),g=Fp.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Rm([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Zm(e,b.document),x=b.removedTargetIds||[];n=new Rm([],x,w,null)}else{if(!("filter"in t))return Id();t.filter;var E=t.filter;E.targetId;var I=E.count||0,_=new ym(I),T=E.targetId;n=new Dm(T,_)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Qd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qd.min():t.readTime?Wm(t.readTime):Qd.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=$m(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=rv(r)?{documents:oy(e,r)}:{query:uy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Km(e,t.resumeToken):t.snapshotVersion.compareTo(Qd.min())>0&&(n.readTime=zm(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Id()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=$m(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(_b),Sb=function(e){I(n,e);var t=N(n);function n(e,r,i,a,o,u){var s;return g(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return b(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,Ut(_(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(_d(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(_d(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Wm(e.updateTime):Wm(t);return n.isEqual(Qd.min())&&(n=Wm(t)),new $v(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Wm(e.commitTime);return this.listener.tu(n,t)}return _d(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=$m(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return iy(t.M,e)}))};this.Lo(n)}}]),n}(_b),Ab=function(e){I(n,e);var t=N(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return b(n,[{key:"iu",value:function(){if(this.su)throw new Ad(Sd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Sd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ad(Sd.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Sd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ad(Sd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return b((function e(){g(this,e)}))}()),Nb=function(){function e(t,n){g(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return b(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(wd(t),this.uu=!1):bd("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Cb=b((function e(t,n,r,i,a){var o=this;g(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Bb(o),!e.t0){e.next=5;break}return bd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Td(t)).wu.add(4),e.next=4,Rb(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,Ob(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Nb(r,i)}));function Ob(e){return Pb.apply(this,arguments)}function Pb(){return Pb=le(oe().mark((function e(t){var n,r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bb(t)){e.next=18;break}n=w(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Pb.apply(this,arguments)}function Rb(e){return Db.apply(this,arguments)}function Db(){return Db=le(oe().mark((function e(t){var n,r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=w(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Db.apply(this,arguments)}function Lb(e,t){var n=Td(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Vb(n)?jb(n):mw(n).Mo()&&Fb(n,t))}function Mb(e,t){var n=Td(e),r=mw(n);n._u.delete(t),r.Mo()&&Ub(n,t),0===n._u.size&&(r.Mo()?r.$o():Bb(n)&&n.yu.set("Unknown"))}function Fb(e,t){e.pu.Z(t.targetId),mw(e).Ho(t)}function Ub(e,t){e.pu.Z(t),mw(e).Jo(t)}function jb(e){e.pu=new Fm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),mw(e).start(),e.yu.au()}function Vb(e){return Bb(e)&&!mw(e).ko()&&e._u.size>0}function Bb(e){return 0===Td(e).wu.size}function qb(e){e.pu=void 0}function zb(e){return Kb.apply(this,arguments)}function Kb(){return Kb=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){Fb(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Qb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qb(t),Vb(t)?(t.yu.lu(n),jb(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Gb(e,t,n){return Hb.apply(this,arguments)}function Hb(){return Hb=le(oe().mark((function e(t,n,r){var i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Lm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=le(oe().mark((function e(t,n){var r,i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=w(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),bd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Yb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Rm?t.pu.ut(n):n instanceof Dm?t.pu._t(n):t.pu.ht(n),r.isEqual(Qd.min())){e.next=29;break}return e.prev=14,e.next=17,Dk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(ep.EMPTY_BYTE_STRING,n.snapshotVersion)),Ub(e,t);var r=new ug(n.target,t,1,n.sequenceNumber);Fb(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),bd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Yb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Hb.apply(this,arguments)}function Yb(e,t,n){return Zb.apply(this,arguments)}function Zb(){return Zb=le(oe().mark((function e(t,n,r){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jy(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Rb(t);case 5:t.yu.set("Offline"),r||(r=function(){return Dk(t.localStore)}),t.asyncQueue.enqueueRetryable(le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,Ob(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function Jb(e,t){return t().catch((function(n){return Yb(e,n,t)}))}function Xb(e){return $b.apply(this,arguments)}function $b(){return $b=le(oe().mark((function e(t){var n,r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Td(t),r=yw(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!ew(n)){e.next=19;break}return e.prev=3,e.next=6,Fk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,tw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Yb(n,e.t0);case 17:e.next=2;break;case 19:nw(n)&&rw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),$b.apply(this,arguments)}function ew(e){return Bb(e)&&e.du.length<10}function tw(e,t){e.du.push(t);var n=yw(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function nw(e){return Bb(e)&&!yw(e).ko()&&e.du.length>0}function rw(e){yw(e).start()}function iw(e){return aw.apply(this,arguments)}function aw(){return aw=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yw(t).nu();case 1:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e){return uw.apply(this,arguments)}function uw(){return uw=le(oe().mark((function e(t){var n,r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yw(t),r=w(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function sw(e,t,n){return cw.apply(this,arguments)}function cw(){return cw=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=ag.from(i,n,r),e.next=3,Jb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Xb(t);case 5:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t){return fw.apply(this,arguments)}function fw(){return fw=le(oe().mark((function e(t,n){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&yw(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=le(oe().mark((function e(t,n){var r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gm(i=n.code)||i===Sd.ABORTED){e.next=7;break}return r=t.du.shift(),yw(t).Fo(),e.next=5,Jb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Xb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:nw(t)&&rw(t);case 5:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(e,t){return dw.apply(this,arguments)}function dw(){return dw=le(oe().mark((function e(t,n){var r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Td(t)).asyncQueue.verifyOperationInProgress(),bd("RemoteStore","RemoteStore received new credentials"),i=Bb(r),r.wu.add(3),e.next=6,Rb(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,Ob(r);case 12:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(e,t){return vw.apply(this,arguments)}function vw(){return vw=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Td(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,Ob(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Rb(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),vw.apply(this,arguments)}function mw(e){return e.Iu||(e.Iu=function(e,t,n){var r=Td(e);return r.iu(),new Tb(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:zb.bind(null,e),eo:Qb.bind(null,e),zo:Gb.bind(null,e)}),e.mu.push(function(){var t=le(oe().mark((function t(n){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),Vb(e)?jb(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:qb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function yw(e){return e.Tu||(e.Tu=function(e,t,n){var r=Td(e);return r.iu(),new Sb(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:iw.bind(null,e),eo:lw.bind(null,e),eu:ow.bind(null,e),tu:sw.bind(null,e)}),e.mu.push(function(){var t=le(oe().mark((function t(n){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,Xb(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(bd("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var gw=function(){function e(t,n,r,i,a){g(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Nd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return b(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ad(Sd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function kw(e,t){if(wd("AsyncQueue","".concat(t,": ").concat(e)),Jy(e))return new Ad(Sd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var bw=function(){function e(t){g(this,e),this.comparator=t?function(e,n){return t(e,n)||dp.comparator(e.key,n.key)}:function(e,t){return dp.comparator(e.key,t.key)},this.keyedMap=Im(),this.sortedSet=new Gp(this.comparator)}return b(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ww=function(){function e(){g(this,e),this.Eu=new Gp(dp.comparator)}return b(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Id():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),xw=function(){function e(t,n,r,i,a,o,u,s){g(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return b(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,bw.emptySet(n),a,r,i,!0,!1)}}]),e}(),Ew=b((function e(){g(this,e),this.Ru=void 0,this.listeners=[]})),Iw=b((function e(){g(this,e),this.queries=new bm((function(e){return Ov(e)}),Cv),this.onlineState="Unknown",this.bu=new Set}));function _w(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=le(oe().mark((function e(t,n){var r,i,a,o,u;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Td(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ew),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=kw(e.t0,"Initialization of query '".concat(Pv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&Ow(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Tw.apply(this,arguments)}function Sw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=le(oe().mark((function e(t,n){var r,i,a,o,u;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Td(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Nw(e,t){var n,r=Td(e),i=!1,a=w(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=w(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ow(r)}function Cw(e,t,n){var r=Td(e),i=r.queries.get(t);if(i){var a,o=w(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ow(e){e.bu.forEach((function(e){e.next()}))}var Pw=function(){function e(t,n,r){g(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return b(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=w(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new xw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=xw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),Rw=function(){function e(t,n){g(this,e),this.payload=t,this.byteLength=n}return b(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),Dw=function(){function e(t){g(this,e),this.M=t}return b(e,[{key:"wi",value:function(e){return Zm(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?ny(this.M,e.document,!1):Fp.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return Wm(e)}}]),e}(),Lw=function(){function e(t,n,r){g(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mw(t)}return b(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Zd.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Dw(this.M),i=w(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=w(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Am()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=le(oe().mark((function e(){var t,n,r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qk(this.localStore,new Dw(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=w(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Gk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Fw=b((function e(t){g(this,e),this.key=t})),Uw=b((function e(t){g(this,e),this.key=t})),jw=function(){function e(t,n){g(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Am(),this.mutatedKeys=Am(),this.Gu=Lv(t),this.Qu=new bw(this.Gu)}return b(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new ww,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Rv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Id()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new xw(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ww,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Am(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Uw(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Fw(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Am();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return xw.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),Vw=b((function e(t,n,r){g(this,e),this.query=t,this.targetId=n,this.view=r})),Bw=b((function e(t){g(this,e),this.key=t,this.na=!1})),qw=function(){function e(t,n,r,i,a,o){g(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new bm((function(e){return Ov(e)}),Cv),this.ra=new Map,this.oa=new Set,this.ua=new Gp(dp.comparator),this.aa=new Map,this.ca=new Jk,this.ha={},this.la=new Map,this.fa=Xg.yn(),this.onlineState="Unknown",this.da=void 0}return b(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function zw(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=le(oe().mark((function e(t,n){var r,i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mx(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,Uk(r.localStore,Av(n));case 8:return u=e.sent,r.isPrimaryClient&&Lb(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Qw(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Qw(e,t,n,r){return Ww.apply(this,arguments)}function Ww(){return Ww=le(oe().mark((function e(t,n,r,i){var a,o,u,s,c,l;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=le(oe().mark((function e(t,n,r,i){var a,o,u;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,Bk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(hx(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Bk(t.localStore,n,!0);case 3:return a=e.sent,o=new jw(n,a._i),u=o.Wu(a.documents),s=Pm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),hx(t,r,c.Xu),l=new Vw(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Gw(e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=le(oe().mark((function e(t,n){var r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Td(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Cv(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,jk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Mb(r.remoteStore,i.targetId),lx(r,i.targetId)})).catch(rk);case 9:e.next=14;break;case 11:return lx(r,i.targetId),e.next=14,jk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Yw(e,t,n){return Zw.apply(this,arguments)}function Zw(){return Zw=le(oe().mark((function e(t,n,r){var i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fx(t),e.prev=1,e.next=4,function(e,t){var n,r=Td(e),i=Kd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Am());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=w(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=am(c,n.get(c.key));null!=l&&u.push(new cm(c.key,l,Mp(l.value.mapValue),em.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new Gp(Bd)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,vx(i,a.changes);case 9:return e.next=11,Xb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=kw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Zw.apply(this,arguments)}function Jw(e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=le(oe().mark((function e(t,n){var r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Td(t),e.prev=1,e.next=4,Lk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(_d(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?_d(n.na):e.removedDocuments.size>0&&(_d(n.na),n.na=!1))})),e.next=8,vx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,rk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Xw.apply(this,arguments)}function $w(e,t,n){var r=Td(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Td(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=w(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ow(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ex(e,t,n){return tx.apply(this,arguments)}function tx(){return tx=le(oe().mark((function e(t,n,r){var i,a,o,u,s,c;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Td(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Gp(dp.comparator)).insert(o,Fp.newNoDocument(o,Qd.min())),s=Am().add(o),c=new Om(Qd.min(),new Map,new Zp(Bd),u,s),e.next=9,Jw(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),px(i),e.next=16;break;case 14:return e.next=16,jk(i.localStore,n,!1).then((function(){return lx(i,n,r)})).catch(rk);case 16:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=le(oe().mark((function e(t,n){var r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Td(t),i=n.batch.batchId,e.prev=1,e.next=4,Rk(r.localStore,n);case 4:return a=e.sent,cx(r,i,null),sx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,vx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),rx.apply(this,arguments)}function ix(e,t,n){return ax.apply(this,arguments)}function ax(){return ax=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Td(t),e.prev=1,e.next=4,function(e,t){var n=Td(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return _d(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,cx(i,n,r),sx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,vx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ax.apply(this,arguments)}function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=le(oe().mark((function e(t,n){var r,i,a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bb((r=Td(t)).remoteStore)||bd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Td(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=kw(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ux.apply(this,arguments)}function sx(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function cx(e,t,n){var r=Td(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function lx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=w(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||fx(e,t)}))}function fx(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(Mb(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),px(e))}function hx(e,t,n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Fw?(e.ca.addReference(a.key,t),dx(e,a)):a instanceof Uw?(bd("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||fx(e,a.key)):Id()}}catch(o){i.e(o)}finally{i.f()}}function dx(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(bd("SyncEngine","New document in limbo: "+n),e.oa.add(r),px(e))}function px(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new dp(Zd.fromString(t)),r=e.fa.next();e.aa.set(r,new Bw(n)),e.ua=e.ua.insert(n,r),Lb(e.remoteStore,new ug(Av(Ev(n.path)),r,2,Ud.A))}}function vx(e,t,n){return mx.apply(this,arguments)}function mx(){return mx=le(oe().mark((function e(t,n,r){var i,a,o,u;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Td(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Sk.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=le(oe().mark((function e(t,n){var r,i,a,o,u,s,c,l;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Td(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Wy.forEach(n,(function(t){return Wy.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Wy.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Jy(e.t0)){e.next=10;break}throw e.t0;case 10:bd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=w(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=le(oe().mark((function e(t,n){var r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Td(t)).currentUser.isEqual(n)){e.next=11;break}return bd("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ok(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Ad(Sd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,vx(r,i.di);case 11:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function kx(e,t){var n=Td(e),r=n.aa.get(t);if(r&&r.na)return Am().add(r.key);var i=Am(),a=n.ra.get(t);if(!a)return i;var o,u=w(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function bx(e,t){return wx.apply(this,arguments)}function wx(){return wx=le(oe().mark((function e(t,n){var r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Td(t),e.next=3,Bk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&hx(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Td(t),e.abrupt("return",zk(r.localStore,n).then((function(e){return vx(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function Ix(e,t,n,r){return _x.apply(this,arguments)}function _x(){return _x=le(oe().mark((function e(t,n,r,i){var a,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Td(t),e.next=3,function(e,t){var n=Td(e),r=Td(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):Wy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Xb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(cx(a,n,i||null),sx(a,n),function(e,t){Td(Td(e).Bs)._n(t)}(a.localStore,n)):Id();case 11:return e.next=13,vx(a,o);case 13:e.next=16;break;case 15:bd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Tx(e,t){return Sx.apply(this,arguments)}function Sx(){return Sx=le(oe().mark((function e(t,n){var r,i,a,o,u,s,c,l;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mx(r=Td(t)),Fx(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Ax(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,pw(r.remoteStore,!0);case 9:o=w(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Lb(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return lx(r,t),jk(r.localStore,t,!0)})),Mb(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Ax(r,c);case 21:return function(e){var t=Td(e);t.aa.forEach((function(e,n){Mb(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new Gp(dp.comparator)}(r),r.da=!1,e.next=25,pw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Ax(e,t,n){return Nx.apply(this,arguments)}function Nx(){return Nx=le(oe().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Td(t),a=[],o=[],u=w(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,Uk(i.localStore,Av(f[0]));case 11:l=e.sent,h=w(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,bx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,qk(i.localStore,c);case 36:return y=e.sent,e.next=39,Uk(i.localStore,y);case 39:return l=e.sent,e.next=42,Qw(i,Cx(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Nx.apply(this,arguments)}function Cx(e){return xv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ox(e){var t=Td(e);return Td(Td(t.localStore).persistence).Fs()}function Px(e,t,n,r){return Rx.apply(this,arguments)}function Rx(){return Rx=le(oe().mark((function e(t,n,r,i){var a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Td(t)).da){e.next=3;break}return e.abrupt("return",void bd("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,zk(a.localStore,Dv(o[0]));case 10:return u=e.sent,s=Om.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,vx(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,jk(a.localStore,n,!0);case 17:return lx(a,n,i),e.abrupt("break",20);case 19:Id();case 20:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Dx(e,t,n){return Lx.apply(this,arguments)}function Lx(){return Lx=le(oe().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Mx(t)).da){e.next=45;break}a=w(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return bd("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,qk(i.localStore,u);case 12:return s=e.sent,e.next=15,Uk(i.localStore,s);case 15:return c=e.sent,e.next=18,Qw(i,Cx(s),c.targetId,!1);case 18:Lb(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=w(r),e.prev=30,h=oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,jk(i.localStore,t,!1).then((function(){Mb(i.remoteStore,t),lx(i,t)})).catch(rk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Lx.apply(this,arguments)}function Mx(e){var t=Td(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ex.bind(null,t),t.sa.zo=Nw.bind(null,t.eventManager),t.sa.wa=Cw.bind(null,t.eventManager),t}function Fx(e){var t=Td(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,t),t}function Ux(e,t,n){var r=Td(e);(function(){var e=le(oe().mark((function e(t,n,r){var i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Td(e),r=Wm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Mw(i)),a=new Lw(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,vx(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Td(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(xd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var jx=function(){function e(){g(this,e),this.synchronizeTabs=!1}return b(e,[{key:"initialize",value:function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Eb(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return Ck(this.persistence,new Ak,e.initialUser,this.M)}},{key:"ya",value:function(e){return new rb(ab.Yi,this.M)}},{key:"ga",value:function(e){return new vb}},{key:"terminate",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vx=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return b(n,[{key:"initialize",value:function(){var e=le(oe().mark((function e(t){var r=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(_(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,Fx(this.Ta.syncEngine);case 6:return e.next=8,Xb(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return Ck(this.persistence,new Ak,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new uk(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=_k(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kg.withCacheSize(this.cacheSizeBytes):Kg.DEFAULT;return new xk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,wb(),xb(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new vb}}]),n}(jx),Bx=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return b(n,[{key:"initialize",value:function(){var e=le(oe().mark((function e(t){var r,i=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(_(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof pb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:Ix.bind(null,r),Br:Px.bind(null,r),Lr:Dx.bind(null,r),Fs:Ox.bind(null,r),Fr:xx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tx(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=wb();if(!pb.vt(t))throw new Ad(Sd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_k(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Vx),qx=function(){function e(){g(this,e)}return b(e,[{key:"initialize",value:function(){var e=le(oe().mark((function e(t,n){var r=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $w(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yx.bind(null,this.syncEngine),e.next=12,pw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Iw}},{key:"createDatastore",value:function(e){var t,n=Eb(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new bb(t));return function(e,t,n,r){return new Ab(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return $w(o.syncEngine,e,0)},a=yb.vt()?new yb:new mb,new Cb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new qw(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Td(t),bd("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Rb(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function zx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return le(oe().mark((function r(){var i;return oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Kx=function(){function e(t){g(this,e),this.observer=t,this.muted=!1}return b(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Qx=function(){function e(t,n){var r=this;g(this,e),this.Ra=t,this.M=n,this.metadata=new Nd,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return b(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=le(oe().mark((function e(){var t,n,r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new Rw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=le(oe().mark((function e(){var t,n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=le(oe().mark((function e(){var t,n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wx=function(){function e(t){g(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return b(e,[{key:"lookup",value:function(){var e=le(oe().mark((function e(t){var n,r=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ad(Sd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=le(oe().mark((function e(t,n){var r,i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Td(t),i=$m(r.M)+"/documents",a={documents:n.map((function(e){return Ym(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=ry(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());_d(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new vm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=le(oe().mark((function e(){var t,n=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=dp.fromPath(t);n.mutations.push(new mm(r,n.precondition(r)))})),e.next=7,function(){var e=le(oe().mark((function e(t,n){var r,i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Td(t),i=$m(r.M)+"/documents",a={writes:n.map((function(e){return iy(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Id();t=Qd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ad(Sd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?em.updateTime(t):em.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qd.min()))throw new Ad(Sd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return em.updateTime(t)}return em.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Gx=function(){function e(t,n,r,i,a){g(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new Ib(this.asyncQueue,"transaction_retry")}return b(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(le(oe().mark((function t(){var n,r;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Wx(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!lp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!gm(t)}return!1}}]),e}(),Hx=function(){function e(t,n,r,i){var a=this;g(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=md.UNAUTHENTICATED,this.clientId=Vd.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return bd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return b(e,[{key:"getConfiguration",value:function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ad(Sd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Nd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(le(oe().mark((function n(){var r;return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=kw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Yx(e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=le(oe().mark((function e(t,n){var r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),bd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ok(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function Jx(e,t){return Xx.apply(this,arguments)}function Xx(){return Xx=le(oe().mark((function e(t,n){var r,i;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,$x(t);case 3:return r=e.sent,bd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return hw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return hw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function $x(e){return eE.apply(this,arguments)}function eE(){return eE=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return bd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Yx(t,new jx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e){return nE.apply(this,arguments)}function nE(){return nE=le(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return bd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Jx(t,new qx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e){return $x(e).then((function(e){return e.persistence}))}function iE(e){return $x(e).then((function(e){return e.localStore}))}function aE(e){return tE(e).then((function(e){return e.remoteStore}))}function oE(e){return tE(e).then((function(e){return e.syncEngine}))}function uE(e){return sE.apply(this,arguments)}function sE(){return sE=le(oe().mark((function e(t){var n,r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=zw.bind(null,n.syncEngine),r.onUnlisten=Gw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Nd;return e.asyncQueue.enqueueAndForget(le(oe().mark((function i(){return oe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Kx({next:function(a){t.enqueueAndForget((function(){return Sw(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ad(Sd.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ad(Sd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Pw(Ev(n.path),a,{includeMetadataChanges:!0,ku:!0});return _w(e,o)},i.next=3,uE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function lE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Nd;return e.asyncQueue.enqueueAndForget(le(oe().mark((function i(){return oe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Kx({next:function(n){t.enqueueAndForget((function(){return Sw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ad(Sd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Pw(n,a,{includeMetadataChanges:!0,ku:!0});return _w(e,o)},i.next=3,uE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var fE=new Map;function hE(e,t,n){if(!n)throw new Ad(Sd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dE(e,t,n,r){if(!0===t&&!0===r)throw new Ad(Sd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function pE(e){if(!dp.isDocumentKey(e))throw new Ad(Sd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vE(e){if(dp.isDocumentKey(e))throw new Ad(Sd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function mE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Id()}function yE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ad(Sd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mE(e);throw new Ad(Sd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function gE(e,t){if(t<=0)throw new Ad(Sd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var kE=function(){function e(t){var n;if(g(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ad(Sd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ad(Sd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,dE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return b(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),bE=function(){function e(t,n,r){g(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,t instanceof cp?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ad(Sd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cp(e.options.projectId)}(t))}return b(e,[{key:"app",get:function(){if(!this._app)throw new Ad(Sd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ad(Sd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Od;switch(e.type){case"gapi":var t=e.client;return _d(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ld(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ad(Sd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=fE.get(e);t&&(bd("ComponentProvider","Removing Datastore"),fE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function wE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=yE(e,bE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&xd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=md.MOCK_USER;else{o=U(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ad(Sd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new md(s)}e._authCredentials=new Pd(new Cd(o,u))}}var xE=function(){function e(t,n,r){g(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return b(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new IE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),EE=function(){function e(t,n,r){g(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return b(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),IE=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,e,r,Ev(i)))._path=i,a.type="collection",a}return b(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xE(this.firestore,null,new dp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(EE);function _E(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ae(e),hE("collection","path",t),e instanceof bE){var a=Zd.fromString.apply(Zd,[t].concat(r));return vE(a),new IE(e,null,a)}if(!(e instanceof xE||e instanceof IE))throw new Ad(Sd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zd.fromString.apply(Zd,[t].concat(r)));return vE(o),new IE(e.firestore,null,o)}function TE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ae(e),1===arguments.length&&(t=Vd.R()),hE("doc","path",t),e instanceof bE){var a=Zd.fromString.apply(Zd,[t].concat(r));return pE(a),new xE(e,null,new dp(a))}if(!(e instanceof xE||e instanceof IE))throw new Ad(Sd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zd.fromString.apply(Zd,[t].concat(r)));return pE(o),new xE(e.firestore,e instanceof IE?e.converter:null,new dp(o))}function SE(e,t){return e=ae(e),t=ae(t),(e instanceof xE||e instanceof IE)&&(t instanceof xE||t instanceof IE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function AE(e,t){return e=ae(e),t=ae(t),e instanceof EE&&t instanceof EE&&e.firestore===t.firestore&&Cv(e._query,t._query)&&e.converter===t.converter}var NE=function(){function e(){var t=this;g(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Ib(this,"async_queue_retry"),this.Qa=function(){var e=xb();e&&bd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=xb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return b(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=xb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new Nd;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=le(oe().mark((function e(){var t=this;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Jy(e.t0)){e.next=12;break}throw e.t0;case 12:bd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw wd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=gw.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Id()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=le(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=w(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=w(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function CE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=w(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var OE=function(){function e(){g(this,e),this._progressObserver={},this._taskCompletionResolver=new Nd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return b(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),PE=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new NE,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return b(n,[{key:"_terminate",value:function(){return this._firestoreClient||DE(this),this._firestoreClient.terminate()}}]),n}(bE);function RE(e){return e._firestoreClient||DE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function DE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new sp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Hx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function LE(e,t,n){var r=new Nd;return e.asyncQueue.enqueue(le(oe().mark((function i(){return oe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Yx(e,n);case 3:return i.next=5,Jx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Sd.FAILED_PRECONDITION||e.code===Sd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ME(e){return function(e){return e.asyncQueue.enqueue(le(oe().mark((function t(){var n,r;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rE(e);case 2:return n=t.sent,t.next=5,aE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Td(e);return t.wu.delete(0),Ob(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(RE(e=yE(e,PE)))}function FE(e){return function(e){return e.asyncQueue.enqueue(le(oe().mark((function t(){var n,r;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rE(e);case 2:return n=t.sent,t.next=5,aE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Td(t)).wu.add(0),e.next=4,Rb(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(RE(e=yE(e,PE)))}function UE(e,t){var n=RE(e=yE(e,PE)),r=new OE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Qx(e,t)}(function(e,t){if(e instanceof Uint8Array)return zx(e,t);if(e instanceof ArrayBuffer)return zx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Eb(t));e.asyncQueue.enqueueAndForget(le(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ux,t.next=3,oE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function jE(e,t){return function(e,t){return e.asyncQueue.enqueue(le(oe().mark((function n(){return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Td(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,iE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(RE(e=yE(e,PE)),t).then((function(t){return t?new EE(e,null,t.query):null}))}function VE(e){if(e._initialized||e._terminated)throw new Ad(Sd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var BE=function(){function e(){g(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xd(n)}return b(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var qE=function(){function e(t){g(this,e),this._byteString=t}return b(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ep.fromBase64String(t))}catch(t){throw new Ad(Sd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ep.fromUint8Array(t))}}]),e}(),zE=b((function e(t){g(this,e),this._methodName=t})),KE=function(){function e(t,n){if(g(this,e),!isFinite(t)||t<-90||t>90)throw new Ad(Sd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ad(Sd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return b(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Bd(this._lat,e._lat)||Bd(this._long,e._long)}}]),e}(),QE=/^__.*__$/,WE=function(){function e(t,n,r){g(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return b(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new cm(e,this.data,this.fieldMask,t,this.fieldTransforms):new sm(e,this.data,t,this.fieldTransforms)}}]),e}(),GE=function(){function e(t,n,r){g(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return b(e,[{key:"toMutation",value:function(e,t){return new cm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function HE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Id()}}var YE=function(){function e(t,n,r,i,a,o){g(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return b(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return vI(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(HE(this.ec)&&QE.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),ZE=function(){function e(t,n,r){g(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Eb(t)}return b(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new YE({ec:e,methodName:t,hc:n,path:Xd.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function JE(e){var t=e._freezeSettings(),n=Eb(e._databaseId);return new ZE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function XE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);fI("Data must be an object, but it was:",o,r);var u,s,c=cI(r,o);if(a.merge)u=new $d(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=w(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=hI(t,d,n);if(!o.contains(p))throw new Ad(Sd.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));mI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new $d(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new WE(new Lp(c),u,s)}var $E=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(zE);function eI(e,t,n){return new YE({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var tI=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"_toFieldTransform",value:function(e){return new Xv(e.path,new Kv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(zE),nI=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).fc=r,i}return b(n,[{key:"_toFieldTransform",value:function(e){var t=eI(this,e,!0),n=this.fc.map((function(e){return sI(e,t)})),r=new Qv(n);return new Xv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zE),rI=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).fc=r,i}return b(n,[{key:"_toFieldTransform",value:function(e){var t=eI(this,e,!0),n=this.fc.map((function(e){return sI(e,t)})),r=new Gv(n);return new Xv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zE),iI=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).dc=r,i}return b(n,[{key:"_toFieldTransform",value:function(e){var t=new Yv(e.M,jv(e.M,this.dc));return new Xv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zE);function aI(e,t,n,r){var i=e.lc(1,t,n);fI("Data must be an object, but it was:",i,r);var a=[],o=Lp.empty();Gd(r,(function(e,r){var u=pI(t,e,n);r=ae(r);var s=i.oc(u);if(r instanceof $E)a.push(u);else{var c=sI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new $d(a);return new GE(o,u,i.fieldTransforms)}function oI(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[hI(t,r,n)],s=[i];if(a.length%2!=0)throw new Ad(Sd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(hI(t,a[c])),s.push(a[c+1]);for(var l=[],f=Lp.empty(),h=u.length-1;h>=0;--h)if(!mI(l,u[h])){var d=u[h],p=s[h];p=ae(p);var v=o.oc(d);if(p instanceof $E)l.push(d);else{var m=sI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new $d(l);return new GE(f,y,o.fieldTransforms)}function uI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return sI(n,e.lc(r?4:3,t))}function sI(e,t){if(lI(e=ae(e)))return fI("Unsupported field value:",t,e),cI(e,t);if(e instanceof zE)return function(e,t){if(!HE(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=w(e);try{for(a.s();!(n=a.n()).done;){var o=sI(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ae(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jv(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Kd.fromDate(e);return{timestampValue:zm(t.M,n)}}if(e instanceof Kd){var r=new Kd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zm(t.M,r)}}if(e instanceof KE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qE)return{bytesValue:Km(t.M,e._byteString)};if(e instanceof xE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Gm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(mE(e)))}(e,t)}function cI(e,t){var n={};return Hd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gd(e,(function(e,r){var i=sI(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function lI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Kd||e instanceof KE||e instanceof qE||e instanceof xE||e instanceof zE)}function fI(e,t,n){if(!lI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=mE(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function hI(e,t,n){if((t=ae(t))instanceof BE)return t._internalPath;if("string"==typeof t)return pI(e,t);throw vI("Field path arguments must be of type string or ",e,!1,void 0,n)}var dI=new RegExp("[~\\*/\\[\\]]");function pI(e,t,n){if(t.search(dI)>=0)throw vI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return C(BE,se(t.split(".")))._internalPath}catch(r){throw vI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function vI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ad(Sd.INVALID_ARGUMENT,u+e+s)}function mI(e,t){return e.some((function(e){return e.isEqual(t)}))}var yI=function(){function e(t,n,r,i,a){g(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return b(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new xE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new gI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(kI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),gI=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"data",value:function(){return Ut(_(n.prototype),"data",this).call(this)}}]),n}(yI);function kI(e,t){return"string"==typeof t?pI(e,t):t instanceof BE?t._internalPath:t._delegate._internalPath}var bI=function(){function e(t,n){g(this,e),this.hasPendingWrites=t,this.fromCache=n}return b(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),wI=function(e){I(n,e);var t=N(n);function n(e,r,i,a,o,u){var s;return g(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return b(n,[{key:"exists",value:function(){return Ut(_(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new xI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(kI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(yI),xI=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ut(_(n.prototype),"data",this).call(this,e)}}]),n}(wI),EI=function(){function e(t,n,r,i){g(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new bI(i.hasPendingWrites,i.fromCache),this.query=r}return b(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xI(n._firestore,n._userDataWriter,r.key,r,new bI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ad(Sd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new xI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:II(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function II(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Id()}}function _I(e,t){return e instanceof wI&&t instanceof wI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof EI&&t instanceof EI&&e._firestore===t._firestore&&AE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function TI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ad(Sd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var SI=b((function e(){g(this,e)}));function AI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var NI=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return b(n,[{key:"_apply",value:function(e){var t=JE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){VI(o,a);var s,c=[],l=w(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(jI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=jI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||VI(o,a),u=uI(n,"where",o,"in"===a||"not-in"===a);var h=uv.create(i,a,u);return function(e,t){if(t.S()){var n=_v(e);if(null!==n&&!n.isEqual(t.field))throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Iv(e);null!==r&&BI(e,t.field,r)}var i=function(e,t){var n,r=w(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ad(Sd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ad(Sd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new EE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new wv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(SI);var CI=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return b(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yv(t,n);return function(e,t){if(null===Iv(e)){var n=_v(e);null!==n&&BI(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new EE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new wv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(SI);var OI=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return b(n,[{key:"_apply",value:function(e){return new EE(e.firestore,e.converter,Nv(e._query,this.yc,this.Ic))}}]),n}(SI);var PI=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return b(n,[{key:"_apply",value:function(e){var t=UI(e,this.type,this.Tc,this.Ec);return new EE(e.firestore,e.converter,function(e,t){return new wv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(SI);function RI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PI("startAt",t,!0)}function DI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PI("startAfter",t,!1)}var LI=function(e){I(n,e);var t=N(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return b(n,[{key:"_apply",value:function(e){var t=UI(e,this.type,this.Tc,this.Ec);return new EE(e.firestore,e.converter,function(e,t){return new wv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(SI);function MI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LI("endBefore",t,!1)}function FI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LI("endAt",t,!0)}function UI(e,t,n,r){if(n[0]=ae(n[0]),n[0]instanceof yI)return function(e,t,n,r,i){if(!r)throw new Ad(Sd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=w(Sv(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ep(t,r.key));else{var c=r.data.field(s.field);if(ap(c))throw new Ad(Sd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new mv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=JE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ad(Sd.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Tv(e)&&-1!==c.indexOf("/"))throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Zd.fromString(c));if(!dp.isDocumentKey(l))throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new dp(l);u.push(Ep(t,f))}else{var h=uI(n,r,c);u.push(h)}}return new mv(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function jI(e,t,n){if("string"==typeof(n=ae(n))){if(""===n)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tv(t)&&-1!==n.indexOf("/"))throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Zd.fromString(n));if(!dp.isDocumentKey(r))throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ep(e,new dp(r))}if(n instanceof xE)return Ep(e,n._key);throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(mE(n),"."))}function VI(e,t){if(!Array.isArray(e)||0===e.length)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function BI(e,t,n){if(!n.isEqual(t))throw new Ad(Sd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var qI={maxAttempts:5},zI=function(){function e(){g(this,e)}return b(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(mp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ip(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Id()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Gd(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new KE(rp(e.latitude),rp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=op(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(up(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=np(e);return new Kd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Zd.fromString(e);_d(yy(n));var r=new cp(n.get(1),n.get(3)),i=new dp(n.popFirst(5));return r.isEqual(t)||wd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function KI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var QI=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this)).firestore=e,r}return b(n,[{key:"convertBytes",value:function(e){return new qE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xE(this.firestore,null,t)}}]),n}(zI),WI=function(){function e(t,n){g(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=JE(t)}return b(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=GI(e,this._firestore),i=KI(r.converter,t,n),a=XE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,em.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=GI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ae(t))||t instanceof BE?oI(this._dataReader,"WriteBatch.update",i._key,t,n,o):aI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,em.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=GI(e,this._firestore);return this._mutations=this._mutations.concat(new vm(t._key,em.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ad(Sd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function GI(e,t){if((e=ae(e)).firestore!==t)throw new Ad(Sd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var HI=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this)).firestore=e,r}return b(n,[{key:"convertBytes",value:function(e){return new qE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xE(this.firestore,null,t)}}]),n}(zI);function YI(e){e=yE(e,xE);var t=yE(e.firestore,PE),n=RE(t),r=new HI(t);return function(e,t){var n=new Nd;return e.asyncQueue.enqueueAndForget(le(oe().mark((function r(){return oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=le(oe().mark((function e(t,n,r){var i,a;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Td(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ad(Sd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=kw(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,iE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new wI(t,r,e._key,n,new bI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ZI(e){e=yE(e,EE);var t=yE(e.firestore,PE),n=RE(t),r=new HI(t);return function(e,t){var n=new Nd;return e.asyncQueue.enqueueAndForget(le(oe().mark((function r(){return oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=le(oe().mark((function e(t,n,r){var i,a,o,u,s;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bk(t,n,!0);case 3:i=e.sent,a=new jw(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=kw(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,iE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new EI(t,r,e,n)}))}function JI(e,t,n){e=yE(e,xE);var r=yE(e.firestore,PE),i=KI(e.converter,t,n);return t_(r,[XE(JE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,em.none())])}function XI(e,t,n){e=yE(e,xE);for(var r=yE(e.firestore,PE),i=JE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return t_(r,[("string"==typeof(t=ae(t))||t instanceof BE?oI(i,"updateDoc",e._key,t,n,o):aI(i,"updateDoc",e._key,t)).toMutation(e._key,em.exists(!0))])}function $I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ae(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||CE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(CE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof xE)l=yE(e.firestore,PE),f=Ev(e._key.path),c={next:function(t){n[s]&&n[s](n_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=yE(e,EE);l=yE(p.firestore,PE),f=p._query;var v=new HI(l);c={next:function(e){n[s]&&n[s](new EI(l,v,p,e))},error:n[s+1],complete:n[s+2]},TI(e._query)}return function(e,t,n,r){var i=new Kx(r),a=new Pw(t,i,n);return e.asyncQueue.enqueueAndForget(le(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_w,t.next=3,uE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(le(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sw,t.next=3,uE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(RE(l),f,h,c)}function e_(e,t){return function(e,t){var n=new Kx(t);return e.asyncQueue.enqueueAndForget(le(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Td(e).bu.add(t),t.next()},t.next=3,uE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(le(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Td(e).bu.delete(t)},t.next=3,uE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(RE(e=yE(e,PE)),CE(t)?t:{next:t})}function t_(e,t){return function(e,t){var n=new Nd;return e.asyncQueue.enqueueAndForget(le(oe().mark((function r(){return oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Yw,r.next=3,oE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(RE(e),t)}function n_(e,t,n){var r=n.docs.get(t._key),i=new HI(e);return new wI(e,i,t._key,r,new bI(n.hasPendingWrites,n.fromCache),t.converter)}var r_=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r))._firestore=e,i}return b(n,[{key:"get",value:function(e){var t=this,r=GI(e,this._firestore),i=new HI(this._firestore);return Ut(_(n.prototype),"get",this).call(this,e).then((function(e){return new wI(t._firestore,i,r._key,e._document,new bI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){g(this,e),this._firestore=t,this._transaction=n,this._dataReader=JE(t)}return b(e,[{key:"get",value:function(e){var t=this,n=GI(e,this._firestore),r=new QI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Id();var i=e[0];if(i.isFoundDocument())return new yI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new yI(t._firestore,r,n._key,null,n.converter);throw Id()}))}},{key:"set",value:function(e,t,n){var r=GI(e,this._firestore),i=KI(r.converter,t,n),a=XE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=GI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ae(t))||t instanceof BE?oI(this._dataReader,"Transaction.update",i._key,t,n,o):aI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=GI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function i_(e,t,n){e=yE(e,PE);var r=Object.assign(Object.assign({},qI),n);return function(e){if(e.maxAttempts<1)throw new Ad(Sd.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Nd;return e.asyncQueue.enqueueAndForget(le(oe().mark((function i(){var a;return oe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return tE(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new Gx(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(RE(e),(function(n){return t(new r_(e,n))}),r)}function a_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nI("arrayUnion",t)}function o_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yd=e}(ot),$e(new fe("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new PE(i,new Rd(e.getProvider("auth-internal")),new Fd(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ht(vd,"3.4.9",e),ht(vd,"3.4.9","esm2017")}();function u_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ad("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function s_(){if("undefined"===typeof Uint8Array)throw new Ad("unimplemented","Uint8Arrays are not available in this environment.")}function c_(){if("undefined"==typeof atob)throw new Ad("unimplemented","Blobs are unavailable in Firestore in this environment.")}var l_=function(){function e(t){g(this,e),this._delegate=t}return b(e,[{key:"toBase64",value:function(){return c_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return s_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return c_(),new e(qE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return s_(),new e(qE.fromUint8Array(t))}}]),e}();function f_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=w(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var h_=function(){function e(){g(this,e)}return b(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){VE(e=yE(e,PE));var n=RE(e),r=e._freezeSettings(),i=new qx;return LE(n,i,new Vx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){VE(e=yE(e,PE));var t=RE(e),n=e._freezeSettings(),r=new qx;return LE(t,r,new Bx(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ad(Sd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Nd;return e._queue.enqueueAndForgetEvenWhileRestricted(le(oe().mark((function n(){return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=le(oe().mark((function e(t){var n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hy.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Hy.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(_k(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),d_=function(){function e(t,n,r){var i=this;g(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof cp||(this._appCompat=t)}return b(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||xd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ME(this._delegate)}},{key:"disableNetwork",value:function(){return FE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&dE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Nd;return e.asyncQueue.enqueueAndForget(le(oe().mark((function n(){return oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ox,n.next=3,oE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(RE(e=yE(e,PE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return e_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ad("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new S_(this,_E(this._delegate,e))}catch(t){throw k_(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new g_(this,TE(this._delegate,e))}catch(t){throw k_(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new I_(this,function(e,t){if(e=yE(e,bE),hE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ad(Sd.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new EE(e,null,function(e){return new wv(Zd.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw k_(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return i_(this._delegate,(function(n){return e(new v_(t,n))}))}},{key:"batch",value:function(){var e=this;return RE(this._delegate),new m_(new WI(this._delegate,(function(t){return t_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return UE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return jE(this._delegate,e).then((function(e){return e?new I_(t,e):null}))}}]),e}(),p_=function(e){I(n,e);var t=N(n);function n(e){var r;return g(this,n),(r=t.call(this)).firestore=e,r}return b(n,[{key:"convertBytes",value:function(e){return new l_(new qE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return g_.forKey(t,this.firestore,null)}}]),n}(zI);var v_=function(){function e(t,n){g(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new p_(t)}return b(e,[{key:"get",value:function(e){var t=this,n=A_(e);return this._delegate.get(n).then((function(e){return new x_(t._firestore,new wI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=A_(e);return n?(u_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=A_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=A_(e);return this._delegate.delete(t),this}}]),e}(),m_=function(){function e(t){g(this,e),this._delegate=t}return b(e,[{key:"set",value:function(e,t,n){var r=A_(e);return n?(u_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=A_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=A_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),y_=function(){function e(t,n,r){g(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return b(e,[{key:"fromFirestore",value:function(e,t){var n=new xI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new E_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new p_(t),n),i.set(n,a)),a}}]),e}();y_.INSTANCES=new WeakMap;var g_=function(){function e(t,n){g(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new p_(t)}return b(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new S_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new S_(this.firestore,_E(this._delegate,e))}catch(t){throw k_(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ae(e))instanceof xE&&SE(this._delegate,e)}},{key:"set",value:function(e,t){t=u_("DocumentReference.set",t);try{return t?JI(this._delegate,e,t):JI(this._delegate,e)}catch(n){throw k_(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?XI(this._delegate,e):XI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw k_(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return t_(yE(e.firestore,PE),[new vm(e._key,em.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=b_(n),a=w_(n,(function(t){return new x_(e.firestore,new wI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return $I(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?YI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yE(e,xE);var t=yE(e.firestore,PE);return cE(RE(t),e._key,{source:"server"}).then((function(n){return n_(t,e,n)}))}(this._delegate):function(e){e=yE(e,xE);var t=yE(e.firestore,PE);return cE(RE(t),e._key).then((function(n){return n_(t,e,n)}))}(this._delegate),t.then((function(e){return new x_(n.firestore,new wI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(y_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ad("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new xE(n._delegate,r,new dp(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new xE(n._delegate,r,t))}}]),e}();function k_(e,t,n){return e.message=e.message.replace(t,n),e}function b_(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!f_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function w_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=f_(e[0])?e[0]:f_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var x_=function(){function e(t,n){g(this,e),this._firestore=t,this._delegate=n}return b(e,[{key:"ref",get:function(){return new g_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return _I(this._delegate,e._delegate)}}]),e}(),E_=function(e){I(n,e);var t=N(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Id()}(void 0!==t),t}}]),n}(x_),I_=function(){function e(t,n){g(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new p_(t)}return b(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,AI(this._delegate,function(e,t,n){var r=t,i=kI("where",e);return new NI(i,r,n)}(t,n,r)))}catch(i){throw k_(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,AI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=kI("orderBy",e);return new CI(n,t)}(t,n)))}catch(r){throw k_(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,AI(this._delegate,function(e){return gE("limit",e),new OI("limit",e,"F")}(t)))}catch(n){throw k_(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,AI(this._delegate,function(e){return gE("limitToLast",e),new OI("limitToLast",e,"L")}(t)))}catch(n){throw k_(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,AI(this._delegate,RI.apply(void 0,arguments)))}catch(t){throw k_(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,AI(this._delegate,DI.apply(void 0,arguments)))}catch(t){throw k_(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,AI(this._delegate,MI.apply(void 0,arguments)))}catch(t){throw k_(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,AI(this._delegate,FI.apply(void 0,arguments)))}catch(t){throw k_(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return AE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ZI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yE(e,EE);var t=yE(e.firestore,PE),n=RE(t),r=new HI(t);return lE(n,e._query,{source:"server"}).then((function(n){return new EI(t,r,e,n)}))}(this._delegate):function(e){e=yE(e,EE);var t=yE(e.firestore,PE),n=RE(t),r=new HI(t);return TI(e._query),lE(n,e._query).then((function(n){return new EI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new T_(n.firestore,new EI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=b_(n),a=w_(n,(function(t){return new T_(e.firestore,new EI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return $I(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(y_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),__=function(){function e(t,n){g(this,e),this._firestore=t,this._delegate=n}return b(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new E_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),T_=function(){function e(t,n){g(this,e),this._firestore=t,this._delegate=n}return b(e,[{key:"query",get:function(){return new I_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new E_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new __(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new E_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return _I(this._delegate,e._delegate)}}]),e}(),S_=function(e){I(n,e);var t=N(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return b(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new g_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new g_(this.firestore,void 0===e?TE(this._delegate):TE(this._delegate,e))}catch(t){throw k_(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=yE(e.firestore,PE),r=TE(e),i=KI(e.converter,t);return t_(n,[XE(JE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,em.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new g_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return SE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(y_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(I_);function A_(e){return yE(e,xE)}var N_=function(){function e(){g(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=C(BE,n)}return b(e,[{key:"isEqual",value:function(e){return(e=ae(e))instanceof BE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Xd.keyField().canonicalString())}}]),e}(),C_=function(){function e(t){g(this,e),this._delegate=t}return b(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new tI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new $E("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=a_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=o_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new iI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),O_={Firestore:d_,GeoPoint:KE,Timestamp:Kd,Blob:l_,Transaction:v_,WriteBatch:m_,DocumentReference:g_,DocumentSnapshot:x_,Query:I_,QueryDocumentSnapshot:E_,QuerySnapshot:T_,CollectionReference:S_,FieldPath:N_,FieldValue:C_,setLogLevel:function(e){!function(e){gd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new fe("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},O_)))}(e,(function(e,t){return new d_(e,t,new h_)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(Mt);var P_,R_=function(e,t){var n=function(e){var t=Mt.apps.filter((function(t){return t.options.appId===e}));return 1===t.length?t[0]:null}(e.appId);return n||Mt.initializeApp(e,t)};"pam"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLASS_CODE:"test-content"}.REACT_APP_APP_ENV?(console.log("using pjordan config"),P_=R_({apiKey:"AIzaSyB9eVT-fu4TOjxHoPAXqsnz9tCcbTJkTOw",authDomain:"pamdev-ea800.firebaseapp.com",projectId:"pamdev-ea800",storageBucket:"pamdev-ea800.appspot.com",messagingSenderId:"366450927885",appId:"1:366450927885:web:caa5f022ef1de182a0e844",measurementId:"G-JC5XZEPYT1"},"pam")):"scott"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLASS_CODE:"test-content"}.REACT_APP_APP_ENV?(console.log("using scott config"),P_=R_({apiKey:"AIzaSyBEhbIdVW2F2vvvfvpNb2SsCDP9Yoc__z8",authDomain:"scottdev-f6528.firebaseapp.com",projectId:"scottdev-f6528",storageBucket:"scottdev-f6528.appspot.com",messagingSenderId:"447730403122",appId:"1:447730403122:web:1727020dbac4ad4cf6f92b"})):(console.log("using production config"),P_=R_({apiKey:"AIzaSyBOgWAbXUGckpad2sk0IUo00hZsV4WxG0E",authDomain:"meddbriefer-68cd4.firebaseapp.com",projectId:"meddbriefer-68cd4",storageBucket:"meddbriefer-68cd4.appspot.com",messagingSenderId:"1087114796018",appId:"1:1087114796018:web:679fbab38dbf78af0ce96b",measurementId:"G-Q7QZKC9KHW"},"production"));var D_=P_,L_=(D_.auth(),D_.firestore()),M_=(n(576),n(8807)),F_="assessment",U_="assessment-option",j_="assessment-with-options",V_="decision",B_="decision-option",q_="intervention",z_="phase",K_="required-action",Q_="sub-phase",W_=Object.freeze({PHASE:z_,SUB_PHASE:Q_,ASSESS:F_,AWO:j_,ASSESS_OPTION:U_,ASSESSO:U_,CL_HEADING:"checklist-heading",CL_PROMPT:"checklist-prompt",DECISION:V_,DECISION_OPTION:B_,DIST_PROMPT:"distinguishing-prompt",NESTED_CHECKLIST:"nested-checklist",REQUIRED:K_,REQURED:K_,INTERV:q_,PROMPT_SET:"prompt-set",PROMPT:"prompt",ANSWER:"answer"}),G_=Object.freeze({ONE:"one",OOM:"one-or-more",NONE:"none"}),H_=(Object.freeze({ONE:"One",OOM:"One or more",NONE:"None"}),Object.freeze({PHASE:"",SUB_PHASE:"",ANSWER:"answer-",ASSESS:"assess-",AWO:"assessment-with-options-",ASSESS_OPTION:"assess-option-",CL_PROMPT:"cl-prompt-",DECISION:"decision-",DECISION_OPTION:"decision-option-",INTERV:"intv-",PROMPT_SET:"prompt-set-",PROMPT:"prompt-",REQUIRED:"required-action-"}),Object.freeze({AW:"airway",BR:"breathing",BL:"bleeding",SH:"shock"})),Y_=(Object.freeze({AW:"Airway",BR:"Breathing",BL:"Bleeding",SH:"Shock"}),Object.freeze({NONE:"",MIN:"minimal",OPT:"optional",REQ:"required",CONTRA:"contraindicated",UNN:"unnecessary",IR:"irrelevant"}),n(1461));function Z_(e,t){if(null==e)return{};var n,r,i=(0,Y_.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var J_,X_,$_,eT=function(e,t){return e.reduce((function(e,n){return Ie(Ie({},e),{},y({},n[t],(e[n[t]]||[]).concat(n)))}),{})},tT=["id","name","version","datePublished","scenarioType","schemaVersion","info","vitalSigns","OPQRST","SAMPLE","assessmentFindings","checkListCorrectness","correctMedicationDosages","problems","solutions","actions","interventionVariantAnswers","checkListMetaData","medications","interventions","interventionPrompts","interventionPromptAnswers","interventionMenuCategories","interventionMenuItems"],nT=["items"],rT=["subPhases","items"],iT=["options"],aT=["items"],oT=["options"],uT=["distPrompts","prompts"],sT=["answers"],cT=function(){function e(t){g(this,e);var n=t.id,r=t.name,i=t.version,a=t.datePublished,o=t.scenarioType,u=t.schemaVersion,s=t.info,c=t.vitalSigns,l=t.OPQRST,f=t.SAMPLE,h=t.assessmentFindings,d=t.checkListCorrectness,p=t.correctMedicationDosages,v=t.problems,m=t.solutions,y=t.actions,k=(t.interventionVariantAnswers,t.checkListMetaData),b=t.medications,w=t.interventions,x=t.interventionPrompts,E=t.interventionPromptAnswers,I=t.interventionMenuCategories,_=t.interventionMenuItems;Z_(t,tT);this.id=n,this.name=r,this.version=i,this.datePublished=a,this.scenarioType=o,this.schemaVersion=u,this.info=s,this.vitalSigns=c,this.OPQRST=l,this.SAMPLE=f,this.assessmentFindings=h,this.checkListCorrectness=d,this.correctMedicationDosages=p,this.problems=v,this.solutions=m,this.actions=y,this.interventionVariantAnswers,this._checkListMetaData=k,this.medications=b,this._interventions=w,this._interventionPrompts=x,this._interventionPromptAnswers=E,this._interventionMenuCategories=I,this._interventionMenuItems=_,this.phaseData=this.genPhaseData(),this.interventionMenus=this.genInterventionMenus(),this.systemInterventions=this.genSystemInterventions()}return b(e,[{key:"genSystemInterventions",value:function(){var e=this._interventions.filter((function(e){return!!e.system})).map((function(e){return{id:e.id,type:W_.INTERV,label:e.label,system:e.system}}));return eT(e,"system")}},{key:"genInterventionMenus",value:function(){var e=this;return this._interventionMenuCategories.map((function(t){var n=t.items,r=Z_(t,nT);return r.items=n.map((function(t){return e._interventionMenuItems.find((function(e){return e.id===t}))})),r}))}},{key:"genPhaseData",value:function(){var e=se(this._checkListMetaData).map((function(e){return delete e.promptID,delete e.relation,delete e.verboseLabel,e})),t=e.filter((function(e){return e.type===W_.PHASE})),n=e.filter((function(e){return e.type===W_.SUB_PHASE})),r=e.filter((function(e){return e.type===W_.DECISION_OPTION})),i=e.filter((function(e){return!t.includes(e)&&!n.includes(e)&&!r.includes(e)}));i.forEach((function(e){void 0===e.subPhase&&(e.subPhase=null)}));var a=eT(n,"phase");t.forEach((function(e){e.id in a&&(e.subPhases=a[e.id].map((function(e){return e.id})))}));var o=eT(r,"parentID");i.forEach((function(e){e.type===W_.DECISION&&(e.options=o[e.id].map((function(e){return e.id})))}));var u={};i.forEach((function(e){var t=e.subPhase?e.subPhase:e.phase;t===e.parentID?u[e.id]=1:u[e.id]=u[e.parentID]+1,e.type===W_.NESTED_CHECKLIST&&(e.type=W_.CL_HEADING),e.parentID=t,e.depth=u[e.id]}));var s=eT(i,"subPhase"),c=se(s.null),l=eT(c,"phase");t.forEach((function(e){e.id in l&&(e.items=l[e.id].map((function(e){return e.id})))})),delete s.null,n.forEach((function(e){var t=s[e.id].map((function(e){return e.id}));e.items=t}));var f=[];return t.forEach((function(e){var t=e.subPhases,a=e.items,o=Z_(e,rT);void 0!==a?(o.items=a.map((function(e){var t=i.find((function(t){return t.id===e})),n=t.options,a=Z_(t,iT);return void 0!==n&&(a.options=n.map((function(e){return r.find((function(t){return t.id===e}))}))),a})),f.push(o)):(o.subPhases=t.map((function(e){var t=n.find((function(t){return t.id===e})),a=t.items,o=Z_(t,aT);return o.items=a.map((function(e){var t=i.find((function(t){return t.id===e})),n=t.options,a=Z_(t,oT);return void 0!==n&&(a.options=n.map((function(e){return r.find((function(t){return t.id===e}))}))),a})),o})),f.push(o))})),f}},{key:"getChecklistItem",value:function(e){return this._checkListMetaData.find((function(t){return t.id===e}))}},{key:"getInterventionForm",value:function(e){return this.getIntervention(e,!0)}},{key:"getIntervention",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._interventions.find((function(t){return t.id===e}));if(!r)return{};var i=r.distPrompts,a=r.prompts,o=Z_(r,uT);return n?(o.distPrompts=i.map((function(e){return t.getPrompt(e,!0)})),o.prompts=a.map((function(e){return t.getPrompt(e,!0)})),o):(o.distPrompts=i,o.prompts=a,o)}},{key:"getPrompt",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._interventionPrompts.find((function(t){return t.id===e}));if(!r)return{};var i=r.answers,a=Z_(r,sT);return a.answers=n?i.map((function(e){return t.getAnswer(e)})):i,a}},{key:"getAnswer",value:function(e){return this._interventionPromptAnswers.find((function(t){return t.id===e}))}}]),e}(),lT=(W_.DIST_PROMPT,G_.ONE,W_.DIST_PROMPT,G_.OOM,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,W_.PROMPT,G_.ONE,J_={depth:3,type:"intervention",id:"menu-item-nasotracheal-intubation",interventionID:"intv-nasotracheal-intubation"},y(J_,"interventionID","intv-nasotracheal-intubation"),y(J_,"interventionID","intv-nasotracheal-intubation"),y(J_,"intvCategoryID","intv-cat-airway"),X_={depth:4,type:"intervention",id:"menu-item-rapid-sequence-intubation",interventionID:"intv-rapid-sequence-intubation"},y(X_,"interventionID","intv-rapid-sequence-intubation"),y(X_,"interventionID","intv-rapid-sequence-intubation"),y(X_,"intvCategoryID","intv-cat-airway"),function(){var e=le(oe().mark((function e(t,n){var r;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fT(t,n);case 2:return r=e.sent,e.abrupt("return",new cT(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),fT=function(e,t){return e.collection("published-scenarios").doc(t).get().then((function(e){return e.data()}))},hT=n(8675),dT=function(e){return new Date(1e3*e).toISOString().substr(14,5)},pT={AMBIGUOUS:{true:!0,false:!1},INFIX_OPS:{"&&":function(e,t){return e()&&t()},"||":function(e,t){return e()||t()}},PREFIX_OPS:{"!":function(e){return!e()}},PRECEDENCE:[["!"],["&&"],["||"]],GROUP_OPEN:"(",GROUP_CLOSE:")",SEPARATOR:" ",SYMBOLS:["(",")","!","&&","||"],termDelegate:function(e){if("true"===e)return!0;if("false"===e)return!1;throw new Error("invalid term ".concat(e))}},vT=new hT.d2(pT),mT=t.createContext(),yT=function(e){return{id:"scenario",duration:60*e.info.maxTime,action:{type:"timeExpired"},payload:"time expired",timeRemaining:60*e.info.maxTime,expired:!1}},gT=function(e){var n=e.scenario,r=e.defaultValues,i=e.children,a=(0,t.useContext)(o.AuthContext),u=a.currentUser,s=(a.getUserData,a.isAuthenticated,a.saveUserData,f((0,t.useState)(null),2)),c=s[0],l=s[1],d=f((0,t.useState)(r.checkListItems),2),p=d[0],v=d[1],m=(0,t.useState)(function(e){var t={};return Object.entries(e.vitalSigns).forEach((function(e){var n=f(e,2),r=n[0],i=n[1];t[r]=i.initial})),t}(n)),g=f(m,2),k=g[0],b=g[1],x=f((0,t.useState)(r.vitalsRecomputed),2),E=x[0],I=x[1],_=f((0,t.useState)(null),2),T=_[0],S=_[1],A=f((0,t.useState)(null),2),N=A[0],C=A[1],O=f((0,t.useState)(""),2),P=O[0],R=O[1],D=f((0,t.useState)(null),2),L=D[0],M=D[1],F=f((0,t.useState)(!0),2),U=F[0],j=F[1],V=f((0,t.useState)(!1),2),B=V[0],q=V[1],z=f((0,t.useState)(!1),2),K=z[0],Q=z[1],W=f((0,t.useState)(!1),2),G=W[0],H=W[1],Y=f((0,t.useState)([]),2),Z=Y[0],J=Y[1],X=f((0,t.useState)("vitals"),2),$=X[0],ee=X[1],te=f((0,t.useState)("airway"),2),ne=te[0],re=te[1],ie=f((0,t.useState)([]),2),ae=ie[0],oe=ie[1],ue=f((0,t.useState)(!1),2),ce=ue[0],le=ue[1],fe=f((0,t.useState)(!1),2),he=fe[0],de=fe[1],pe=f((0,t.useState)(0),2),ve=pe[0],me=pe[1],ye=f((0,t.useState)([yT(n)]),2),ge=ye[0],ke=ye[1],be=f((0,t.useState)(null),2),we=be[0],xe=be[1],Ee=f((0,t.useState)([]),2),_e=Ee[0],Te=Ee[1],Se=f((0,t.useState)({}),2),Ae=Se[0],Ne=Se[1],Ce=function(){return ve};(0,t.useEffect)((function(){var e=setInterval((function(){return Oe()}),1e3);return function(){clearInterval(e)}})),(0,t.useEffect)((function(){if(0!==Object.keys(_e).length){var e=_e[0].type,t=_e[0].payload;(0,Pe[e])(t)}}),[_e]),(0,t.useEffect)((function(){console.log(p)}),[p]),(0,t.useEffect)((function(){console.log(Z)}),[Z]);var Oe=function(){if(ce&&!he){me(ve+1);var e=ge.map((function(e){var t=Object.assign(e);if(!e.expired){if(1===e.timeRemaining&&(t.expired=!0,null!=t.action)){var n=_e.slice();n.push(t.action),Te(n)}t.timeRemaining--}return t}));ke(e)}},Pe={timeExpired:function(e){console.log("time expired")},bar:function(){console.log("bar")}},Re=function(e,t){Ne((function(n){return Ie(Ie({},n),{},y({},e,t))}))},De=function(e){return Ae[e]},Le=function(e){return!!p[e]},Me=function(e,t){var n=!!t&&Ce();v((function(t){return Ie(Ie({},t),{},y({},e,n))}))},Fe=function(e){var t=e.some((function(e){return Le(e)}));return t},Ue=function(e){var t=e.every((function(e){return Le(e)}));return t},je=function(e){return ae.filter((function(t){return t.interventionID===e}))};return(0,h.jsx)(mT.Provider,{value:{scenario:n,checkListItems:p,isChecked:Le,setChecked:Me,someChecked:Fe,allChecked:Ue,toggleChecklistItem:function(e){if(Le(e.id))console.log("logging checkListItem:",e.id,!1),Me(e.id,!1);else{var t=Object.assign({},e,{timestamp:Ce(),phase:T,subPhase:N});console.log("logging checkListItem",e.id,t),v((function(n){return Ie(Ie({},n),{},y({},e.id,t))}))}},toggleAssessmentItem:function(e){if(Le(e.id))console.log("logging assessmentItem:",e.id,!1),Me(e.id,!1);else{var t=Object.assign({},e,{timestamp:Ce(),phase:T,subPhase:N,finding:n.assessmentFindings[e.id]});console.log("logging assessmentItem",e.id,t),v((function(n){return Ie(Ie({},n),{},y({},e.id,t))}))}},toggleIntvAnswer:function(e){if(Le(e.id))console.log("logging intvAnswer",e.id,!1),Me(e.id,!1);else{var t=Object.assign({},e,{timestamp:Ce(),intervention:L,interventionCategory:P,phase:T,subPhase:N});console.log("logging intvAnswer:",e.id,t),v((function(n){return Ie(Ie({},n),{},y({},e.id,t))}))}},isCurrentAssessmentFinding:function(e){return!!c&&c===e},setCurrentAssessmentFinding:l,currIntv:L,setCurrIntv:M,currentVitals:k,setVital:function(e,t){b((function(n){return Ie(Ie({},n),{},y({},e,t))}))},vitalsRecomputed:E,setVitalsRecomputed:I,started:ce,setStarted:le,paused:he,setPaused:de,getTimestamp:Ce,timers:ge,timerError:we,actionsQueue:_e,registerTimer:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i=null!==(n=i)&&void 0!==n?n:t;var o=ge.find((function(t){return t.id===e}));if(o)xe('ERROR: timer: "'.concat(e,'" already registered'));else{var u=ge.slice();u.push({id:e,duration:t,action:r,timeRemaining:i,expired:a}),ke(u)}},cancelTimer:function(e){if(ge.find((function(t){return t.id===e}))){var t=ge.filter((function(t){return t.id!=e}));ke(t)}else xe('ERROR: timer: "'.concat(e,'" not found'))},clearTimerError:function(){return xe(null)},setTimerError:xe,setCollapsedValue:Re,toggleCollapsed:function(e){Re(e,!De(e))},getCollapsed:De,showScenarioComplete:B,setShowScenarioComplete:q,saveScenarioToLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=L_.collection("logs").doc(),r={userName:u.email,scenarioID:n.id,scenarioName:n.name,schemaVersion:n.schemaVersion,label:e,timestamp:Date().toLocaleString()},i=Object.values(p).filter((function(e){return!!e&&"Object"===e.constructor.name}));i.forEach((function(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var a=f(r[n],2),o=a[0];void 0===a[1]&&(i[t][o]=null)}}));var a=i.concat(Z).concat(ae);a.sort((function(e,t){return e.timestamp-t.timestamp})),r.events=a,r.checkListItems=i,r.patientStatusRequests=Z,r.interventionHistory=ae,t.set(r)},buildDepListFromCheckListItemIDs:function(e){return e.map((function(e){return Le(e)}))},getCheckListIDValues:function(e){return e.map((function(e){return Le(e)}))},setDerivedCheckListItemValue:function(e,t,n){var r=Le(e),i="all"===t?Ue(n):Fe(n);r!=i&&(console.log("setDerivedCheckListItemValue(".concat(e,', "').concat(t,'", [').concat(n,"]): ").concat(i)),Me(e,i))},evalIDExpression:function(e){var t,n=w((e=e.replace(/AND/g," && ").replace(/OR/g," || ").replace(/NOT\s*/g," !")).matchAll(/[a-z][-a-z0-9]*/g));try{for(n.s();!(t=n.n()).done;){var r=t.value;e=Le(r)?e.replace(r,"true"):e.replace(r,"false")}}catch(i){n.e(i)}finally{n.f()}return vT.expressionToValue(e)},extractIDsFromExpression:function(e){var t=(e=e.replace(/AND/g," ").replace(/OR/g," ").replace(/NOT\s*/g," ").replace(/\(/g," ").replace(/\)/g," ")).matchAll(/[a-z][-a-z0-9]*/g);return Array.from(t,(function(e){return e[0]}))},showFindings:K,displayFindings:function(e){e.preventDefault(),Q(!0)},dismissFindings:function(e){e.preventDefault(),Q(!1)},currIntvCat:P,setCurrIntvCat:R,currPhase:T,setCurrPhase:S,currSubPhase:N,setCurrSubPhase:C,intvsPerformedCollapsed:U,toggleIntvsPerformedCollapsed:function(){j(!U)},showIntvSelection:G,setShowIntvSelection:H,patientStatusRequests:Z,logPatientStatusRequest:function(e,t,n){var r={id:"request-".concat(e,"-").concat(t),type:"obtain-vital-sign",vitalType:e,vital:t,value:n,timestamp:Ce(),phase:T,subPhase:N};J((function(e){return[].concat(se(e),[r])}))},patientStatusTab:$,setPatientStatusTab:ee,systemsTab:ne,setSystemsTab:re,logIntv:function(e){oe((function(t){return se(t).concat(e)}))},getIntvHistory:je,getIntvVariantHistory:function(e,t){return je(e).filter((function(e){return e.intvVariant===t}))}},children:i})},kT=function(){return(0,t.useContext)(mT)},bT=n(7896),wT=n(4974),xT=n.n(wT),ET=n(5667),IT=n.n(ET);function _T(e){document.body.style.paddingRight=e>0?e+"px":null}function TT(){var e=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;document.body.clientWidth<window.innerWidth&&_T(n+e)}function ST(e,t){return void 0===e&&(e=""),void 0===t&&(t=$_),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}function AT(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function NT(e,t){for(var n,r=Array.isArray(t)?t:[t],i=r.length,a={};i>0;)a[n=r[i-=1]]=e[n];return a}var CT="object"===typeof window&&window.Element||function(){};var OT=xT().oneOfType([xT().string,xT().func,function(e,t,n){if(!(e[t]instanceof CT))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},xT().shape({current:xT().any})]),PT=xT().oneOfType([xT().func,xT().string,xT().shape({$$typeof:xT().symbol,render:xT().func}),xT().arrayOf(xT().oneOfType([xT().func,xT().string,xT().shape({$$typeof:xT().symbol,render:xT().func})]))]),RT=150,DT=350,LT=300,MT=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],FT="entering",UT="entered",jT="exiting",VT="exited",BT={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},qT=!("undefined"===typeof window||!window.document||!window.document.createElement);function zT(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function KT(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}function QT(e){if(function(e){return!(!e||"object"!==typeof e)&&"current"in e}(e))return e.current;if(function(e){if(!KT(e))return!1;var t=zT(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}(e))return e();if("string"===typeof e&&qT){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function WT(e){return null!==e&&(Array.isArray(e)||qT&&"number"===typeof e.length)}function GT(e,t){var n=QT(e);return t?WT(n)?n:null===n?[]:[n]:WT(n)?n[0]:n}var HT=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],YT=["className","cssModule","fluid","tag"],ZT={tag:PT,fluid:xT().oneOfType([xT().bool,xT().string]),className:xT().string,cssModule:xT().object},JT=function(e){var n=e.className,r=e.cssModule,i=e.fluid,a=e.tag,o=(0,Y_.Z)(e,YT),u="container";!0===i?u="container-fluid":i&&(u="container-"+i);var s=ST(IT()(n,u),r);return t.createElement(a,(0,bT.Z)({},o,{className:s}))};JT.propTypes=ZT,JT.defaultProps={tag:"div"};var XT=JT,$T=["className","cssModule","noGutters","tag","form","widths"],eS=xT().oneOfType([xT().number,xT().string]),tS={tag:PT,noGutters:xT().bool,className:xT().string,cssModule:xT().object,form:xT().bool,xs:eS,sm:eS,md:eS,lg:eS,xl:eS},nS={tag:"div",widths:["xs","sm","md","lg","xl"]},rS=function(e){var n=e.className,r=e.cssModule,i=e.noGutters,a=e.tag,o=e.form,u=e.widths,s=(0,Y_.Z)(e,$T),c=[];u.forEach((function(t,n){var r=e[t];if(delete s[t],r){var i=!n;c.push(i?"row-cols-"+r:"row-cols-"+t+"-"+r)}}));var l=ST(IT()(n,i?"no-gutters":null,o?"form-row":"row",c),r);return t.createElement(a,(0,bT.Z)({},s,{className:l}))};rS.propTypes=tS,rS.defaultProps=nS;var iS=rS,aS=["className","cssModule","widths","tag"],oS=xT().oneOfType([xT().number,xT().string]),uS=xT().oneOfType([xT().bool,xT().number,xT().string,xT().shape({size:xT().oneOfType([xT().bool,xT().number,xT().string]),order:oS,offset:oS})]),sS={tag:PT,xs:uS,sm:uS,md:uS,lg:uS,xl:uS,className:xT().string,cssModule:xT().object,widths:xT().array},cS={tag:"div",widths:["xs","sm","md","lg","xl"]},lS=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},fS=function(e){var n=e.className,r=e.cssModule,i=e.widths,a=e.tag,o=(0,Y_.Z)(e,aS),u=[];i.forEach((function(t,n){var i=e[t];if(delete o[t],i||""===i){var a=!n;if(KT(i)){var s,c=a?"-":"-"+t+"-",l=lS(a,t,i.size);u.push(ST(IT()(((s={})[l]=i.size||""===i.size,s["order"+c+i.order]=i.order||0===i.order,s["offset"+c+i.offset]=i.offset||0===i.offset,s)),r))}else{var f=lS(a,t,i);u.push(f)}}})),u.length||u.push("col");var s=ST(IT()(n,u),r);return t.createElement(a,(0,bT.Z)({},o,{className:s}))};fS.propTypes=sS,fS.defaultProps=cS;var hS,dS=fS,pS=function(e){var t=e.top,n=e.bottom;return(0,h.jsxs)(XT,{fluid:!0,className:"phase-container",children:[(0,h.jsx)(iS,{className:"checklist-row",children:(0,h.jsx)(dS,{md:"12",className:"phase-col",children:t})}),(0,h.jsx)(iS,{className:"patient-status-row",children:(0,h.jsx)(dS,{md:"12",className:"patient-status-col",children:n})})]})},vS=n(1665),mS=n(7538),yS=["tag","isOpen","className","navbar","cssModule","children","innerRef"];function gS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gS(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bS=kS(kS({},mS.Transition.propTypes),{},{isOpen:xT().bool,children:xT().oneOfType([xT().arrayOf(xT().node),xT().node]),tag:PT,className:xT().node,navbar:xT().bool,cssModule:xT().object,innerRef:xT().oneOfType([xT().func,xT().string,xT().object])}),wS=kS(kS({},mS.Transition.defaultProps),{},{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:DT}),xS=((hS={})[FT]="collapsing",hS[UT]="collapse show",hS[jT]="collapsing",hS[VT]="collapse",hS);function ES(e){return e.scrollHeight}var IS=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){n[e]=n[e].bind(x(n))})),n}(0,vS.Z)(n,e);var r=n.prototype;return r.onEntering=function(e,t){this.setState({height:ES(e)}),this.props.onEntering(e,t)},r.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},r.onExit=function(e){this.setState({height:ES(e)}),this.props.onExit(e)},r.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},r.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},r.render=function(){var e=this,n=this.props,r=n.tag,i=n.isOpen,a=n.className,o=n.navbar,u=n.cssModule,s=n.children,c=(n.innerRef,(0,Y_.Z)(n,yS)),l=this.state.height,f=NT(c,MT),h=AT(c,MT);return t.createElement(mS.Transition,(0,bT.Z)({},f,{in:i,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(n){var i=function(e){return xS[e]||"collapse"}(n),c=ST(IT()(a,i,o&&"navbar-collapse"),u),f=null===l?null:{height:l};return t.createElement(r,(0,bT.Z)({},h,{style:kS(kS({},h.style),f),className:c,ref:e.props.innerRef}),s)}))},n}(t.Component);IS.propTypes=bS,IS.defaultProps=wS;var _S=IS,TS=function(e){var t=e.checked,n=void 0!==t&&t;return(0,h.jsx)("span",{className:"checkbox-icon material-icons-outlined",children:n?"check_box":"check_box_outline_blank"})},SS=function(e){var t,n=e.step,r=e.clickHandler,i=e.inlineChildren,a=void 0===i?[]:i,o=kT().isChecked;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("label",{onClick:function(){return r(n.id)},style:{fontSize:"0.75em",marginBottom:"0"},children:[(0,h.jsx)(TS,{checked:o(n.id)}),(t=n,t.abbrLabel?t.abbrLabel:t.label),a]}),!!e.children&&e.children]})},AS=function(e){var n=e.assessment,r=(0,t.useContext)(mT),i=r.scenario,a=r.isCurrentAssessmentFinding;return(0,h.jsx)("span",{className:IT()("callout",{currentCallOut:a(n.id)}),children:i.assessmentFindings[n.id]})},NS=function(e){var n=e.assessment;return(0,(0,t.useContext)(mT).isChecked)(n.id)?(0,h.jsx)("span",{className:"callout-icon material-icons-outlined",style:{color:"grey"},children:"message"}):(0,h.jsx)("span",{className:"callout-icon material-icons-outlined",children:"message"})},CS=function(e){return"abbrLabel"in e&&""!==e.abbrLabel?e.abbrLabel:e.label},OS=function(e){var t=e.step,n=kT(),r=n.isChecked,i=n.setChecked,a=n.toggleChecklistItem,o=n.toggleAssessmentItem,u=n.setCurrentAssessmentFinding,s=function(e,t){var n=t.options.map((function(e){return e.id})).filter((function(t){return t!==e}));n.forEach((function(e){return i(e,!1)}))},c=void 0===t.depth?0:t.depth-1;switch(t.type){case W_.CL_HEADING:return(0,h.jsx)("span",{className:"depth-".concat(c),style:{fontSize:"0.75em"},children:CS(t)});case W_.ASSESS:return(0,h.jsxs)("span",{className:"depth-".concat(c),children:[(0,h.jsx)(SS,{step:t,clickHandler:function(){return o(e=t),void u(e.id);var e},inlineChildren:(0,h.jsx)(NS,{assessment:t})}),r(t.id)&&(0,h.jsx)(AS,{assessment:t})]});case W_.AWO:return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("i",{className:"depth-".concat(c),children:CS(t)})," ",(0,h.jsx)(NS,{assessment:t}),(0,h.jsx)("br",{}),"\xa0 \xa0",t.items.map((function(e){return(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:t.id,checked:r(e.id),value:e.id,onChange:function(n){return function(e,t,n){var r=n.id;s(r,t),o(n),u(r)}(0,t,e)}}),"\xa0 ",CS(e)," \xa0"]},e.id)})),(0,h.jsx)("br",{}),t.items.map((function(e){return r(e.id)&&(0,h.jsx)(AS,{assessment:e},e.id)}))]});case W_.DECISION:return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("i",{className:"depth-".concat(c),style:{fontSize:"0.75ema"},children:CS(t)}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:"depth-".concat(c+1),children:t.options.map((function(e){return(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:t.id,checked:r(e.id),value:e.id,onChange:function(n){return function(e,t,n){var r=n.id;s(r,t),a(n)}(0,t,e)}}),"\xa0 ",CS(e)," \xa0"]},e.id)}))})]});case W_.CL_PROMPT:return(0,h.jsx)("i",{className:"depth-".concat(c),children:CS(t)});default:return(0,h.jsx)("span",{className:"depth-".concat(c),children:(0,h.jsx)(SS,{step:t,clickHandler:function(){return a(t)}})})}},PS=function(e){var t=e.expand,n=void 0!==t&&t;return(0,h.jsx)("span",{className:"chevron-icon material-icons-outlined",children:n?"arrow_drop_down  ":"arrow_right"})},RS=function(e){return"heading"===e.type};function DS(e){var n=e.steps,r=e.depth,i=void 0===r?4:r,a=e.first,o=void 0!==a&&a,u=(0,t.useContext)(mT),s=u.toggleCollapsed,c=u.getCollapsed;return(0,h.jsx)("ul",{className:IT()({first:o}),children:n.map((function(e){return(0,h.jsx)("li",{children:RS(e)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{style:{cursor:"pointer"},className:"h".concat(i),onClick:function(){return s(e.id)},children:[e.label,(0,h.jsx)(PS,{expand:c(e.id)})]}),(0,h.jsx)(_S,{isOpen:c(e.id),children:(0,h.jsx)(DS,{steps:e.children,depth:i+1})})]}):(0,h.jsx)(OS,{step:e})},"li-".concat(e.id))}))})}var LS=["className","cssModule","color","body","inverse","outline","tag","innerRef"],MS={tag:PT,inverse:xT().bool,color:xT().string,body:xT().bool,outline:xT().bool,className:xT().string,cssModule:xT().object,innerRef:xT().oneOfType([xT().object,xT().string,xT().func])},FS=function(e){var n=e.className,r=e.cssModule,i=e.color,a=e.body,o=e.inverse,u=e.outline,s=e.tag,c=e.innerRef,l=(0,Y_.Z)(e,LS),f=ST(IT()(n,"card",!!o&&"text-white",!!a&&"card-body",!!i&&(u?"border":"bg")+"-"+i),r);return t.createElement(s,(0,bT.Z)({},l,{className:f,ref:c}))};FS.propTypes=MS,FS.defaultProps={tag:"div"};var US=FS,jS=["className","cssModule","tag"],VS={tag:PT,className:xT().string,cssModule:xT().object},BS=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=(0,Y_.Z)(e,jS),o=ST(IT()(n,"card-header"),r);return t.createElement(i,(0,bT.Z)({},a,{className:o}))};BS.propTypes=VS,BS.defaultProps={tag:"div"};var qS=BS,zS=["className","cssModule","tag"],KS={tag:PT,className:xT().string,cssModule:xT().object},QS=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=(0,Y_.Z)(e,zS),o=ST(IT()(n,"card-title"),r);return t.createElement(i,(0,bT.Z)({},a,{className:o}))};QS.propTypes=KS,QS.defaultProps={tag:"div"};var WS=QS,GS=["className","cssModule","innerRef","tag"],HS={tag:PT,className:xT().string,cssModule:xT().object,innerRef:xT().oneOfType([xT().object,xT().string,xT().func])},YS=function(e){var n=e.className,r=e.cssModule,i=e.innerRef,a=e.tag,o=(0,Y_.Z)(e,GS),u=ST(IT()(n,"card-body"),r);return t.createElement(a,(0,bT.Z)({},o,{className:u,ref:i}))};YS.propTypes=HS,YS.defaultProps={tag:"div"};var ZS=YS,JS=function(e){var n,r=e.title,i=e.centerTitle,a=void 0!==i&&i,o=e.titleSize,u=void 0===o?"h5":o,s=e.collapsable,c=void 0!==s&&s,l=e.initialCollapseState,d=void 0!==l&&l,p=e.customCollapsedState,v=e.customCollapseToggler,m=(e.scrollBody,e.minHeight),y=void 0===m?null:m,g=e.maxHeight,k=void 0===g?null:g,b=e.children,w=f((0,t.useState)(d),2),x=w[0],E=w[1],I=function(){return E(!x)},_=function(){},T=function(){var e=x;return void 0!==p&&(e=p),e};return(0,h.jsxs)(US,{style:{minHeight:y||"fit-content",height:"fit-content",maxHeight:k||"fit-content"},children:[(0,h.jsx)(qS,{style:{textAlign:a?"center":"left",backgroundColor:"white",border:0,padding:0,paddingLeft:"5px",borderBottom:"0"},onClick:c?void 0!==v?function(){return v()}:I:_,children:(0,h.jsxs)(WS,{className:u,style:{fontSize:"15.8px",fontWeight:"bold",marginBottom:"2px"},children:[r," ",c&&(0,h.jsx)(PS,{expand:!T()})]})}),(n=(0,h.jsx)(ZS,{style:{height:c?"100%":"calc(100% - 31px)",paddingLeft:0,paddingRight:0},children:b}),c?(0,h.jsx)(_S,{isOpen:!T(),style:{height:"fit-content",maxHeight:"calc(100% - 31px)",width:"100%",overflowY:"scroll"},children:n}):n)]})},XS=function(e){var n=e.section,r=f((0,t.useState)(null),2),i=r[0],a=r[1],o=kT().scenario;return(0,t.useEffect)((function(){if(W_.PHASE===n.type)a("".concat(n.label," checklist"));else if(W_.SUB_PHASE===n.type){var e=o.getChecklistItem(n.phase).label;a("".concat(e,"/").concat(n.label," checklist"))}}),[n]),i?(0,h.jsx)(JS,{title:i,collapsable:!0,scrollBody:!0,minHeight:"250px",maxHeight:"590px",children:n.items&&n.items.length>0?(0,h.jsx)(DS,{steps:n.items,first:!0}):(0,h.jsxs)("h6",{children:[" The ",(0,h.jsx)("b",{children:n.label})," section does not have its own checklist items. Select one of its sub-sections on the left."]})}):(0,h.jsx)("div",{children:"Loading..."})},$S=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"],eA={tabs:xT().bool,pills:xT().bool,vertical:xT().oneOfType([xT().bool,xT().string]),horizontal:xT().string,justified:xT().bool,fill:xT().bool,navbar:xT().bool,card:xT().bool,tag:PT,className:xT().string,cssModule:xT().object},tA=function(e){var n=e.className,r=e.cssModule,i=e.tabs,a=e.pills,o=e.vertical,u=e.horizontal,s=e.justified,c=e.fill,l=e.navbar,f=e.card,h=e.tag,d=(0,Y_.Z)(e,$S),p=ST(IT()(n,l?"navbar-nav":"nav",!!u&&"justify-content-"+u,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(o),{"nav-tabs":i,"card-header-tabs":f&&i,"nav-pills":a,"card-header-pills":f&&a,"nav-justified":s,"nav-fill":c}),r);return t.createElement(h,(0,bT.Z)({},d,{className:p}))};tA.propTypes=eA,tA.defaultProps={tag:"ul",vertical:!1};var nA=tA,rA=["className","cssModule","active","tag"],iA={tag:PT,active:xT().bool,className:xT().string,cssModule:xT().object},aA=function(e){var n=e.className,r=e.cssModule,i=e.active,a=e.tag,o=(0,Y_.Z)(e,rA),u=ST(IT()(n,"nav-item",!!i&&"active"),r);return t.createElement(a,(0,bT.Z)({},o,{className:u}))};aA.propTypes=iA,aA.defaultProps={tag:"li"};var oA=aA,uA=["className","cssModule","active","tag","innerRef"],sA={tag:PT,innerRef:xT().oneOfType([xT().object,xT().func,xT().string]),disabled:xT().bool,active:xT().bool,className:xT().string,cssModule:xT().object,onClick:xT().func,href:xT().any},cA=function(e){function n(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(x(n)),n}(0,vS.Z)(n,e);var r=n.prototype;return r.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},r.render=function(){var e=this.props,n=e.className,r=e.cssModule,i=e.active,a=e.tag,o=e.innerRef,u=(0,Y_.Z)(e,uA),s=ST(IT()(n,"nav-link",{disabled:u.disabled,active:i}),r);return t.createElement(a,(0,bT.Z)({},u,{ref:o,onClick:this.onClick,className:s}))},n}(t.Component);cA.propTypes=sA,cA.defaultProps={tag:"a"};var lA=cA,fA=t.createContext({}),hA={tag:PT,activeTab:xT().any,className:xT().string,cssModule:xT().object},dA=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={activeTab:n.props.activeTab},n}return(0,vS.Z)(n,e),n.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},n.prototype.render=function(){var e=this.props,n=e.className,r=e.cssModule,i=e.tag,a=AT(this.props,Object.keys(hA)),o=ST(IT()("tab-content",n),r);return t.createElement(fA.Provider,{value:{activeTabId:this.state.activeTab}},t.createElement(i,(0,bT.Z)({},a,{className:o})))},n}(t.Component),pA=dA;dA.propTypes=hA,dA.defaultProps={tag:"div"};var vA=["className","cssModule","tabId","tag"],mA={tag:PT,className:xT().string,cssModule:xT().object,tabId:xT().any};function yA(e){var n=e.className,r=e.cssModule,i=e.tabId,a=e.tag,o=(0,Y_.Z)(e,vA),u=function(e){return ST(IT()("tab-pane",n,{active:i===e}),r)};return t.createElement(fA.Consumer,null,(function(e){var n=e.activeTabId;return t.createElement(a,(0,bT.Z)({},o,{className:u(n)}))}))}yA.propTypes=mA,yA.defaultProps={tag:"div"};var gA=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"],kA={active:xT().bool,"aria-label":xT().string,block:xT().bool,color:xT().string,disabled:xT().bool,outline:xT().bool,tag:PT,innerRef:xT().oneOfType([xT().object,xT().func,xT().string]),onClick:xT().func,size:xT().string,children:xT().node,className:xT().string,cssModule:xT().object,close:xT().bool},bA=function(e){function n(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(x(n)),n}(0,vS.Z)(n,e);var r=n.prototype;return r.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},r.render=function(){var e=this.props,n=e.active,r=e["aria-label"],i=e.block,a=e.className,o=e.close,u=e.cssModule,s=e.color,c=e.outline,l=e.size,f=e.tag,h=e.innerRef,d=(0,Y_.Z)(e,gA);o&&"undefined"===typeof d.children&&(d.children=t.createElement("span",{"aria-hidden":!0},"\xd7"));var p="btn"+(c?"-outline":"")+"-"+s,v=ST(IT()(a,{close:o},o||"btn",o||p,!!l&&"btn-"+l,!!i&&"btn-block",{active:n,disabled:this.props.disabled}),u);d.href&&"button"===f&&(f="a");var m=o?"Close":null;return t.createElement(f,(0,bT.Z)({type:"button"===f&&d.onClick?"button":void 0},d,{className:v,ref:h,onClick:this.onClick,"aria-label":r||m}))},n}(t.Component);bA.propTypes=kA,bA.defaultProps={color:"secondary",tag:"button"};var wA=bA,xA=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"],EA={className:xT().string,cssModule:xT().object,size:xT().string,bordered:xT().bool,borderless:xT().bool,striped:xT().bool,dark:xT().bool,hover:xT().bool,responsive:xT().oneOfType([xT().bool,xT().string]),tag:PT,responsiveTag:PT,innerRef:xT().oneOfType([xT().func,xT().string,xT().object])},IA=function(e){var n=e.className,r=e.cssModule,i=e.size,a=e.bordered,o=e.borderless,u=e.striped,s=e.dark,c=e.hover,l=e.responsive,f=e.tag,h=e.responsiveTag,d=e.innerRef,p=(0,Y_.Z)(e,xA),v=ST(IT()(n,"table",!!i&&"table-"+i,!!a&&"table-bordered",!!o&&"table-borderless",!!u&&"table-striped",!!s&&"table-dark",!!c&&"table-hover"),r),m=t.createElement(f,(0,bT.Z)({},p,{ref:d,className:v}));if(l){var y=ST(!0===l?"table-responsive":"table-responsive-"+l,r);return t.createElement(h,{className:y},m)}return m};IA.propTypes=EA,IA.defaultProps={tag:"table",responsiveTag:"div"};var _A=IA,TA=function(e){e.id,e.label;var t=e.intvsPerformed,n=void 0===t?[]:t,r=kT(),i=(r.checkListItems,r.logPatientStatusRequest);return(0,h.jsx)("tbody",{children:n.map((function(e){return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.label}),(0,h.jsx)("td",{children:"unknown status"}),(0,h.jsx)("td",{children:(0,h.jsx)(wA,{color:"success",size:"sm",className:"request-btn",onClick:function(){return t=e.id,void i("intervention-status",t,"unknown");var t},children:"Requested"})})]},"intv-performed-".concat(e.label))}))})},SA=function(e){var t=e.id,n=e.label,r=e.intvs;return(0,h.jsxs)(_A,{size:"sm",striped:!0,bordered:!1,children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Intervention"}),(0,h.jsxs)("th",{children:[n," Status"]}),(0,h.jsx)("th",{})]})}),r.length>0&&(0,h.jsx)(TA,{id:t,label:n,intvsPerformed:r})]})},AA=function(){var e=kT(),n=(e.scenario,e.checkListItems),r=e.systemsTab,i=e.setSystemsTab,a=f((0,t.useState)([]),2),o=a[0],u=a[1],s=function(e){return e===r},c=function(e){r!==e&&i(e)};return(0,t.useEffect)((function(){var e=function(){var e=Object.values(n).filter((function(e){return!!e})).filter((function(e){return e.type===W_.INTERV})).filter((function(e){return!!e.system}));return e.sort((function(e,t){return e.timestamp-t.timestamp})),e}();e!==o&&u(e)}),[n]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(nA,{tabs:!0,children:[(0,h.jsx)(oA,{children:(0,h.jsx)(lA,{className:IT()({active:s(H_.AW)}),onClick:function(){return c(H_.AW)},children:"Airway"})}),(0,h.jsx)(oA,{children:(0,h.jsx)(lA,{className:IT()({active:s(H_.BR)}),onClick:function(){return c(H_.BR)},children:"Breathing"})}),(0,h.jsx)(oA,{children:(0,h.jsx)(lA,{className:IT()({active:s(H_.BL)}),onClick:function(){return c(H_.BL)},children:"Bleeding"})}),(0,h.jsx)(oA,{children:(0,h.jsx)(lA,{className:IT()({active:s(H_.SH)}),onClick:function(){return c(H_.SH)},children:"Shock"})})]}),(0,h.jsxs)(pA,{activeTab:r,children:[(0,h.jsx)(yA,{tabId:H_.AW,children:(0,h.jsx)(SA,{id:H_.AW,label:"Airway",intvs:o.filter((function(e){return e.system===H_.AW}))})}),(0,h.jsx)(yA,{tabId:H_.BR,children:(0,h.jsx)(SA,{id:H_.BR,label:"Breathing",intvs:o.filter((function(e){return e.system===H_.BR}))})}),(0,h.jsx)(yA,{tabId:H_.BL,children:(0,h.jsx)(SA,{id:H_.BL,label:"Bleeding",intvs:o.filter((function(e){return e.system===H_.BL}))})}),(0,h.jsx)(yA,{tabId:H_.SH,children:(0,h.jsx)(SA,{id:H_.SH,label:"Shock",intvs:o.filter((function(e){return e.system===H_.SH}))})})]})]})};function NA(e){var t=e.label,n=e.category,r=e.value,i=kT().logPatientStatusRequest;return(0,h.jsxs)("tr",{children:[(0,h.jsxs)("th",{children:[t," "]}),(0,h.jsx)("td",{children:r}),(0,h.jsx)("td",{children:(0,h.jsx)(wA,{color:"success",size:"sm",className:"request-btn",onClick:function(){return function(e){i(n,t,e)}(r)},children:"Requested"})})]})}function CA(e){e.title;var t=e.category,n=e.headings,r=void 0===n?[]:n,i=e.rows,a=void 0===i?[]:i;return(0,h.jsxs)(_A,{striped:!0,size:"sm",children:[(0,h.jsx)("thead",{children:(0,h.jsx)("tr",{children:r.map((function(e,t){return(0,h.jsx)("th",{children:e},t)}))})}),(0,h.jsx)("tbody",{children:a.map((function(e,n){return(0,h.jsx)(NA,{category:t,label:e.label,value:e.value},n)}))})]})}var OA=function(){var e=kT().scenario,t=Object.entries(e.OPQRST).map((function(e){return{label:e[0],value:[e[1]]}}));return(0,h.jsx)(CA,{title:"OPQRST",category:"opqrst",headings:["Type","Value"],rows:t})},PA=function(){var e=kT().scenario,t=Object.entries(e.SAMPLE).map((function(e){return{label:e[0],value:[e[1]]}}));return(0,h.jsx)(CA,{title:"SAMPLE",category:"sample",headings:["Type","Value"],rows:t})},RA=function(){var e=kT().currentVitals,n=function(){return Object.entries(e).map((function(e){var t=f(e,2);return{label:t[0],value:t[1]}}))},r=f((0,t.useState)(n()),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){var e=n();e!==i&&a(e)}),[e]),(0,h.jsx)(CA,{title:"Vitals",category:"vitals",headings:["Vital","Current Value"],rows:i})},DA=function(){var e=kT(),t=e.patientStatusTab,n=e.setPatientStatusTab,r=function(e){t!==e&&n(e)},i=function(e){return e===t};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(nA,{tabs:!0,children:[(0,h.jsx)(oA,{children:(0,h.jsx)(lA,{className:IT()({active:i("interventionsStatus")}),onClick:function(){return r("interventionsStatus")},children:"Interventions Status"})}),(0,h.jsx)(oA,{children:(0,h.jsx)(lA,{className:IT()({active:i("vitals")}),onClick:function(){return r("vitals")},children:"Vitals"})}),(0,h.jsx)(oA,{children:(0,h.jsx)(lA,{className:IT()({active:i("sample")}),onClick:function(){return r("sample")},children:"SAMPLE"})}),(0,h.jsx)(oA,{children:(0,h.jsx)(lA,{className:IT()({active:i("opqrst")}),onClick:function(){return r("opqrst")},children:"OPQRST"})})]}),(0,h.jsxs)(pA,{activeTab:t,children:[(0,h.jsx)(yA,{tabId:"interventionsStatus",children:(0,h.jsx)(AA,{})}),(0,h.jsx)(yA,{tabId:"vitals",children:(0,h.jsx)(RA,{})}),(0,h.jsx)(yA,{tabId:"sample",children:(0,h.jsx)(PA,{})}),(0,h.jsx)(yA,{tabId:"opqrst",children:(0,h.jsx)(OA,{})})]})]})},LA=function(){var e=(0,a.UO)(),n=e.phaseID,r=e.subPhaseID,i=kT(),o=i.scenario,u=i.currPhase,s=i.setCurrPhase,c=i.setCurrSubPhase,l=i.setCurrIntv,d=i.setCurrIntvCat,p=i.setShowIntvSelection,v=f((0,t.useState)(null),2),m=v[0],y=v[1];return(0,t.useEffect)((function(){s(n),c(r||null),l(null),d(""),p(!0);var e=o.phaseData.find((function(e){return e.id===n}));if(e.subPhases&&r){var t=e.subPhases.find((function(e){return e.id===r}));y(t)}else y(e)}),[n,r]),u?(0,h.jsx)(pS,{top:(0,h.jsx)(XS,{section:m}),bottom:(0,h.jsx)(JS,{title:"Patient Status",collapsable:!0,scrollBody:!0,children:(0,h.jsx)(DA,{})})}):(0,h.jsx)("div",{children:"phase not set yet"})},MA=["expand","className","cssModule","light","dark","fixed","sticky","color","tag"],FA={light:xT().bool,dark:xT().bool,full:xT().bool,fixed:xT().string,sticky:xT().string,color:xT().string,role:xT().string,tag:PT,className:xT().string,cssModule:xT().object,expand:xT().oneOfType([xT().bool,xT().string])},UA=function(e){var n,r=e.expand,i=e.className,a=e.cssModule,o=e.light,u=e.dark,s=e.fixed,c=e.sticky,l=e.color,f=e.tag,h=(0,Y_.Z)(e,MA),d=ST(IT()(i,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)}(r),((n={"navbar-light":o,"navbar-dark":u})["bg-"+l]=l,n["fixed-"+s]=s,n["sticky-"+c]=c,n)),a);return t.createElement(f,(0,bT.Z)({},h,{className:d}))};UA.propTypes=FA,UA.defaultProps={tag:"nav",expand:!1};var jA=UA,VA=["className","cssModule","active","tag"],BA={tag:PT,className:xT().string,cssModule:xT().object},qA=function(e){var n=e.className,r=e.cssModule,i=(e.active,e.tag),a=(0,Y_.Z)(e,VA),o=ST(IT()(n,"navbar-text"),r);return t.createElement(i,(0,bT.Z)({},a,{className:o}))};qA.propTypes=BA,qA.defaultProps={tag:"span"};var zA=qA,KA=n(2193),QA=n.n(KA),WA=QA()(),GA=QA()(),HA=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return y(x(x(t=e.call.apply(e,[this].concat(r))||this)),"referenceNode",void 0),y(x(x(t)),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}(0,vS.Z)(n,e);var r=n.prototype;return r.componentWillUnmount=function(){this.referenceNode=null},r.render=function(){return t.createElement(WA.Provider,{value:this.referenceNode},t.createElement(GA.Provider,{value:this.setReferenceNode},this.props.children))},n}(t.Component),YA=t.createContext({}),ZA=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","addonType","tag","menuRole"],JA={a11y:xT().bool,disabled:xT().bool,direction:xT().oneOf(["up","down","left","right"]),group:xT().bool,isOpen:xT().bool,nav:xT().bool,active:xT().bool,addonType:xT().oneOfType([xT().bool,xT().oneOf(["prepend","append"])]),size:xT().string,tag:PT,toggle:xT().func,children:xT().node,className:xT().string,cssModule:xT().object,inNavbar:xT().bool,setActiveFromChild:xT().bool,menuRole:xT().oneOf(["listbox","menu"])},XA=[BT.space,BT.enter,BT.up,BT.down,BT.end,BT.home],$A=function(e){function n(n){var r;return(r=e.call(this,n)||this).addEvents=r.addEvents.bind(x(r)),r.handleDocumentClick=r.handleDocumentClick.bind(x(r)),r.handleKeyDown=r.handleKeyDown.bind(x(r)),r.removeEvents=r.removeEvents.bind(x(r)),r.toggle=r.toggle.bind(x(r)),r.handleMenuRef=r.handleMenuRef.bind(x(r)),r.containerRef=t.createRef(),r.menuRef=t.createRef(),r}(0,vS.Z)(n,e);var r=n.prototype;return r.handleMenuRef=function(e){this.menuRef.current=e},r.getContextValue=function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,menuRole:this.props.menuRole}},r.componentDidMount=function(){this.handleProps()},r.componentDidUpdate=function(e){this.props.isOpen!==e.isOpen&&this.handleProps()},r.componentWillUnmount=function(){this.removeEvents()},r.getContainer=function(){return this.containerRef.current},r.getMenu=function(){return this.menuRef.current},r.getMenuCtrl=function(){return this._$menuCtrl||(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]")),this._$menuCtrl},r.getItemType=function(){return"listbox"===this.context.menuRole?"option":"menuitem"},r.getMenuItems=function(){var e=this.getMenu()||this.getContainer();return[].slice.call(e.querySelectorAll('[role="'+this.getItemType()+'"]'))},r.addEvents=function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))},r.removeEvents=function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))},r.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===BT.tab)){var t=this.getContainer(),n=this.getMenu(),r=t.contains(e.target)&&t!==e.target,i=n&&n.contains(e.target)&&n!==e.target;(!r&&!i||"keyup"===e.type&&e.which!==BT.tab)&&this.toggle(e)}},r.handleKeyDown=function(e){var t=this,n="menuitem"===e.target.getAttribute("role")||"option"===e.target.getAttribute("role"),r=this.getMenuCtrl()===e.target,i=BT.tab===e.which;if(!(/input|textarea/i.test(e.target.tagName)||i&&!this.props.a11y||i&&!n&&!r)&&((-1!==XA.indexOf(e.which)||e.which>=48&&e.which<=90)&&e.preventDefault(),!this.props.disabled&&(r&&([BT.space,BT.enter,BT.up,BT.down].indexOf(e.which)>-1?(this.props.isOpen||this.toggle(e),setTimeout((function(){return t.getMenuItems()[0].focus()}))):this.props.isOpen&&i?(e.preventDefault(),this.getMenuItems()[0].focus()):this.props.isOpen&&e.which===BT.esc&&this.toggle(e)),this.props.isOpen&&n)))if([BT.tab,BT.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([BT.space,BT.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([BT.down,BT.up].indexOf(e.which)>-1||[BT.n,BT.p].indexOf(e.which)>-1&&e.ctrlKey){var a=this.getMenuItems(),o=a.indexOf(e.target);BT.up===e.which||BT.p===e.which&&e.ctrlKey?o=0!==o?o-1:a.length-1:(BT.down===e.which||BT.n===e.which&&e.ctrlKey)&&(o=o===a.length-1?0:o+1),a[o].focus()}else if(BT.end===e.which){var u=this.getMenuItems();u[u.length-1].focus()}else if(BT.home===e.which){this.getMenuItems()[0].focus()}else if(e.which>=48&&e.which<=90)for(var s=this.getMenuItems(),c=String.fromCharCode(e.which).toLowerCase(),l=0;l<s.length;l+=1){if((s[l].textContent&&s[l].textContent[0].toLowerCase())===c){s[l].focus();break}}},r.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},r.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},r.render=function(){var e,n,r=AT(this.props,["toggle","disabled","inNavbar","a11y"]),i=r.className,a=r.cssModule,o=r.direction,u=r.isOpen,s=r.group,c=r.size,l=r.nav,f=r.setActiveFromChild,h=r.active,d=r.addonType,p=r.tag,v=(r.menuRole,(0,Y_.Z)(r,ZA)),m=p||(l?"li":"div"),y=!1;f&&t.Children.map(this.props.children[1].props.children,(function(e){e&&e.props.active&&(y=!0)}));var g=ST(IT()(i,"down"!==o&&"drop"+o,!(!l||!h)&&"active",!(!f||!y)&&"active",((e={})["input-group-"+d]=d,e["btn-group"]=s,e["btn-group-"+c]=!!c,e.dropdown=!s&&!d,e.show=u,e["nav-item"]=l,e)),a);return t.createElement(YA.Provider,{value:this.getContextValue()},t.createElement(HA,null,t.createElement(m,(0,bT.Z)({},v,((n={})["string"===typeof m?"ref":"innerRef"]=this.containerRef,n),{onKeyDown:this.handleKeyDown,className:g}))))},n}(t.Component);$A.propTypes=JA,$A.defaultProps={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1};var eN=$A,tN=n(7256),nN=n.n(tN),rN=function(e){return Array.isArray(e)?e[0]:e},iN=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},aN=function(e,t){if("function"===typeof e)return iN(e,t);null!=e&&(e.current=t)},oN=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return y(x(x(t=e.call.apply(e,[this].concat(r))||this)),"refHandler",(function(e){aN(t.props.innerRef,e),iN(t.props.setReferenceNode,e)})),t}(0,vS.Z)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){aN(this.props.innerRef,null)},n.render=function(){return nN()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),rN(this.props.children)({ref:this.refHandler})},t}(t.Component);function uN(e){return t.createElement(GA.Consumer,null,(function(n){return t.createElement(oN,(0,bT.Z)({setReferenceNode:n},e))}))}var sN=["className","color","cssModule","caret","split","nav","tag","innerRef"],cN={caret:xT().bool,color:xT().string,children:xT().node,className:xT().string,cssModule:xT().object,disabled:xT().bool,onClick:xT().func,"aria-haspopup":xT().bool,split:xT().bool,tag:PT,nav:xT().bool},lN=function(e){function n(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(x(n)),n}(0,vS.Z)(n,e);var r=n.prototype;return r.onClick=function(e){this.props.disabled||this.context.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))},r.getRole=function(){return this.context.menuRole||this.props["aria-haspopup"]},r.render=function(){var e,n=this,r=this.props,i=r.className,a=r.color,o=r.cssModule,u=r.caret,s=r.split,c=r.nav,l=r.tag,f=r.innerRef,h=(0,Y_.Z)(r,sN),d=h["aria-label"]||"Toggle Dropdown",p=ST(IT()(i,{"dropdown-toggle":u||s,"dropdown-toggle-split":s,"nav-link":c}),o),v="undefined"!==typeof h.children?h.children:t.createElement("span",{className:"sr-only"},d);return c&&!l?(e="a",h.href="#"):l?e=l:(e=wA,h.color=a,h.cssModule=o),this.context.inNavbar?t.createElement(e,(0,bT.Z)({},h,{className:p,onClick:this.onClick,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:v})):t.createElement(uN,{innerRef:f},(function(r){var i,a=r.ref;return t.createElement(e,(0,bT.Z)({},h,((i={})["string"===typeof e?"ref":"innerRef"]=a,i),{className:p,onClick:n.onClick,"aria-expanded":n.context.isOpen,"aria-haspopup":n.getRole(),children:v}))}))},n}(t.Component);lN.propTypes=cN,lN.defaultProps={color:"secondary","aria-haspopup":!0},lN.contextType=YA;var fN=lN,hN=n(5921),dN=n.n(hN),pN="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,vN=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(pN&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var mN=pN&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),vN))}};function yN(e){return e&&"[object Function]"==={}.toString.call(e)}function gN(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function kN(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function bN(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=gN(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:bN(kN(e))}function wN(e){return e&&e.referenceNode?e.referenceNode:e}var xN=pN&&!(!window.MSInputMethodContext||!document.documentMode),EN=pN&&/MSIE 10/.test(navigator.userAgent);function IN(e){return 11===e?xN:10===e?EN:xN||EN}function _N(e){if(!e)return document.documentElement;for(var t=IN(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===gN(n,"position")?_N(n):n:e?e.ownerDocument.documentElement:document.documentElement}function TN(e){return null!==e.parentNode?TN(e.parentNode):e}function SN(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||_N(e.firstElementChild)===e)}(o)?o:_N(o);var u=TN(e);return u.host?SN(u.host,t):SN(e,TN(t).host)}function AN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function NN(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=AN(t,"top"),i=AN(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function CN(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function ON(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],IN(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function PN(e){var t=e.body,n=e.documentElement,r=IN(10)&&getComputedStyle(n);return{height:ON("Height",t,n,r),width:ON("Width",t,n,r)}}var RN=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},DN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),LN=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},MN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function FN(e){return MN({},e,{right:e.left+e.width,bottom:e.top+e.height})}function UN(e){var t={};try{if(IN(10)){t=e.getBoundingClientRect();var n=AN(e,"top"),r=AN(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(f){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?PN(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,u=a.height||e.clientHeight||i.height,s=e.offsetWidth-o,c=e.offsetHeight-u;if(s||c){var l=gN(e);s-=CN(l,"x"),c-=CN(l,"y"),i.width-=s,i.height-=c}return FN(i)}function jN(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=IN(10),i="HTML"===t.nodeName,a=UN(e),o=UN(t),u=bN(e),s=gN(t),c=parseFloat(s.borderTopWidth),l=parseFloat(s.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=FN({top:a.top-o.top-c,left:a.left-o.left-l,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var h=parseFloat(s.marginTop),d=parseFloat(s.marginLeft);f.top-=c-h,f.bottom-=c-h,f.left-=l-d,f.right-=l-d,f.marginTop=h,f.marginLeft=d}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(f=NN(f,t)),f}function VN(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=jN(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:AN(n),u=t?0:AN(n,"left"),s={top:o-r.top+r.marginTop,left:u-r.left+r.marginLeft,width:i,height:a};return FN(s)}function BN(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===gN(e,"position"))return!0;var n=kN(e);return!!n&&BN(n)}function qN(e){if(!e||!e.parentElement||IN())return document.documentElement;for(var t=e.parentElement;t&&"none"===gN(t,"transform");)t=t.parentElement;return t||document.documentElement}function zN(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?qN(e):SN(e,wN(t));if("viewport"===r)a=VN(o,i);else{var u=void 0;"scrollParent"===r?"BODY"===(u=bN(kN(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===r?e.ownerDocument.documentElement:r;var s=jN(u,o,i);if("HTML"!==u.nodeName||BN(o))a=s;else{var c=PN(e.ownerDocument),l=c.height,f=c.width;a.top+=s.top-s.marginTop,a.bottom=l+s.top,a.left+=s.left-s.marginLeft,a.right=f+s.left}}var h="number"===typeof(n=n||0);return a.left+=h?n:n.left||0,a.top+=h?n:n.top||0,a.right-=h?n:n.right||0,a.bottom-=h?n:n.bottom||0,a}function KN(e){return e.width*e.height}function QN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=zN(n,r,a,i),u={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},s=Object.keys(u).map((function(e){return MN({key:e},u[e],{area:KN(u[e])})})).sort((function(e,t){return t.area-e.area})),c=s.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:s[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function WN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?qN(t):SN(t,wN(n));return jN(n,i,r)}function GN(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function HN(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function YN(e,t,n){n=n.split("-")[0];var r=GN(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",u=a?"left":"top",s=a?"height":"width",c=a?"width":"height";return i[o]=t[o]+t[s]/2-r[s]/2,i[u]=n===u?t[u]-r[c]:t[HN(u)],i}function ZN(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function JN(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=ZN(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&yN(n)&&(t.offsets.popper=FN(t.offsets.popper),t.offsets.reference=FN(t.offsets.reference),t=n(t,e))})),t}function XN(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=WN(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=QN(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=YN(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=JN(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function $N(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function eC(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function tC(){return this.state.isDestroyed=!0,$N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[eC("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function nC(e){var t=e.ownerDocument;return t?t.defaultView:window}function rC(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||rC(bN(a.parentNode),t,n,r),r.push(a)}function iC(e,t,n,r){n.updateBound=r,nC(e).addEventListener("resize",n.updateBound,{passive:!0});var i=bN(e);return rC(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function aC(){this.state.eventsEnabled||(this.state=iC(this.reference,this.options,this.state,this.scheduleUpdate))}function oC(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,nC(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function uC(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function sC(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&uC(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var cC=pN&&/Firefox/i.test(navigator.userAgent);function lC(e,t,n){var r=ZN(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var fC=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],hC=fC.slice(3);function dC(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=hC.indexOf(e),r=hC.slice(n+1).concat(hC.slice(0,n));return t?r.reverse():r}var pC="flip",vC="clockwise",mC="counterclockwise";function yC(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),u=o.indexOf(ZN(o,(function(e){return-1!==e.search(/,|\s/)})));o[u]&&-1===o[u].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,c=-1!==u?[o.slice(0,u).concat([o[u].split(s)[0]]),[o[u].split(s)[1]].concat(o.slice(u+1))]:[o];return c=c.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){return FN("%p"===o?n:r)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){uC(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var gC={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,u=-1!==["bottom","top"].indexOf(n),s=u?"left":"top",c=u?"width":"height",l={start:LN({},s,a[s]),end:LN({},s,a[s]+a[c]-o[c])};e.offsets.popper=MN({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,u=r.split("-")[0],s=void 0;return s=uC(+n)?[+n,0]:yC(n,a,o,u),"left"===u?(a.top+=s[0],a.left-=s[1]):"right"===u?(a.top+=s[0],a.left+=s[1]):"top"===u?(a.left+=s[0],a.top-=s[1]):"bottom"===u&&(a.left+=s[0],a.top+=s[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||_N(e.instance.popper);e.instance.reference===n&&(n=_N(n));var r=eC("transform"),i=e.instance.popper.style,a=i.top,o=i.left,u=i[r];i.top="",i.left="",i[r]="";var s=zN(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=u,t.boundaries=s;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<s[e]&&!t.escapeWithReference&&(n=Math.max(l[e],s[e])),LN({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>s[e]&&!t.escapeWithReference&&(r=Math.min(l[n],s[e]-("right"===e?l.width:l.height))),LN({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=MN({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),u=o?"right":"bottom",s=o?"left":"top",c=o?"width":"height";return n[u]<a(r[s])&&(e.offsets.popper[s]=a(r[s])-n[c]),n[s]>a(r[u])&&(e.offsets.popper[s]=a(r[u])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!lC(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,u=a.reference,s=-1!==["left","right"].indexOf(i),c=s?"height":"width",l=s?"Top":"Left",f=l.toLowerCase(),h=s?"left":"top",d=s?"bottom":"right",p=GN(r)[c];u[d]-p<o[f]&&(e.offsets.popper[f]-=o[f]-(u[d]-p)),u[f]+p>o[d]&&(e.offsets.popper[f]+=u[f]+p-o[d]),e.offsets.popper=FN(e.offsets.popper);var v=u[f]+u[c]/2-p/2,m=gN(e.instance.popper),y=parseFloat(m["margin"+l]),g=parseFloat(m["border"+l+"Width"]),k=v-e.offsets.popper[f]-y-g;return k=Math.max(Math.min(o[c]-p,k),0),e.arrowElement=r,e.offsets.arrow=(LN(n={},f,Math.round(k)),LN(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if($N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=zN(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=HN(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case pC:o=[r,i];break;case vC:o=dC(r);break;case mC:o=dC(r,!0);break;default:o=t.behavior}return o.forEach((function(u,s){if(r!==u||o.length===s+1)return e;r=e.placement.split("-")[0],i=HN(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,h="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),d=f(c.left)<f(n.left),p=f(c.right)>f(n.right),v=f(c.top)<f(n.top),m=f(c.bottom)>f(n.bottom),y="left"===r&&d||"right"===r&&p||"top"===r&&v||"bottom"===r&&m,g=-1!==["top","bottom"].indexOf(r),k=!!t.flipVariations&&(g&&"start"===a&&d||g&&"end"===a&&p||!g&&"start"===a&&v||!g&&"end"===a&&m),b=!!t.flipVariationsByContent&&(g&&"start"===a&&p||g&&"end"===a&&d||!g&&"start"===a&&m||!g&&"end"===a&&v),w=k||b;(h||y||w)&&(e.flipped=!0,(h||y)&&(r=o[s+1]),w&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=MN({},e.offsets.popper,YN(e.instance.popper,e.offsets.reference,e.placement)),e=JN(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),u=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(u?i[o?"width":"height"]:0),e.placement=HN(t),e.offsets.popper=FN(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!lC(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=ZN(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=ZN(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,u=_N(e.instance.popper),s=UN(u),c={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,u=function(e){return e},s=a(i.width),c=a(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),h=t?l||f||s%2===c%2?a:o:u,d=t?a:u;return{left:h(s%2===1&&c%2===1&&!f&&t?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:h(r.right)}}(e,window.devicePixelRatio<2||!cC),f="bottom"===n?"top":"bottom",h="right"===r?"left":"right",d=eC("transform"),p=void 0,v=void 0;if(v="bottom"===f?"HTML"===u.nodeName?-u.clientHeight+l.bottom:-s.height+l.bottom:l.top,p="right"===h?"HTML"===u.nodeName?-u.clientWidth+l.right:-s.width+l.right:l.left,o&&d)c[d]="translate3d("+p+"px, "+v+"px, 0)",c[f]=0,c[h]=0,c.willChange="transform";else{var m="bottom"===f?-1:1,y="right"===h?-1:1;c[f]=v*m,c[h]=p*y,c.willChange=f+", "+h}var g={"x-placement":e.placement};return e.attributes=MN({},g,e.attributes),e.styles=MN({},c,e.styles),e.arrowStyles=MN({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return sC(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&sC(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=WN(i,t,e,n.positionFixed),o=QN(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),sC(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},kC={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:gC},bC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};RN(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=mN(this.update.bind(this)),this.options=MN({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(MN({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=MN({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return MN({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&yN(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return DN(e,[{key:"update",value:function(){return XN.call(this)}},{key:"destroy",value:function(){return tC.call(this)}},{key:"enableEventListeners",value:function(){return aC.call(this)}},{key:"disableEventListeners",value:function(){return oC.call(this)}}]),e}();bC.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,bC.placements=fC,bC.Defaults=kC;var wC=bC,xC={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},EC={},IC=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return y(x(x(t=e.call.apply(e,[this].concat(r))||this)),"state",{data:void 0,placement:void 0}),y(x(x(t)),"popperInstance",void 0),y(x(x(t)),"popperNode",null),y(x(x(t)),"arrowNode",null),y(x(x(t)),"setPopperNode",(function(e){e&&t.popperNode!==e&&(aN(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),y(x(x(t)),"setArrowNode",(function(e){t.arrowNode=e})),y(x(x(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),y(x(x(t)),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:(0,bT.Z)({},t.props.modifiers,{arrow:(0,bT.Z)({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),y(x(x(t)),"getPopperStyle",(function(){return t.popperNode&&t.state.data?(0,bT.Z)({position:t.state.data.offsets.popper.position},t.state.data.styles):xC})),y(x(x(t)),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),y(x(x(t)),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:EC})),y(x(x(t)),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),y(x(x(t)),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),y(x(x(t)),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=x(x(t)).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new wC(n,e,t.getOptions()))})),y(x(x(t)),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}(0,vS.Z)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&dN()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){aN(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return rN(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(t.Component);y(IC,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});wC.placements;function _C(e){var n=e.referenceElement,r=(0,Y_.Z)(e,["referenceElement"]);return t.createElement(WA.Consumer,null,(function(e){return t.createElement(IC,(0,bT.Z)({referenceElement:void 0!==n?n:e},r))}))}var TC=["className","cssModule","right","tag","flip","modifiers","persist","positionFixed","container"];function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SC(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NC={tag:PT,children:xT().node.isRequired,right:xT().bool,flip:xT().bool,modifiers:xT().object,className:xT().string,cssModule:xT().object,persist:xT().bool,positionFixed:xT().bool,container:OT},CC={flip:{enabled:!1}},OC={up:"top",left:"left",right:"right",down:"bottom"},PC=function(e){function n(){return e.apply(this,arguments)||this}(0,vS.Z)(n,e);var i=n.prototype;return i.getRole=function(){return"listbox"===this.context.menuRole?"listbox":"menu"},i.render=function(){var e=this,n=this.props,i=n.className,a=n.cssModule,o=n.right,u=n.tag,s=n.flip,c=n.modifiers,l=n.persist,f=n.positionFixed,h=n.container,d=(0,Y_.Z)(n,TC),p=ST(IT()(i,"dropdown-menu",{"dropdown-menu-right":o,show:this.context.isOpen}),a),v=u;if(l||this.context.isOpen&&!this.context.inNavbar){var m=(OC[this.context.direction]||"bottom")+"-"+(o?"end":"start"),y=s?c:AC(AC({},c),CC),g=!!f,k=t.createElement(_C,{placement:m,modifiers:y,positionFixed:g},(function(n){var r=n.ref,i=n.style,a=n.placement,o=AC(AC({},e.props.style),i);return t.createElement(v,(0,bT.Z)({tabIndex:"-1",role:e.getRole(),ref:function(t){r(t);var n=e.context.onMenuRef;n&&n(t)}},d,{style:o,"aria-hidden":!e.context.isOpen,className:p,"x-placement":a}))}));return h?r.createPortal(k,GT(h)):k}return t.createElement(v,(0,bT.Z)({tabIndex:"-1",role:this.getRole()},d,{"aria-hidden":!this.context.isOpen,className:p,"x-placement":d.placement}))},n}(t.Component);PC.propTypes=NC,PC.defaultProps={tag:"div",flip:!0},PC.contextType=YA;var RC=PC,DC=["className","cssModule","divider","tag","header","active","text"],LC={children:xT().node,active:xT().bool,disabled:xT().bool,divider:xT().bool,tag:PT,header:xT().bool,onClick:xT().func,className:xT().string,cssModule:xT().object,toggle:xT().bool,text:xT().bool},MC=function(e){function n(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(x(n)),n.getTabIndex=n.getTabIndex.bind(x(n)),n}(0,vS.Z)(n,e);var r=n.prototype;return r.getRole=function(){return"listbox"===this.context.menuRole?"option":"menuitem"},r.onClick=function(e){var t=this.props,n=t.disabled,r=t.header,i=t.divider,a=t.text;n||r||i||a?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))},r.getTabIndex=function(){var e=this.props,t=e.disabled,n=e.header,r=e.divider,i=e.text;return t||n||r||i?"-1":"0"},r.render=function(){var e=this.getTabIndex(),n=e>-1?this.getRole():void 0,r=AT(this.props,["toggle"]),i=r.className,a=r.cssModule,o=r.divider,u=r.tag,s=r.header,c=r.active,l=r.text,f=(0,Y_.Z)(r,DC),h=ST(IT()(i,{disabled:f.disabled,"dropdown-item":!o&&!s&&!l,active:c,"dropdown-header":s,"dropdown-divider":o,"dropdown-item-text":l}),a);return"button"===u&&(s?u="h6":o?u="div":f.href?u="a":l&&(u="span")),t.createElement(u,(0,bT.Z)({type:"button"===u&&(f.onClick||this.props.toggle)?"button":void 0},f,{tabIndex:e,role:n,className:h,onClick:this.onClick}))},n}(t.Component);MC.propTypes=LC,MC.defaultProps={tag:"button",toggle:!0},MC.contextType=YA;var FC=MC,UC=function(e){var t=e.dark,n=void 0===t||t;return(0,h.jsx)("i",{className:"bi-person-circle",style:{fontSize:"1.5rem",color:n?"black":"white"}})},jC=function(e){var n=e.show,r=(0,t.useContext)(o.AuthContext),i=r.userName,a=r.signOutUser,u=m().displayPrefsForm,s=f((0,t.useState)(!1),2),c=s[0],l=s[1];return n?(0,h.jsxs)(eN,{nav:!0,inNavbar:!0,isOpen:c,direction:"down",toggle:function(){return l(!c)},children:[(0,h.jsx)(fN,{nav:!0,caret:!0,children:(0,h.jsx)(UC,{dark:"true"})}),(0,h.jsxs)(RC,{children:[(0,h.jsx)(FC,{disabled:!0,children:i}),(0,h.jsx)(FC,{divider:!0}),(0,h.jsx)(FC,{onClick:u,children:"Preferences"}),(0,h.jsx)(FC,{divider:!0}),(0,h.jsx)(FC,{onClick:a,children:"Sign Out"})]})]}):(0,h.jsx)("span",{})},VC=function(e){var n=e.title,r=e.leftNav,a=void 0===r?null:r,u=e.rightNav,s=void 0===u?null:u,c=(0,t.useContext)(o.AuthContext).isAuthenticated;return(0,h.jsxs)(jA,{children:[(0,h.jsx)(zA,{className:"brand-wrapper",children:(0,h.jsx)(i.NavLink,{to:"/",className:"brand",children:"MedDBriefer"})}),!!a&&(0,h.jsx)(nA,{children:a}),!!n&&(0,h.jsxs)(zA,{className:"mr-auto mdb-title",children:["  ",n," "]}),(0,h.jsx)(nA,{children:!!s&&s}),(0,h.jsx)(nA,{children:(0,h.jsx)(jC,{show:c})})]})},BC=function(){var e=(0,t.useContext)(mT).displayFindings;return(0,h.jsx)(wA,{outline:!0,size:"sm",color:"primary",onClick:e,children:"Patient Status"})},qC=function(){var e=(0,t.useContext)(mT).setShowScenarioComplete;return(0,h.jsx)(wA,{size:"sm",color:"danger",onClick:function(){return e(!0)},className:"navbar-btn",children:"Save"})},zC=function(){var e=(0,t.useContext)(mT).setPaused;return(0,h.jsx)(wA,{size:"sm",color:"primary",onClick:function(){return e(!0)},className:"navbar-btn",children:"Info"})},KC=function(){var e=kT(),t=e.started,n=e.paused,r=e.timers.find((function(e){return"scenario"===e.id}));return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(zA,{className:IT()("time-remaining",r.expired?"text-danger":t&&!n?"text-success":n||!t?"":void 0),children:dT(r.timeRemaining)})})},QC={children:xT().node.isRequired,node:xT().any},WC=function(e){function t(){return e.apply(this,arguments)||this}(0,vS.Z)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},n.render=function(){return qT?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),r.createPortal(this.props.children,this.props.node||this.defaultNode)):null},t}(t.Component);WC.propTypes=QC;var GC=WC,HC=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YC(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JC=ZC(ZC({},mS.Transition.propTypes),{},{children:xT().oneOfType([xT().arrayOf(xT().node),xT().node]),tag:PT,baseClass:xT().string,baseClassActive:xT().string,className:xT().string,cssModule:xT().object,innerRef:xT().oneOfType([xT().object,xT().string,xT().func])}),XC=ZC(ZC({},mS.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:RT,appear:!0,enter:!0,exit:!0,in:!0});function $C(e){var n=e.tag,r=e.baseClass,i=e.baseClassActive,a=e.className,o=e.cssModule,u=e.children,s=e.innerRef,c=(0,Y_.Z)(e,HC),l=NT(c,MT),f=AT(c,MT);return t.createElement(mS.Transition,l,(function(e){var c="entered"===e,l=ST(IT()(a,r,c&&i),o);return t.createElement(n,(0,bT.Z)({className:l},f,{ref:s}),u)}))}$C.propTypes=JC,$C.defaultProps=XC;var eO=$C;function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tO(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rO(){}var iO=xT().shape(eO.propTypes),aO={isOpen:xT().bool,autoFocus:xT().bool,centered:xT().bool,scrollable:xT().bool,size:xT().string,toggle:xT().func,keyboard:xT().bool,role:xT().string,labelledBy:xT().string,backdrop:xT().oneOfType([xT().bool,xT().oneOf(["static"])]),onEnter:xT().func,onExit:xT().func,onOpened:xT().func,onClosed:xT().func,children:xT().node,className:xT().string,wrapClassName:xT().string,modalClassName:xT().string,backdropClassName:xT().string,contentClassName:xT().string,external:xT().node,fade:xT().bool,cssModule:xT().object,zIndex:xT().oneOfType([xT().number,xT().string]),backdropTransition:iO,modalTransition:iO,innerRef:xT().oneOfType([xT().object,xT().string,xT().func]),unmountOnClose:xT().bool,returnFocusAfterClose:xT().bool,container:OT,trapFocus:xT().bool},oO=Object.keys(aO),uO={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:rO,onClosed:rO,modalTransition:{timeout:LT},backdropTransition:{mountOnEnter:!0,timeout:RT},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},sO=function(e){function n(t){var n;return(n=e.call(this,t)||this)._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(x(n)),n.handleBackdropClick=n.handleBackdropClick.bind(x(n)),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(x(n)),n.handleEscape=n.handleEscape.bind(x(n)),n.handleStaticBackdropAnimation=n.handleStaticBackdropAnimation.bind(x(n)),n.handleTab=n.handleTab.bind(x(n)),n.onOpened=n.onOpened.bind(x(n)),n.onClosed=n.onClosed.bind(x(n)),n.manageFocusAfterClose=n.manageFocusAfterClose.bind(x(n)),n.clearBackdropAnimationTimeout=n.clearBackdropAnimationTimeout.bind(x(n)),n.trapFocus=n.trapFocus.bind(x(n)),n.state={isOpen:!1,showStaticBackdropAnimation:!1},n}(0,vS.Z)(n,e);var r=n.prototype;return r.componentDidMount=function(){var e=this.props,t=e.isOpen,n=e.autoFocus,r=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),r&&r(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0},r.componentDidUpdate=function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},r.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1},r.trapFocus=function(e){if(this.props.trapFocus&&this._element&&(!this._dialog||this._dialog.parentNode!==e.target)&&!(this.modalIndex<n.openCount-1)){for(var t=this.getFocusableChildren(),r=0;r<t.length;r++)if(t[r]===e.target)return;t.length>0&&(e.preventDefault(),e.stopPropagation(),t[0].focus())}},r.onOpened=function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||rO)(e,t)},r.onClosed=function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||rO)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},r.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},r.getFocusableChildren=function(){return this._element.querySelectorAll(HT.join(", "))},r.getFocusedChild=function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e},r.handleBackdropClick=function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}},r.handleTab=function(e){if(9===e.which&&!(this.modalIndex<n.openCount-1)){var t=this.getFocusableChildren(),r=t.length;if(0!==r){for(var i=this.getFocusedChild(),a=0,o=0;o<r;o+=1)if(t[o]===i){a=o;break}e.shiftKey&&0===a?(e.preventDefault(),t[r-1].focus()):e.shiftKey||a!==r-1||(e.preventDefault(),t[0].focus())}}},r.handleBackdropMouseDown=function(e){this._mouseDownElement=e.target},r.handleEscape=function(e){this.props.isOpen&&e.keyCode===BT.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))},r.handleStaticBackdropAnimation=function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){e.setState({showStaticBackdropAnimation:!1})}),100)},r.init=function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=GT(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}(),TT(),0===n.openCount&&(document.body.className=IT()(document.body.className,ST("modal-open",this.props.cssModule))),this.modalIndex=n.openCount,n.openCount+=1},r.destroy=function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},r.manageFocusAfterClose=function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}},r.close=function(){if(n.openCount<=1){var e=ST("modal-open",this.props.cssModule),t=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(t," ").trim()}this.manageFocusAfterClose(),n.openCount=Math.max(0,n.openCount-1),_T(this._originalBodyPadding)},r.renderModalDialog=function(){var e,n=this,r=AT(this.props,oO),i="modal-dialog";return t.createElement("div",(0,bT.Z)({},r,{className:ST(IT()(i,this.props.className,(e={},e["modal-"+this.props.size]=this.props.size,e["modal-dialog-centered"]=this.props.centered,e["modal-dialog-scrollable"]=this.props.scrollable,e)),this.props.cssModule),role:"document",ref:function(e){n._dialog=e}}),t.createElement("div",{className:ST(IT()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},r.render=function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var n=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=n?"none":"block";var r=this.props,i=r.wrapClassName,a=r.modalClassName,o=r.backdropClassName,u=r.cssModule,s=r.isOpen,c=r.backdrop,l=r.role,f=r.labelledBy,h=r.external,d=r.innerRef,p={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":f,role:l,tabIndex:"-1"},v=this.props.fade,m=nO(nO(nO({},eO.defaultProps),this.props.modalTransition),{},{baseClass:v?this.props.modalTransition.baseClass:"",timeout:v?this.props.modalTransition.timeout:0}),y=nO(nO(nO({},eO.defaultProps),this.props.backdropTransition),{},{baseClass:v?this.props.backdropTransition.baseClass:"",timeout:v?this.props.backdropTransition.timeout:0}),g=c&&(v?t.createElement(eO,(0,bT.Z)({},y,{in:s&&!!c,cssModule:u,className:ST(IT()("modal-backdrop",o),u)})):t.createElement("div",{className:ST(IT()("modal-backdrop","show",o),u)}));return t.createElement(GC,{node:this._element},t.createElement("div",{className:ST(i)},t.createElement(eO,(0,bT.Z)({},p,m,{in:s,onEntered:this.onOpened,onExited:this.onClosed,cssModule:u,className:ST(IT()("modal",a,this.state.showStaticBackdropAnimation&&"modal-static"),u),innerRef:d}),h,this.renderModalDialog()),g))}return null},r.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},n}(t.Component);sO.propTypes=aO,sO.defaultProps=uO,sO.openCount=0;var cO=sO,lO=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"],fO={tag:PT,wrapTag:PT,toggle:xT().func,className:xT().string,cssModule:xT().object,children:xT().node,closeAriaLabel:xT().string,charCode:xT().oneOfType([xT().string,xT().number]),close:xT().object},hO=function(e){var n,r=e.className,i=e.cssModule,a=e.children,o=e.toggle,u=e.tag,s=e.wrapTag,c=e.closeAriaLabel,l=e.charCode,f=e.close,h=(0,Y_.Z)(e,lO),d=ST(IT()(r,"modal-header"),i);if(!f&&o){var p="number"===typeof l?String.fromCharCode(l):l;n=t.createElement("button",{type:"button",onClick:o,className:ST("close",i),"aria-label":c},t.createElement("span",{"aria-hidden":"true"},p))}return t.createElement(s,(0,bT.Z)({},h,{className:d}),t.createElement(u,{className:ST("modal-title",i)},a),f||n)};hO.propTypes=fO,hO.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215};var dO=hO,pO=["className","cssModule","tag"],vO={tag:PT,className:xT().string,cssModule:xT().object},mO=function(e){var n=e.className,r=e.cssModule,i=e.tag,a=(0,Y_.Z)(e,pO),o=ST(IT()(n,"modal-body"),r);return t.createElement(i,(0,bT.Z)({},a,{className:o}))};mO.propTypes=vO,mO.defaultProps={tag:"div"};var yO=mO,gO=function(e){var t=e.title,n=e.show,r=e.dismiss,i=e.children;return(0,h.jsxs)(cO,{isOpen:n,toggle:r,size:"xl",backdrop:"static",children:[(0,h.jsx)(dO,{toggle:r,children:(0,h.jsx)("span",{className:"h2",children:t})}),(0,h.jsx)(yO,{children:i})]})},kO=function(e){var t=e.show,n=e.dismiss,r=m(),i=r.patientStatusDisplay,a=r.setPref,o=function(e){var t=e.currentTarget.name,n=e.currentTarget.value;a(t,n)};return(0,h.jsx)(gO,{title:"User Preferences",show:t,dismiss:n,children:(0,h.jsxs)("div",{className:"container",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("h3",{children:"Patient Status Display"}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["\xa0",(0,h.jsx)("input",{type:"radio",name:"patientStatusDisplay",value:"navbar",checked:"navbar"===i,onChange:o}),"\xa0 Top Nav Bar \xa0"]}),(0,h.jsxs)("label",{children:["\xa0",(0,h.jsx)("input",{type:"radio",name:"patientStatusDisplay",value:"leftColumn",checked:"leftColumn"===i,onChange:o}),"\xa0 Left Column \xa0"]})]}),(0,h.jsx)(wA,{type:"button",className:"btn btn-success",onClick:n,children:"Dismiss"})]})})},bO=function(){var e=kT(),t=e.showFindings,n=e.dismissFindings;return(0,h.jsx)(gO,{name:"Patient Status",show:t,dismiss:n,children:(0,h.jsx)(DA,{})})},wO=function(){var e=f((0,t.useState)(!1),2),n=e[0],r=e[1],i=kT(),o=i.showScenarioComplete,u=i.setShowScenarioComplete,s=i.saveScenarioToLog;return n?(0,h.jsx)(a.l_,{to:"/"}):(0,h.jsx)(gO,{title:"Scenario Complete",show:o,children:(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)("p",{className:"text-danger",children:"WARNING: Submitting the scenario won't allow you to work on it any more."}),(0,h.jsx)("p",{children:"Click 'cancel' if you wish to working on this scenario."})]})}),(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.label;s(t.value),u(!1),r(!0)},children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("label",{htmlFor:"label",className:"col-sm-2 col-form-label",children:"Label"}),(0,h.jsx)("input",{className:"col-sm-10 form-control",type:"text",id:"label",defaultValue:"",placeholder:"enter video name (if applicable)"})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-12",children:[(0,h.jsx)(wA,{type:"submit",color:"danger",size:"lg",children:" Submit Scenario Data"}),(0,h.jsx)(wA,{color:"success",size:"lg",onClick:function(){return u(!1)},children:" Cancel "})]})})]})]})})},xO=function(){var e=(0,t.useContext)(mT),n=e.scenario,r=e.timers,i=e.started,a=e.paused,o=e.setStarted,u=e.setPaused,s=f((0,t.useState)(!i||a),2),c=s[0],l=s[1];return(0,t.useEffect)((function(){l(!i||a)}),[i,a]),(0,h.jsx)(gO,{name:"Scenario Info",show:c,children:(0,h.jsxs)("div",{className:"container-fluid",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-6",children:[(0,h.jsx)("h3",{children:"Instructor Information"}),(0,h.jsx)("p",{children:n.info.instructorInformation})]}),(0,h.jsxs)("div",{className:"col-6",children:[(0,h.jsx)("h3",{children:"Patient Information"}),(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{children:[(0,h.jsx)("b",{children:"Moulage:"})," ",n.info.patientInformation.moulage]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("b",{children:"Position:"})," ",n.info.patientInformation.position]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("b",{children:"Actions:"})," ",n.info.patientInformation.actions]})]})]})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-6",children:[(0,h.jsx)("h3",{children:"Dispatch Information"}),(0,h.jsx)("p",{children:n.info.dispatchInfo})]}),(0,h.jsxs)("div",{className:"col-6",children:[(0,h.jsx)("h3",{children:"Scene Assessment"}),(0,h.jsx)("p",{children:n.info.sceneAssessment})]})]}),(0,h.jsx)("div",{className:"row justify-content-md-center",children:(0,h.jsxs)(_A,{size:"sm",striped:!0,children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Timer"}),(0,h.jsx)("th",{children:"Duration"}),(0,h.jsx)("th",{children:"Time Remaining"}),(0,h.jsx)("th",{children:"Expired"})]})}),(0,h.jsx)("tbody",{children:r.map((function(e){return(0,h.jsxs)("tr",{className:"h4",children:[(0,h.jsx)("td",{children:e.id}),(0,h.jsx)("td",{children:dT(e.duration)}),(0,h.jsx)("td",{children:dT(e.timeRemaining)}),(0,h.jsx)("td",{children:"".concat(e.expired)})]},e.id)}))})]})}),(0,h.jsx)("div",{className:"row justify-content-md-center",children:i?(0,h.jsx)(wA,{color:"success",size:"lg",onClick:function(){return u(!1)},children:" Resume Scenario "}):(0,h.jsx)(wA,{color:"success",size:"lg",onClick:function(){return o(!0)},children:" Start Scenario"})})]})})},EO=function(e){var t=e.baseURL,n=(e.activeColor,e.id),r=e.label,i=e.phase,o=kT(),u=o.currPhase,s=o.currSubPhase,c=(0,a.k6)();return(0,h.jsx)("div",{className:"subphase-nav",children:(0,h.jsx)("button",{id:n,style:{color:s===n|u!==i?"white":"black",backgroundColor:s===n?"black":"transparent"},onClick:function(e){c.push("".concat(t,"/").concat(i,"/").concat(n))},children:r})})},IO=function(e){var t=e.baseURL,n=e.activeColor,r=e.id,i=e.label,o=e.subPhases,u=void 0===o?[]:o,s=kT().currPhase,c=(0,a.k6)();return(0,h.jsxs)("div",{className:IT()("phase-nav",0===u.length&&"no-children"),style:{backgroundColor:s===r?n:"transparent"},children:[(0,h.jsx)("div",{className:IT()(u.length>0&&"phase-label"),children:(0,h.jsx)("button",{id:r,onClick:function(e){c.push("".concat(t,"/").concat(r))},style:{color:s===r?"black":"white"},children:i})}),u.length>0&&u.map((function(e){return(0,h.jsx)(EO,{baseURL:t,activeColor:n,id:e.id,label:e.label,phase:r},e.id)}))]})},_O=["#e5ba8eff","#c0aac8ff","#aad5d9ff","#b9ba6aff","#ebcd68ff","#a5afd9ff","#a5c4bbff","#b9ba6aff"],TO=function(){var e=kT().scenario,t=(0,a.$B)().url;return(0,h.jsx)(h.Fragment,{children:e.phaseData.filter((function(e){return e.type===W_.PHASE})).map((function(e,n){return(0,h.jsx)(IO,{baseURL:t,activeColor:_O[n],id:e.id,label:e.label,subPhases:e.subPhases},e.id)}))})},SO=function(e){var n=e.category,r=kT(),i=r.scenario,a=r.setCurrIntv,o=r.setShowIntvSelection,u=f((0,t.useState)(null),2),s=u[0],c=u[1];return(0,t.useEffect)((function(){var e=i.interventionMenus.find((function(e){return e.id===n}));e?(c(e),a(null)):(c(null),a(null))}),[n]),(0,h.jsx)("ul",{className:"interventions-outline",children:!!s&&s.items.map((function(e){return(0,h.jsx)("li",{className:IT()(["menu-depth-".concat(e.depth),"heading"===e.type?"menu-heading":"intervention"]),children:e.type===W_.INTERV?(0,h.jsx)(wA,{color:"link",size:"md",className:"intervention-btn",onClick:function(t){return function(e,t){o(!1),setTimeout((function(){return a(t.interventionID)}),500)}(0,e)},children:e.label}):(0,h.jsx)("span",{children:e.label})},"".concat(e.id,"-").concat(e.depth))}))})},AO=function(){var e=kT(),t=e.scenario,n=e.currIntvCat,r=e.setCurrIntvCat;return(0,h.jsx)(h.Fragment,{children:t.interventionMenus.map((function(e){return(0,h.jsxs)(US,{children:[(0,h.jsxs)(qS,{className:"intervention-submenu",onClick:function(){return t=e.id,void r(n===t?"":t);var t},children:[e.label," ",(0,h.jsx)(PS,{expand:e.id===n})]}),(0,h.jsx)(_S,{isOpen:n===e.id,children:(0,h.jsx)(ZS,{className:"intervention-outline-wrapper",children:(0,h.jsx)(SO,{category:e.id})})})]},e.id)}))})},NO=function(){var e=kT(),t=e.showIntvSelection,n=e.setShowIntvSelection,r=e.setCurrIntv;return(0,h.jsx)(JS,{title:"Interventions",collapsable:!0,customCollapsedState:!t,customCollapseToggler:function(){t||r(null),n(!t)},children:(0,h.jsx)(AO,{})})},CO=function(e){var t=e.id,n=e.options,r=e.isSelected,i=e.setSelected;return(0,h.jsx)("ul",{className:"checkbox-group-options",children:n.map((function(e){return(0,h.jsx)("li",{className:"prompt-option",children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"checkbox",className:"prompt-checkbox",name:t,value:e.id,checked:r(t,e.id),onChange:function(e){return function(e,t){var n=e.target,r=n.name,a=n.value,o=n.checked;i(r,a,o)}(e)}}),(n=e,n.abbrLabel?n.abbrLabel:n.label)]})},e.id);var n}))})},OO=function(e){var t=e.id,n=e.options,r=e.isSelected,i=e.setSelected;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("br",{}),(0,h.jsxs)("span",{children:[n.map((function(e){return(0,h.jsxs)("label",{className:"prompt-option",children:[(0,h.jsx)("input",{type:"radio",className:"prompt-radio-btn",name:t,value:e.id,checked:r(t,e.id),onChange:function(e){return function(e,t){var n=e.target,r=n.name,a=n.value,o=n.checked;i(r,a,o)}(e)}}),(n=e,n.abbrLabel?n.abbrLabel:n.label)]},e.id);var n})),(0,h.jsx)(wA,{color:"primary",size:"sm",outline:!0,onClick:function(){i(t,"",!0)},className:"clear-radio-btn",children:"Clear"})]})]})},PO=function(e){var t=e.id,n=e.label,r=e.abbrLabel,i=e.selectionType,a=e.answers,o=e.isSelected,u=e.setSelected;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("i",{className:"prompt-label",children:r||n}),function(){switch(i){case G_.ONE:return(0,h.jsx)(OO,{id:t,options:a,isSelected:o,setSelected:u});case G_.OOM:return(0,h.jsx)(CO,{id:t,options:a,isSelected:o,setSelected:u})}}()]})},RO=function(e){var t=e.prompts,n=e.isSelected,r=e.setSelected;return(0,h.jsx)("ul",{className:"prompt-list",children:t.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsx)(PO,Ie(Ie({},e),{},{isSelected:n,setSelected:r}))},e.id)}))})},DO=Object.freeze({DISP_NONE:1,DISP_DIST_PROMPTS:2,DISP_PROMPTS:3}),LO=function(){return(0,h.jsx)("div",{children:"There are no details which need to be recorded for this intervention."})},MO=function(e){var n=e.intvID,r=kT(),i=r.currPhase,a=r.currSubPhase,o=r.getIntvVariantHistory,u=r.getTimestamp,s=r.logIntv,c=r.scenario,l=r.setCurrIntv,d=r.setCurrIntvCat,p=r.setShowIntvSelection,v=f((0,t.useState)(null),2),m=v[0],g=v[1],k=f((0,t.useState)(DO.DISP_NONE),2),b=k[0],w=k[1],x=f((0,t.useState)(null),2),E=x[0],I=x[1],_=f((0,t.useState)(null),2),T=_[0],S=_[1],A=f((0,t.useState)(null),2),N=A[0],C=A[1],O=function(e,t,n){return e in n&&("string"===typeof n[e]?t===n[e]:n[e].includes(t))},P=function(e,t,n,r,i){if(e in r)if("string"===typeof r[e])n||(t=""),i((function(n){return Ie(Ie({},n),{},y({},e,t))}));else{var a=se(r[e]);if(n)a.push(t);else{var o=a.findIndex((function(e){return e===t}));a.splice(o,1),i((function(t){return Ie(Ie({},t),{},y({},e,a))}))}}else console.log("".concat(e," not found in forms state"))},R=function(e){var t={};return e.forEach((function(e){e.selectionType===G_.ONE?t[e.id]="":e.selectionType===G_.OOM&&(t[e.id]=[])})),t};return(0,t.useEffect)((function(){if(!m){var e=c.getInterventionForm(n);g(e),S(R(e.distPrompts)),C(R(e.prompts)),e.distPrompts.length>0?w(DO.DISP_DIST_PROMPTS):(w(DO.DISP_PROMPTS),I(JSON.stringify({})))}}),[n,m]),(0,t.useEffect)((function(){if(E){var e=o(n,E);if(e.length>0){console.log("intvVariant History",e);var t=e.slice(-1)[0];console.log("most recent",t),C(t.answers)}w(DO.DISP_PROMPTS)}}),[E]),m?(0,h.jsxs)(JS,{title:m.abbrLabel,centerTitle:!0,collapsable:!1,scrollBody:!0,children:[b===DO.DISP_DIST_PROMPTS&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(RO,{prompts:m.distPrompts,isSelected:function(e,t){return O(e,t,T)},setSelected:function(e,t,n){return P(e,t,n,T,S)}}),(0,h.jsx)(wA,{size:"sm",color:"primary",onClick:function(e){var t=function(e){return M_(e)}(T);I(t)},children:"Continue"})]}),b===DO.DISP_PROMPTS&&(0,h.jsxs)(h.Fragment,{children:[m.prompts.length>0?(0,h.jsx)(RO,{prompts:m.prompts,isSelected:function(e,t){return O(e,t,N)},setSelected:function(e,t,n){return P(e,t,n,N,C)}}):(0,h.jsx)(LO,{}),(0,h.jsx)(wA,{size:"sm",color:"primary",onClick:function(e){w(DO.DISP_NONE),s({interventionID:n,type:"intervention",intvVariant:E,timestamp:u(),answers:N,performedCorrectly:!1,system:m.system||null,phase:i,subPhase:a}),l(null),d(""),p(!0)},children:"Continue"})]})]}):(0,h.jsx)("div",{children:"processing...."})},FO=function(){var e=(0,a.$B)().path,n=m(),r=n.patientStatusDisplay,i=n.showPrefsForm,o=n.hidePrefsForm,u=kT(),s=u.currIntv,c=u.scenario,l=u.showFindings,d=u.dismissFindings,p=f((0,t.useState)(null),2),v=(p[0],p[1]),y=(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(qC,{}),(0,h.jsx)(zC,{}),"navbar"===r&&(0,h.jsx)(BC,{}),(0,h.jsx)(KC,{})]});return(0,t.useEffect)((function(){v(s?c.getInterventionForm(s):null)}),[s]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(XT,{fluid:!0,className:"main",children:(0,h.jsxs)(iS,{className:"wrapper-row",children:[(0,h.jsx)("nav",{className:"col-md-2 phase-nav-pane",children:(0,h.jsx)(TO,{})}),(0,h.jsxs)("div",{className:"col-md-10 main-region",children:[(0,h.jsx)(VC,{title:"SCENARIO: ".concat(c.name),rightNav:y,className:"dev"}),(0,h.jsxs)("main",{className:"row main-row",children:[(0,h.jsx)("div",{className:"col-md-6 phase-col",children:(0,h.jsxs)(a.rs,{children:[(0,h.jsx)(a.AW,{path:"".concat(e,"/:phaseID/:subPhaseID"),component:LA}),(0,h.jsx)(a.AW,{path:"".concat(e,"/:phaseID"),component:LA}),(0,h.jsx)(a.AW,{exact:!0,path:e,children:(0,h.jsx)("div",{})})]})}),(0,h.jsxs)("div",{className:"col-md-6 interventions-col",children:[(0,h.jsx)(NO,{}),!!s&&(0,h.jsx)(MO,{intvID:s})]})]})]})]})}),(0,h.jsx)(kO,{show:i,dismiss:o}),(0,h.jsx)(xO,{}),(0,h.jsx)(wO,{}),(0,h.jsx)(bO,{show:l,dismiss:d})]})},UO=function(){var e=(0,a.UO)().scenarioId,n=f((0,t.useState)(null),2),r=n[0],i=n[1],o=f((0,t.useState)(null),2),u=o[0],s=o[1],c=f((0,t.useState)(!1),2),l=c[0],d=c[1];return(0,t.useEffect)((function(){lT(L_,e).then((function(e){i(e);var t={vitals:e.initialVitalSigns,vitalsRecomputed:!1,checkListItems:{}};s(t),d(!0)})).catch((function(e){return console.log(e)}))}),[e]),l?(window.scenario=r,(0,h.jsx)(gT,{scenario:r,defaultValues:u,children:(0,h.jsx)(FO,{})})):(0,h.jsx)("div",{children:"Loading scenario..."})},jO=function(e){var n=f((0,t.useState)([]),2),r=n[0],a=n[1],o=f((0,t.useState)("test-content"),2),u=o[0],s=(o[1],f((0,t.useState)(!1),2)),c=(s[0],s[1]);return(0,t.useEffect)((function(){console.log("class_code",u),L_.collection("class-codes").where("name","==",u).limit(1).get().then((function(e){if(1===e.size){var t=e.docs[0].data();console.log(t),c(t.orderRequired);var n=t.assignments;a(n)}})).catch((function(e){return console.log(e)}))}),[u]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(VC,{title:"Scenario List"}),(0,h.jsx)(XT,{children:(0,h.jsxs)(iS,{children:[(0,h.jsx)(dS,{sm:"3"}),(0,h.jsxs)(dS,{sm:"6",children:[(0,h.jsx)("h2",{children:"Your Assigned Scenarios:"}),(0,h.jsx)("ul",{children:r.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsxs)(i.Link,{className:"h3",to:"/scenario/".concat(e.publishedScenarioID),children:[" ",e.name]})},e.publishedScenarioID)}))})]}),(0,h.jsx)(dS,{sm:"3"})]})})]})},VO=function(e){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(VC,{title:"MedDBriefer Authentication"}),e.children]})},BO=function(e){return(0,h.jsx)(o.AuthProvider,{children:(0,h.jsx)(v,{children:(0,h.jsx)(i.HashRouter,{children:(0,h.jsxs)(a.rs,{children:[(0,h.jsx)(o.PrivateRoute,{path:"/scenario/:scenarioId",authFlowLayout:VO,component:UO}),(0,h.jsx)(o.PrivateRoute,{exact:!0,path:"/",authFlowLayout:VO,component:jO})]})})})})};r.render((0,h.jsx)(t.StrictMode,{children:(0,h.jsx)(BO,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.f312edf3.js.map